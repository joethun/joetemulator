{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/lib/emulator.ts"],"sourcesContent":["const CDN_PATH = \"https://cdn.jsdelivr.net/gh/joethun/EmulatorJS-With-Cores/\";\n\ndeclare global {\n  interface Window {\n    gameRunning: boolean;\n    EJS_color: string;\n    EJS_backgroundColor: string;\n    EJS_player: string;\n    EJS_gameName: string;\n    EJS_gameUrl: File | string;\n    EJS_core: string;\n    EJS_pathtodata: string;\n    EJS_startOnLoaded: boolean;\n    EJS_biosUrl: string;\n    EJS_threads: boolean;\n    EJS_defaultOptions: Record<string, string>;\n    EJS_Buttons: Record<string, any>;\n    EJS_emulator?: any;\n    showSystemPicker?: (systems: Record<string, string>, callback: (core: string) => void) => void;\n    cleanupOldElements?: () => void;\n    hideMenu?: () => void;\n    createGameDisplay?: () => void;\n  }\n}\n\nif (typeof window !== 'undefined') {\n  window.gameRunning = false;\n}\n\nconst FILE_EXTENSIONS: Record<string, string> = {\n  fds: \"nes\",\n  nes: \"nes\",\n  unif: \"nes\",\n  unf: \"nes\",\n  gb: \"gb\",\n  gbc: \"gbc\",\n  gba: \"gba\",\n  smc: \"snes\",\n  sfc: \"snes\",\n  swc: \"snes\",\n  vb: \"vb\",\n  vboy: \"vb\",\n  z64: \"n64\",\n  n64: \"n64\",\n  nds: \"nds\",\n  sms: \"segaMS\",\n  md: \"segaMD\",\n  gen: \"segaMD\",\n  smd: \"segaMD\",\n  gg: \"segaGG\",\n  \"32x\": \"sega32x\",\n  cso: \"psp\",\n  pbp: \"psp\",\n  a26: \"atari2600\",\n  a52: \"atari5200\",\n  a78: \"atari7800\",\n  lnx: \"lynx\",\n  j64: \"jaguar\",\n  jag: \"jaguar\",\n  d64: \"vice_x64\",\n  t64: \"vice_x64\",\n  tap: \"vice_x64\",\n  crt: \"vice_x64\",\n  col: \"coleco\",\n  cv: \"coleco\",\n  pce: \"pce\",\n  ngp: \"ngp\",\n  ngc: \"ngp\",\n  ws: \"ws\",\n  wsc: \"ws\"\n};\n\nconst SYSTEM_PICKER: Record<string, string> = {\n  \"Nintendo NES\": \"nes\",\n  \"Nintendo GB\": \"gb\",\n  \"Nintendo SNES\": \"snes\",\n  \"Nintendo VB\": \"vb\",\n  \"Nintendo 64\": \"n64\",\n  \"Nintendo GBC\": \"gbc\",\n  \"Nintendo GBA\": \"gba\",\n  \"Nintendo DS\": \"nds\",\n  \"Sega MS\": \"segaMS\",\n  \"Sega Gen/MD\": \"segaMD\",\n  \"Sega GG\": \"segaGG\",\n  \"Sega CD\": \"segaCD\",\n  \"Sega 32X\": \"sega32x\",\n  \"Sega Saturn\": \"segaSaturn\",\n  \"Sony PS1\": \"psx\",\n  \"Sony PSP\": \"psp\",\n  \"Atari 2600\": \"atari2600\",\n  \"Atari 5200\": \"atari5200\",\n  \"Atari 7800\": \"atari7800\",\n  \"Atari Lynx\": \"lynx\",\n  \"Atari Jaguar\": \"jaguar\",\n  \"Panasonic 3DO\": \"opera\",\n  \"Arcade (FBNeo)\": \"arcade\",\n  \"Arcade (M.A.M.E)\": \"mame2003_plus\",\n  \"Microsoft DOS\": \"dosbox_pure\",\n  \"Commodore PET\": \"vice_xpet\",\n  \"Commodore VIC20\": \"vice_xvic\",\n  \"Commodore Amiga\": \"amiga\",\n  \"Commodore 64\": \"vice_x64\",\n  \"Commodore 128\": \"vice_x128\",\n  \"Commodore P/4\": \"vice_xplus4\",\n  \"ColecoVision\": \"coleco\",\n  \"NEC TurboGrafx-16\": \"pce\",\n  \"NEC PC-FX\": \"pcfx\",\n  \"SNK NGP\": \"ngp\",\n  \"Bandai WS\": \"ws\"\n};\n\nasync function detectCore(extension: string): Promise<string> {\n  if (FILE_EXTENSIONS[extension]) {\n    return FILE_EXTENSIONS[extension];\n  }\n  \n  // Fallback to NES if system picker not available\n  return new Promise((resolve) => {\n    if (typeof window !== 'undefined' && window.showSystemPicker) {\n      window.showSystemPicker(SYSTEM_PICKER, resolve);\n    } else {\n      resolve(\"nes\");\n    }\n  });\n}\n\nfunction showMenu() {\n  // Show all menu elements\n  const sidebar = document.querySelector('aside');\n  if (sidebar) {\n    (sidebar as HTMLElement).style.display = \"\";\n  }\n  \n  // Show footer\n  const footer = document.querySelector('footer');\n  if (footer) {\n    (footer as HTMLElement).style.display = \"\";\n  }\n  \n  // Show main content\n  const main = document.querySelector('main');\n  if (main) {\n    (main as HTMLElement).style.display = \"\";\n  }\n  \n  // Show header\n  const header = document.querySelector('header');\n  if (header) {\n    (header as HTMLElement).style.display = \"\";\n  }\n}\n\nfunction cleanupOldElements() {\n  const gameContainer = document.getElementById(\"game\");\n  if (gameContainer) {\n    gameContainer.innerHTML = \"\";\n    gameContainer.style.display = \"none\";\n  }\n  \n  // Remove old emulator scripts\n  const oldScripts = document.querySelectorAll('script[src*=\"loader.js\"]');\n  oldScripts.forEach(script => script.remove());\n  \n  // Restore menu visibility\n  showMenu();\n  \n  window.gameRunning = false;\n}\n\nfunction hideMenu() {\n  if (typeof document === 'undefined') return;\n  \n  // Hide all menu elements with important styles\n  const menu = document.getElementById(\"menu\");\n  if (menu) {\n    (menu as HTMLElement).style.cssText = \"display: none !important; visibility: hidden !important;\";\n  }\n  \n  // Hide sidebar\n  const sidebar = document.querySelector('aside');\n  if (sidebar) {\n    (sidebar as HTMLElement).style.cssText = \"display: none !important; visibility: hidden !important; z-index: -1 !important;\";\n  }\n  \n  // Hide footer\n  const footer = document.querySelector('footer');\n  if (footer) {\n    (footer as HTMLElement).style.cssText = \"display: none !important; visibility: hidden !important; z-index: -1 !important;\";\n  }\n  \n  // Hide main content\n  const main = document.querySelector('main');\n  if (main) {\n    (main as HTMLElement).style.cssText = \"display: none !important; visibility: hidden !important; z-index: -1 !important;\";\n  }\n  \n  // Hide header\n  const header = document.querySelector('header');\n  if (header) {\n    (header as HTMLElement).style.cssText = \"display: none !important; visibility: hidden !important; z-index: -1 !important;\";\n  }\n  \n  // Hide the root div that contains everything\n  const rootDiv = document.querySelector('div[style*=\"min-h-screen\"]');\n  if (rootDiv) {\n    (rootDiv as HTMLElement).style.cssText += \" z-index: -1 !important;\";\n  }\n}\n\nfunction createGameDisplay() {\n  if (typeof document === 'undefined') return;\n  \n  let gameContainer = document.getElementById(\"game\");\n  if (!gameContainer) {\n    gameContainer = document.createElement(\"div\");\n    gameContainer.id = \"game\";\n    (gameContainer as HTMLElement).style.cssText = `\n      width: 100%;\n      height: 100vh;\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 999999;\n      background-color: #000000;\n      overflow: hidden;\n      display: block !important;\n      visibility: visible !important;\n      opacity: 1 !important;\n    `;\n    document.body.appendChild(gameContainer);\n  } else {\n    // Clear existing content and make sure it's visible\n    gameContainer.innerHTML = \"\";\n    (gameContainer as HTMLElement).style.cssText = `\n      width: 100%;\n      height: 100vh;\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 999999;\n      background-color: #000000;\n      overflow: hidden;\n      display: block !important;\n      visibility: visible !important;\n      opacity: 1 !important;\n    `;\n  }\n  \n  // Ensure body and html don't have overflow issues\n  if (document.body) {\n    document.body.style.overflow = \"hidden\";\n  }\n  if (document.documentElement) {\n    document.documentElement.style.overflow = \"hidden\";\n  }\n}\n\nexport async function loadGame(file: File | string, coreOverride?: string): Promise<void> {\n  let fileName: string;\n  let fileExtension: string;\n  let gameName: string;\n  let gameFile: File | string;\n\n  if (file instanceof File) {\n    fileName = file.name;\n    fileExtension = fileName.split(\".\").pop()?.toLowerCase() || \"\";\n    gameName = fileName.substring(0, fileName.lastIndexOf(\".\"));\n    gameFile = file;\n  } else {\n    fileName = file;\n    fileExtension = fileName.split(\".\").pop()?.toLowerCase() || \"\";\n    gameName = fileName.substring(0, fileName.lastIndexOf(\".\"));\n    gameFile = file;\n  }\n\n  const core = coreOverride || await detectCore(fileExtension);\n  \n  cleanupOldElements();\n  hideMenu();\n  createGameDisplay();\n  if (typeof window !== 'undefined') {\n    window.gameRunning = true;\n  }\n  \n  configureEmulator(gameName, gameFile, core);\n  loadEmulatorScript();\n}\n\nfunction configureEmulator(gameName: string, gameFile: File | string, core: string) {\n  if (typeof window === 'undefined') return;\n  \n  window.EJS_color = \"#003d8c\";\n  window.EJS_backgroundColor = \"#000000\";\n  window.EJS_player = \"#game\";\n  window.EJS_gameName = gameName;\n  window.EJS_gameUrl = gameFile;\n  window.EJS_core = core;\n  window.EJS_pathtodata = CDN_PATH;\n  window.EJS_startOnLoaded = true;\n  window.EJS_biosUrl = \"\";\n  \n  const threadsEnabled = [\"psp\", \"dosbox_pure\"];\n  if (threadsEnabled.includes(core)) {\n    window.EJS_threads = true;\n  }\n\n  window.EJS_defaultOptions = {\n    \"save-save-interval\": \"60\",\n    \"desmume_advanced_timing\": \"disabled\",\n    \"webgl2Enabled\": \"enabled\",\n    ...(core === \"segaGG\" && { retroarch_core: \"genesis_plus_gx\" }),\n    ...(core === \"nds\" && { retroarch_core: \"desmume\" })\n  };\n\n  window.EJS_Buttons = {\n    exitEmulation: false,\n    cacheManager: false,\n    saveSavFiles: { visible: false },\n    loadSavFiles: { visible: false }\n  };\n}\n\nfunction loadEmulatorScript() {\n  if (typeof document === 'undefined') return;\n  \n  const script = document.createElement(\"script\");\n  script.src = `${CDN_PATH}/loader.js`;\n  script.onload = () => {\n    // Ensure game container is visible after script loads\n    setTimeout(() => {\n      const gameContainer = document.getElementById(\"game\");\n      if (gameContainer) {\n        (gameContainer as HTMLElement).style.cssText = `\n          width: 100% !important;\n          height: 100vh !important;\n          position: fixed !important;\n          top: 0 !important;\n          left: 0 !important;\n          z-index: 999999 !important;\n          background-color: #000000 !important;\n          overflow: hidden !important;\n          display: block !important;\n          visibility: visible !important;\n          opacity: 1 !important;\n        `;\n        \n        // Ensure any canvas inside is visible\n        const canvas = gameContainer.querySelector('canvas');\n        if (canvas) {\n          (canvas as HTMLElement).style.cssText = `\n            display: block !important;\n            visibility: visible !important;\n            opacity: 1 !important;\n            width: 100% !important;\n            height: 100% !important;\n          `;\n        }\n      }\n    }, 100);\n  };\n  document.body.appendChild(script);\n}\n\nexport async function saveState(): Promise<void> {\n  const emulator = window.EJS_emulator;\n  if (!emulator?.started) {\n    return;\n  }\n\n  try {\n    const state = emulator.gameManager.getState();\n    const stateFileName = `${emulator.getBaseFileName()}.state`;\n    await emulator.storage.states.put(stateFileName, state);\n    emulator.displayMessage(\"SAVED STATE TO BROWSER\");\n  } catch (error: any) {\n    console.error(\"Save failed:\", error);\n    emulator.displayMessage(`Error saving: ${error.message}`);\n  }\n}\n\nexport async function loadState(): Promise<void> {\n  const emulator = window.EJS_emulator;\n  if (!emulator?.started) {\n    return;\n  }\n\n  try {\n    const stateFileName = `${emulator.getBaseFileName()}.state`;\n    const state = await emulator.storage.states.get(stateFileName);\n    if (state) {\n      await emulator.gameManager.loadState(state);\n      emulator.displayMessage(\"LOADED STATE FROM BROWSER\");\n    } else {\n      emulator.displayMessage(\"\");\n    }\n  } catch (error: any) {\n    console.error(\"Load failed:\", error);\n    emulator.displayMessage(`Error loading: ${error.message}`);\n  }\n}\n\nexport function exitGame() {\n  cleanupOldElements();\n  const gameContainer = document.getElementById(\"game\");\n  if (gameContainer) {\n    gameContainer.style.display = \"none\";\n  }\n}\n\nexport function addEventListeners() {\n  if (typeof document === 'undefined') return;\n  \n  document.addEventListener(\"keydown\", (event) => {\n    if (event.key === \"F1\") {\n      event.preventDefault();\n      saveState();\n    } else if (event.key === \"F2\") {\n      event.preventDefault();\n      loadState();\n    } else if (event.key === \"Escape\" && window.gameRunning) {\n      event.preventDefault();\n      exitGame();\n    }\n  });\n}\n\n// Expose functions to window for global access (for EmulatorJS compatibility)\nif (typeof window !== 'undefined') {\n  (window as any).saveToBrowserStorage = saveState;\n  (window as any).loadFromBrowserStorage = loadState;\n  (window as any).loadGame = loadGame;\n  (window as any).exitGame = exitGame;\n  window.cleanupOldElements = cleanupOldElements;\n  window.hideMenu = hideMenu;\n  window.createGameDisplay = createGameDisplay;\n}\n\n// Initialize event listeners when DOM is ready\nif (typeof document !== 'undefined') {\n  if (document.readyState === 'loading') {\n    document.addEventListener(\"DOMContentLoaded\", addEventListeners);\n  } else {\n    addEventListeners();\n  }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/lib/storage.ts"],"sourcesContent":["// IndexedDB storage for large game files\n\nconst DB_NAME = 'joetemulator';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'gameFiles';\n\nlet db: IDBDatabase | null = null;\n\nfunction openDB(): Promise<IDBDatabase> {\n  return new Promise((resolve, reject) => {\n    if (typeof window === 'undefined' || !window.indexedDB) {\n      reject(new Error('IndexedDB not supported'));\n      return;\n    }\n\n    if (db) {\n      resolve(db);\n      return;\n    }\n\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\n\n    request.onerror = () => reject(request.error);\n    request.onsuccess = () => {\n      db = request.result;\n      resolve(db);\n    };\n\n    request.onupgradeneeded = (event) => {\n      const database = (event.target as IDBOpenDBRequest).result;\n      if (!database.objectStoreNames.contains(STORE_NAME)) {\n        database.createObjectStore(STORE_NAME);\n      }\n    };\n  });\n}\n\nexport async function saveGameFile(gameId: number, file: File): Promise<void> {\n  const database = await openDB();\n  return new Promise((resolve, reject) => {\n    const transaction = database.transaction([STORE_NAME], 'readwrite');\n    const store = transaction.objectStore(STORE_NAME);\n    const request = store.put(file, gameId);\n    \n    request.onerror = () => reject(request.error);\n    request.onsuccess = () => resolve();\n  });\n}\n\nexport async function getGameFile(gameId: number): Promise<File | null> {\n  const database = await openDB();\n  return new Promise((resolve, reject) => {\n    const transaction = database.transaction([STORE_NAME], 'readonly');\n    const store = transaction.objectStore(STORE_NAME);\n    const request = store.get(gameId);\n    \n    request.onerror = () => reject(request.error);\n    request.onsuccess = () => {\n      resolve(request.result || null);\n    };\n  });\n}\n\nexport async function deleteGameFile(gameId: number): Promise<void> {\n  const database = await openDB();\n  return new Promise((resolve, reject) => {\n    const transaction = database.transaction([STORE_NAME], 'readwrite');\n    const store = transaction.objectStore(STORE_NAME);\n    const request = store.delete(gameId);\n    \n    request.onerror = () => reject(request.error);\n    request.onsuccess = () => resolve();\n  });\n}\n\n"],"names":[],"mappings":"AAAA,yCAAyC;;;;;;;;;AAEzC,MAAM,UAAU;AAChB,MAAM,aAAa;AACnB,MAAM,aAAa;AAEnB,IAAI,KAAyB;AAE7B,SAAS;IACP,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,wCAAwD;YACtD,OAAO,IAAI,MAAM;YACjB;QACF;;;QAOA,MAAM;IAcR;AACF;AAEO,eAAe,aAAa,MAAc,EAAE,IAAU;IAC3D,MAAM,WAAW,MAAM;IACvB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,cAAc,SAAS,WAAW,CAAC;YAAC;SAAW,EAAE;QACvD,MAAM,QAAQ,YAAY,WAAW,CAAC;QACtC,MAAM,UAAU,MAAM,GAAG,CAAC,MAAM;QAEhC,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG,IAAM;IAC5B;AACF;AAEO,eAAe,YAAY,MAAc;IAC9C,MAAM,WAAW,MAAM;IACvB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,cAAc,SAAS,WAAW,CAAC;YAAC;SAAW,EAAE;QACvD,MAAM,QAAQ,YAAY,WAAW,CAAC;QACtC,MAAM,UAAU,MAAM,GAAG,CAAC;QAE1B,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG;YAClB,QAAQ,QAAQ,MAAM,IAAI;QAC5B;IACF;AACF;AAEO,eAAe,eAAe,MAAc;IACjD,MAAM,WAAW,MAAM;IACvB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,cAAc,SAAS,WAAW,CAAC;YAAC;SAAW,EAAE;QACvD,MAAM,QAAQ,YAAY,WAAW,CAAC;QACtC,MAAM,UAAU,MAAM,MAAM,CAAC;QAE7B,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG,IAAM;IAC5B;AACF"}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { loadGame } from '@/lib/emulator';\nimport { saveGameFile, getGameFile } from '@/lib/storage';\n\nconst SYSTEM_PICKER: Record<string, string> = {\n  \"Nintendo NES\": \"nes\",\n  \"Nintendo GB\": \"gb\",\n  \"Nintendo SNES\": \"snes\",\n  \"Nintendo VB\": \"vb\",\n  \"Nintendo 64\": \"n64\",\n  \"Nintendo GBC\": \"gbc\",\n  \"Nintendo GBA\": \"gba\",\n  \"Nintendo DS\": \"nds\",\n  \"Sega MS\": \"segaMS\",\n  \"Sega Gen/MD\": \"segaMD\",\n  \"Sega GG\": \"segaGG\",\n  \"Sega CD\": \"segaCD\",\n  \"Sega 32X\": \"sega32x\",\n  \"Sega Saturn\": \"segaSaturn\",\n  \"Sony PS1\": \"psx\",\n  \"Sony PSP\": \"psp\",\n  \"Atari 2600\": \"atari2600\",\n  \"Atari 5200\": \"atari5200\",\n  \"Atari 7800\": \"atari7800\",\n  \"Atari Lynx\": \"lynx\",\n  \"Atari Jaguar\": \"jaguar\",\n  \"Panasonic 3DO\": \"opera\",\n  \"Arcade (FBNeo)\": \"arcade\",\n  \"Arcade (M.A.M.E)\": \"mame2003_plus\",\n  \"Microsoft DOS\": \"dosbox_pure\",\n  \"Commodore PET\": \"vice_xpet\",\n  \"Commodore VIC20\": \"vice_xvic\",\n  \"Commodore Amiga\": \"amiga\",\n  \"Commodore 64\": \"vice_x64\",\n  \"Commodore 128\": \"vice_x128\",\n  \"Commodore P/4\": \"vice_xplus4\",\n  \"ColecoVision\": \"coleco\",\n  \"NEC TurboGrafx-16\": \"pce\",\n  \"NEC PC-FX\": \"pcfx\",\n  \"SNK NGP\": \"ngp\",\n  \"Bandai WS\": \"ws\"\n};\n\ninterface IconProps {\n  className?: string;\n}\n\nconst BookOpenIcon = ({ className }: IconProps) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5s3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18s-3.332.477-4.5 1.253\"></path>\n  </svg>\n);\n\nconst ShoppingBagIcon = ({ className }: IconProps) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"></path>\n  </svg>\n);\n\nconst DownloadIcon = ({ className }: IconProps) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"></path>\n  </svg>\n);\n\nconst MenuIcon = ({ className }: IconProps) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"></path>\n  </svg>\n);\n\nconst XIcon = ({ className }: IconProps) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n  </svg>\n);\n\nconst CogIcon = ({ className }: IconProps) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"></path>\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path>\n  </svg>\n);\n\ninterface Game {\n  id: number;\n  title: string;\n  genre: string;\n  hours: number;\n  color: string;\n  emoji: string;\n  filePath?: string;\n  fileName?: string;\n  fileData?: string; // Legacy: Base64 encoded file data (for migration)\n  core?: string; // Emulator core/system\n}\n\nconst COLORS = {\n  highlight: '#cccccc',\n  darkBg: '#0f0f0f',\n  midDark: '#1e1e1e',\n  softLight: '#f5f5f5',\n  sidebarHover: '#333333',\n  playGreen: '#00ff7f',\n};\n\nfunction GameCard({ game, onPlay, onEdit }: { game: Game; onPlay: (game: Game) => void; onEdit: (game: Game) => void }) {\n  const coverClass = useMemo(() => `${game.color} h-full flex items-center justify-center text-6xl transition-all duration-300 group-hover:scale-[1.05]`, [game.color]);\n  const cardClass = \"group relative overflow-hidden w-64 h-80 rounded-none transition-all duration-300 ease-in-out cursor-pointer hover:scale-[1.03] hover:ring-4 hover:ring-gray-200 hover:ring-offset-0 focus:ring-4 focus:ring-gray-200 border border-transparent\";\n  const overlayClass = \"absolute inset-0 bg-black/30 backdrop-brightness-75 flex flex-col justify-end p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300\";\n  const buttonClass = \"mt-3 w-full font-bold py-2 px-4 rounded-none transition-colors text-sm transform hover:scale-[1.02]\";\n\n  return (\n    <div className={cardClass} style={{ backgroundColor: COLORS.midDark }}>\n      <div className={coverClass}>{game.emoji}</div>\n      <div className={overlayClass}>\n        <h3 className=\"text-xl font-bold truncate mb-1\" style={{ color: COLORS.softLight }}>{game.title}</h3>\n        <p className=\"text-sm\" style={{ color: COLORS.highlight }}>\n          {game.genre} | {game.hours} hrs played\n        </p>\n        <div className=\"flex gap-2 mt-3\">\n          <button\n            className={buttonClass + \" flex-1\"}\n            style={{ backgroundColor: COLORS.playGreen, color: COLORS.darkBg }}\n            onClick={(e) => { e.stopPropagation(); onPlay(game); }}\n          >\n            PLAY\n          </button>\n          <button\n            className=\"px-3 py-2 rounded-none transition-colors\"\n            style={{ backgroundColor: COLORS.highlight, color: COLORS.darkBg }}\n            onClick={(e) => { e.stopPropagation(); onEdit(game); }}\n            title=\"Edit System\"\n          >\n            <CogIcon className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Constants\nconst GAME_EXTENSIONS = ['.nes', '.snes', '.gb', '.gbc', '.gba', '.n64', '.z64', '.v64', '.nds', '.3ds', '.iso', '.rom', '.bin', '.smc', '.sfc'];\nconst CARD_COLORS = ['bg-blue-600', 'bg-green-600', 'bg-indigo-600', 'bg-yellow-600', 'bg-red-600', 'bg-purple-600', 'bg-pink-600', 'bg-cyan-600'];\nconst CARD_EMOJIS = ['üéÆ', 'üïπÔ∏è', 'üëæ', 'üéØ', 'üé≤', 'üé™', 'üé®', 'üé≠'];\n\nexport default function Home() {\n  const [activeView, setActiveView] = useState<'library' | 'store' | 'downloads'>('library');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [currentTime, setCurrentTime] = useState<string>('');\n  const [isMounted, setIsMounted] = useState(false);\n  const [games, setGames] = useState<Game[]>([]);\n  const [editingGame, setEditingGame] = useState<Game | null>(null);\n  const [systemPickerOpen, setSystemPickerOpen] = useState(false);\n  const [pendingGame, setPendingGame] = useState<Partial<Game> | null>(null);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const updateTime = () => {\n      setCurrentTime(new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }));\n    };\n    updateTime();\n    setIsMounted(true);\n    const interval = setInterval(updateTime, 60000);\n    \n    // Load games from localStorage on mount\n    const loadGames = async () => {\n      const savedGames = localStorage.getItem('games');\n      if (savedGames) {\n        try {\n          const loadedGames: Game[] = JSON.parse(savedGames);\n          \n          // Migrate old games with fileData to IndexedDB\n          let migratedGames = loadedGames;\n          for (const game of loadedGames) {\n            if (game.fileData) {\n              migratedGames = await migrateGameToIndexedDB(game, migratedGames);\n            }\n          }\n          \n          if (migratedGames !== loadedGames) {\n            // Update localStorage with migrated games (without fileData)\n            localStorage.setItem('games', JSON.stringify(migratedGames));\n          }\n          \n          setGames(migratedGames);\n        } catch (e) {\n          console.error('Failed to load games from storage', e);\n        }\n      }\n    };\n    \n    loadGames();\n    \n    return () => clearInterval(interval);\n  }, []);\n\n  // Migrate old games with fileData to IndexedDB\n  const migrateGameToIndexedDB = async (game: Game, allGames: Game[]): Promise<Game[]> => {\n    if (!game.fileData || !game.fileData.startsWith('data:')) {\n      // Already migrated or invalid\n      return allGames;\n    }\n    \n    try {\n      // Convert base64 back to File\n      const response = await fetch(game.fileData);\n      const blob = await response.blob();\n      const file = new File([blob], game.fileName || game.title, { type: 'application/octet-stream' });\n      await saveGameFile(game.id, file);\n      \n      // Remove fileData from game object\n      const { fileData, ...gameWithoutData } = game;\n      return allGames.map(g => g.id === game.id ? gameWithoutData : g);\n    } catch (error) {\n      console.error('Error migrating game to IndexedDB:', error);\n      return allGames;\n    }\n  };\n\n  const getSystemFromExtension = (extension: string): string | null => {\n    const FILE_EXTENSIONS: Record<string, string> = {\n      fds: \"nes\", nes: \"nes\", unif: \"nes\", unf: \"nes\",\n      gb: \"gb\", gbc: \"gbc\", gba: \"gba\",\n      smc: \"snes\", sfc: \"snes\", swc: \"snes\",\n      vb: \"vb\", vboy: \"vb\",\n      z64: \"n64\", n64: \"n64\",\n      nds: \"nds\",\n      sms: \"segaMS\", md: \"segaMD\", gen: \"segaMD\", smd: \"segaMD\",\n      gg: \"segaGG\", \"32x\": \"sega32x\",\n      cso: \"psp\", pbp: \"psp\",\n      a26: \"atari2600\", a52: \"atari5200\", a78: \"atari7800\",\n      lnx: \"lynx\", j64: \"jaguar\", jag: \"jaguar\",\n      d64: \"vice_x64\", t64: \"vice_x64\", tap: \"vice_x64\", crt: \"vice_x64\",\n      col: \"coleco\", cv: \"coleco\",\n      pce: \"pce\", ngp: \"ngp\", ngc: \"ngp\",\n      ws: \"ws\", wsc: \"ws\"\n    };\n    return FILE_EXTENSIONS[extension.toLowerCase()] || null;\n  };\n\n  const selectSystem = (core: string) => {\n    if (editingGame && pendingGame) {\n      // Update existing game\n      const updatedGames = games.map(g => g.id === editingGame.id ? { ...g, core: core } : g);\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      setEditingGame(null);\n      setPendingGame(null);\n      setSystemPickerOpen(false);\n    } else if (pendingGame) {\n      // Add new game\n      const newGame: Game = {\n        ...pendingGame,\n        core: core\n      } as Game;\n      const updatedGames = [...games, newGame];\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      setPendingGame(null);\n      setSystemPickerOpen(false);\n    }\n  };\n\n  const handleFileSelect = async () => {\n    try {\n      if ('showOpenFilePicker' in window) {\n        const fileHandles = await (window as any).showOpenFilePicker({\n          multiple: true,\n          types: [{\n            description: 'Game Files',\n            accept: {\n              'application/octet-stream': GAME_EXTENSIONS\n            }\n          }]\n        });\n\n        for (let i = 0; i < fileHandles.length; i++) {\n          const fileHandle = fileHandles[i];\n          const file = await fileHandle.getFile();\n          const fileName = file.name;\n          const nameWithoutExt = fileName.replace(/\\.[^/.]+$/, '');\n          const fileExtension = fileName.split(\".\").pop()?.toLowerCase() || \"\";\n          const detectedCore = getSystemFromExtension(fileExtension);\n          const gameId = Date.now() + i;\n          \n          // Save file to IndexedDB\n          await saveGameFile(gameId, file);\n          \n          const gameData: Partial<Game> = {\n            id: gameId,\n            title: nameWithoutExt,\n            genre: 'ROM',\n            hours: 0,\n            color: CARD_COLORS[i % CARD_COLORS.length],\n            emoji: CARD_EMOJIS[i % CARD_EMOJIS.length],\n            filePath: fileHandle.name,\n            fileName: fileName,\n            core: detectedCore || undefined\n          };\n          \n          if (detectedCore) {\n            // Auto-detected, add directly\n            const newGame = gameData as Game;\n            const updatedGames = [...games, newGame];\n            setGames(updatedGames);\n            localStorage.setItem('games', JSON.stringify(updatedGames));\n          } else {\n            // Need to ask for system\n            setPendingGame(gameData);\n            setSystemPickerOpen(true);\n            // Wait for system selection before continuing\n            await new Promise<void>((resolve) => {\n              const checkInterval = setInterval(() => {\n                if (!systemPickerOpen && !pendingGame) {\n                  clearInterval(checkInterval);\n                  resolve();\n                }\n              }, 100);\n            });\n          }\n        }\n      } else {\n        // Fallback for browsers without File System Access API\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.multiple = true;\n        input.accept = GAME_EXTENSIONS.join(',');\n        input.onchange = async (e: any) => {\n          const files = Array.from(e.target.files || []) as File[];\n          for (let i = 0; i < files.length; i++) {\n            const file = files[i];\n            const nameWithoutExt = file.name.replace(/\\.[^/.]+$/, '');\n            const fileExtension = file.name.split(\".\").pop()?.toLowerCase() || \"\";\n            const detectedCore = getSystemFromExtension(fileExtension);\n            const gameId = Date.now() + i;\n            \n            // Save file to IndexedDB\n            await saveGameFile(gameId, file);\n            \n            const gameData: Partial<Game> = {\n              id: gameId,\n              title: nameWithoutExt,\n              genre: 'ROM',\n              hours: 0,\n              color: CARD_COLORS[i % CARD_COLORS.length],\n              emoji: CARD_EMOJIS[i % CARD_EMOJIS.length],\n              filePath: file.name,\n              fileName: file.name,\n              core: detectedCore || undefined\n            };\n            \n            if (detectedCore) {\n              const newGame = gameData as Game;\n              const updatedGames = [...games, newGame];\n              setGames(updatedGames);\n              localStorage.setItem('games', JSON.stringify(updatedGames));\n            } else {\n              setPendingGame(gameData);\n              setSystemPickerOpen(true);\n            }\n          }\n        };\n        input.click();\n      }\n    } catch (err: any) {\n      if (err.name !== 'AbortError') {\n        console.error('Error selecting files:', err);\n      }\n    }\n  };\n\n  const handleEditGame = (game: Game) => {\n    setEditingGame(game);\n    setPendingGame({ ...game });\n    setSystemPickerOpen(true);\n  };\n\n  const handlePlayClick = async (game: Game) => {\n    try {\n      let file: File | null = null;\n      \n      // Try to get file from IndexedDB first\n      file = await getGameFile(game.id);\n      \n      // Fallback to legacy fileData if IndexedDB doesn't have it\n      if (!file && game.fileData) {\n        const response = await fetch(game.fileData);\n        const blob = await response.blob();\n        file = new File([blob], game.fileName || game.title, { type: 'application/octet-stream' });\n        // Save to IndexedDB for next time\n        await saveGameFile(game.id, file);\n      }\n      \n      if (file) {\n        await loadGame(file, game.core);\n      } else {\n        console.error('Game file not found');\n      }\n    } catch (error) {\n      console.error('Error loading game:', error);\n    }\n  };\n\n  const handleNavClick = (viewName: 'library' | 'store' | 'downloads') => {\n    setActiveView(viewName);\n    setIsSidebarOpen(false);\n  };\n\n  const getSidebarButtonClass = (view: 'library' | 'store' | 'downloads') => {\n    const baseClass = \"sidebar-item block p-3 mb-2 rounded-none transition-all flex items-center border-l-4\";\n    const isActive = activeView === view;\n    return `${baseClass} ${isActive ? 'border-l-4' : 'border-transparent'}`;\n  };\n\n  const sidebarClass = useMemo(() => {\n    return isSidebarOpen ? \"translate-x-0\" : \"-translate-x-full\";\n  }, [isSidebarOpen]);\n\n  const sidebarFullClass = useMemo(() => {\n    return `w-64 p-6 flex flex-col justify-start shadow-xl fixed left-0 top-0 bottom-0 z-50 transition-transform duration-300 ease-in-out ${sidebarClass}`;\n  }, [sidebarClass]);\n\n  const renderContent = () => {\n    if (activeView === 'store') {\n      return (\n        <div>\n          <p className=\"text-lg mt-10 p-6 rounded-none\" style={{ backgroundColor: COLORS.midDark, color: COLORS.highlight }}>\n            Welcome to the Store! Discover new games and DLC here.\n          </p>\n        </div>\n      );\n    }\n    if (activeView === 'downloads') {\n      return (\n        <div>\n          <p className=\"text-lg mt-10 p-6 rounded-none\" style={{ backgroundColor: COLORS.midDark, color: COLORS.highlight }}>\n            No active downloads. You are ready to play!\n          </p>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-xl font-semibold\" style={{ color: COLORS.highlight }}>\n            Installed Games ({games.length})\n          </h2>\n          <button\n            onClick={handleFileSelect}\n            className=\"px-4 py-2 rounded-none font-semibold transition-colors\"\n            style={{ backgroundColor: COLORS.playGreen, color: COLORS.darkBg }}\n          >\n            Add Games\n          </button>\n        </div>\n        {games.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <p className=\"text-lg mb-4\" style={{ color: COLORS.highlight }}>No games found</p>\n            <button\n              onClick={handleFileSelect}\n              className=\"px-6 py-3 rounded-none font-semibold transition-colors\"\n              style={{ backgroundColor: COLORS.playGreen, color: COLORS.darkBg }}\n            >\n              Add Your First Game\n            </button>\n          </div>\n        ) : (\n          <div className=\"flex flex-wrap\" style={{ gap: '0.75rem' }}>\n            {games.map(game => (\n              <GameCard key={game.id} game={game} onPlay={handlePlayClick} onEdit={handleEditGame} />\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col\" style={{ backgroundColor: COLORS.darkBg, fontFamily: 'Inter, sans-serif' }}>\n      {isSidebarOpen && (\n        <div className=\"fixed inset-0 bg-black/50 z-40\" onClick={() => setIsSidebarOpen(false)} />\n      )}\n      <aside className={sidebarFullClass} style={{ backgroundColor: COLORS.midDark }}>\n        <div className=\"text-3xl font-bold mb-10\" style={{ color: COLORS.highlight }}>\n          joe t emulator\n        </div>\n        <nav>\n          {[\n            { view: 'library' as const, icon: BookOpenIcon, label: 'Library' },\n            { view: 'store' as const, icon: ShoppingBagIcon, label: 'Store' },\n            { view: 'downloads' as const, icon: DownloadIcon, label: 'Downloads' }\n          ].map(({ view, icon: Icon, label }) => (\n            <button\n              key={view}\n              className={getSidebarButtonClass(view)}\n              style={{\n                backgroundColor: activeView === view ? COLORS.sidebarHover : 'transparent',\n                borderLeftColor: activeView === view ? COLORS.highlight : 'transparent',\n                color: COLORS.softLight\n              }}\n              onClick={() => handleNavClick(view)}\n            >\n              <Icon className=\"w-6 h-6 mr-3\" />\n              <span className=\"font-semibold\">{label}</span>\n            </button>\n          ))}\n        </nav>\n      </aside>\n      <div className=\"flex-1 overflow-hidden\">\n        <main className=\"p-8 overflow-y-auto pb-20\" style={{ minHeight: 'calc(100vh - 4rem)' }}>\n          <header className=\"mb-8\">\n            <div className=\"flex justify-between items-center\">\n              <h1 className=\"text-4xl font-extrabold\" style={{ color: COLORS.softLight }}>\n                {activeView.charAt(0).toUpperCase() + activeView.slice(1)}\n              </h1>\n              <div className=\"flex items-center space-x-3\">\n                {isMounted && (\n                  <div className=\"hidden sm:block text-xs font-normal\" style={{ color: COLORS.highlight }}>\n                    {currentTime}\n                  </div>\n                )}\n                <div className=\"hidden sm:block\">\n                  <p className=\"font-semibold text-sm\" style={{ color: COLORS.softLight }}>Player One</p>\n                </div>\n                <div className=\"w-10 h-10 rounded-none flex items-center justify-center font-bold text-lg\" style={{ backgroundColor: COLORS.highlight, color: COLORS.darkBg }}>P</div>\n              </div>\n            </div>\n          </header>\n          {renderContent()}\n        </main>\n      </div>\n      <footer className=\"fixed bottom-0 left-0 right-0 h-16 border-t flex items-center justify-between px-6 z-50\" style={{ backgroundColor: COLORS.midDark, borderColor: COLORS.sidebarHover }}>\n        <button\n          className=\"p-2 rounded-none transition-colors hover:bg-gray-700\"\n          onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n          style={{ color: COLORS.highlight, backgroundColor: isSidebarOpen ? COLORS.sidebarHover : 'transparent' }}\n        >\n          {isSidebarOpen ? <XIcon className=\"w-8 h-8\" /> : <MenuIcon className=\"w-8 h-8\" />}\n        </button>\n        <div className=\"flex-1 mx-4\" />\n      </footer>\n      {systemPickerOpen && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-brightness-50 flex items-center justify-center z-50\">\n          <div className=\"p-8 rounded-none max-w-2xl w-full max-h-[80vh] overflow-y-auto shadow-2xl border-2\" style={{ backgroundColor: COLORS.midDark, borderColor: COLORS.highlight }}>\n            <h3 className=\"text-2xl font-bold mb-4\" style={{ color: COLORS.softLight }}>\n              {editingGame ? 'Select System for ' + editingGame.title : 'Select System'}\n            </h3>\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6\">\n              {Object.entries(SYSTEM_PICKER).map(([name, core]) => {\n                const currentCore = editingGame?.core || pendingGame?.core;\n                const isSelected = currentCore === core;\n                return (\n                  <button\n                    key={core}\n                    className=\"p-4 rounded-none text-left transition-colors border-2\"\n                    style={{\n                      backgroundColor: isSelected ? COLORS.playGreen : COLORS.sidebarHover,\n                      borderColor: isSelected ? COLORS.playGreen : COLORS.highlight,\n                      color: isSelected ? COLORS.darkBg : COLORS.softLight\n                    }}\n                    onClick={() => selectSystem(core)}\n                  >\n                    <div className=\"font-semibold text-sm\">{name}</div>\n                  </button>\n                );\n              })}\n            </div>\n            <div className=\"flex justify-end\">\n              <button\n                className=\"py-2 px-4 rounded-none font-semibold transition-colors\"\n                style={{ backgroundColor: COLORS.highlight, color: COLORS.darkBg }}\n                onClick={() => {\n                  setSystemPickerOpen(false);\n                  setPendingGame(null);\n                  setEditingGame(null);\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1521, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 1540, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 1545, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}