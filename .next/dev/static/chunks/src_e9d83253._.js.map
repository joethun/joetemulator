{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/lib/constants.ts"],"sourcesContent":["export const FILE_EXTENSIONS: Record<string, string> = {\n  fds: \"nes\",\n  nes: \"nes\",\n  unif: \"nes\",\n  unf: \"nes\",\n  gb: \"gb\",\n  gbc: \"gbc\",\n  gba: \"gba\",\n  smc: \"snes\",\n  sfc: \"snes\",\n  swc: \"snes\",\n  vb: \"vb\",\n  vboy: \"vb\",\n  z64: \"n64\",\n  n64: \"n64\",\n  nds: \"nds\",\n  sms: \"segaMS\",\n  md: \"segaMD\",\n  gen: \"segaMD\",\n  smd: \"segaMD\",\n  gg: \"segaGG\",\n  \"32x\": \"sega32x\",\n  cso: \"psp\",\n  pbp: \"psp\",\n  a26: \"atari2600\",\n  a52: \"atari5200\",\n  a78: \"atari7800\",\n  lnx: \"lynx\",\n  j64: \"jaguar\",\n  jag: \"jaguar\",\n  d64: \"vice_x64\",\n  t64: \"vice_x64\",\n  tap: \"vice_x64\",\n  crt: \"vice_x64\",\n  col: \"coleco\",\n  cv: \"coleco\",\n  pce: \"pce\",\n  ngp: \"ngp\",\n  ngc: \"ngp\",\n  ws: \"ws\",\n  wsc: \"ws\"\n};\n\nexport const SYSTEM_PICKER: Record<string, Record<string, string>> = {\n  \"Nintendo\": {\n    \"NES\": \"nes\",\n    \"Game Boy\": \"gb\",\n    \"Game Boy Color\": \"gbc\",\n    \"Game Boy Advance\": \"gba\",\n    \"SNES\": \"snes\",\n    \"Virtual Boy\": \"vb\",\n    \"N64\": \"n64\",\n    \"DS\": \"nds\",\n  },\n  \"Sega\": {\n    \"Master System\": \"segaMS\",\n    \"Genesis/Mega Drive\": \"segaMD\",\n    \"Game Gear\": \"segaGG\",\n    \"CD\": \"segaCD\",\n    \"32X\": \"sega32x\",\n    \"Saturn\": \"segaSaturn\",\n  },\n  \"Sony\": {\n    \"PS1\": \"psx\",\n    \"PSP\": \"psp\",\n  },\n  \"Atari\": {\n    \"2600\": \"atari2600\",\n    \"5200\": \"atari5200\",\n    \"7800\": \"atari7800\",\n    \"Lynx\": \"lynx\",\n    \"Jaguar\": \"jaguar\",\n  },\n  \"Other\": {\n    \"Panasonic 3DO\": \"opera\",\n    \"Arcade (FBNeo)\": \"arcade\",\n    \"Arcade (M.A.M.E)\": \"mame2003_plus\",\n    \"Microsoft DOS\": \"dosbox_pure\",\n    \"Commodore PET\": \"vice_xpet\",\n    \"Commodore VIC-20\": \"vice_xvic\",\n    \"Commodore Amiga\": \"amiga\",\n    \"Commodore 64\": \"vice_x64\",\n    \"Commodore 128\": \"vice_x128\",\n    \"Commodore Plus/4\": \"vice_xplus4\",\n    \"ColecoVision\": \"coleco\",\n    \"NEC TurboGrafx-16\": \"pce\",\n    \"NEC PC-FX\": \"pcfx\",\n    \"SNK Neo Geo Pocket\": \"ngp\",\n    \"Bandai WonderSwan\": \"ws\"\n  }\n};\n\nexport function getSystemNameByCore(core: string): string {\n  for (const category of Object.values(SYSTEM_PICKER)) {\n    for (const [name, systemCore] of Object.entries(category)) {\n      if (systemCore === core) {\n        return name;\n      }\n    }\n  }\n  return 'Unknown System';\n}\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,kBAA0C;IACrD,KAAK;IACL,KAAK;IACL,MAAM;IACN,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,IAAI;IACJ,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,IAAI;IACJ,OAAO;IACP,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;AACP;AAEO,MAAM,gBAAwD;IACnE,YAAY;QACV,OAAO;QACP,YAAY;QACZ,kBAAkB;QAClB,oBAAoB;QACpB,QAAQ;QACR,eAAe;QACf,OAAO;QACP,MAAM;IACR;IACA,QAAQ;QACN,iBAAiB;QACjB,sBAAsB;QACtB,aAAa;QACb,MAAM;QACN,OAAO;QACP,UAAU;IACZ;IACA,QAAQ;QACN,OAAO;QACP,OAAO;IACT;IACA,SAAS;QACP,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,UAAU;IACZ;IACA,SAAS;QACP,iBAAiB;QACjB,kBAAkB;QAClB,oBAAoB;QACpB,iBAAiB;QACjB,iBAAiB;QACjB,oBAAoB;QACpB,mBAAmB;QACnB,gBAAgB;QAChB,iBAAiB;QACjB,oBAAoB;QACpB,gBAAgB;QAChB,qBAAqB;QACrB,aAAa;QACb,sBAAsB;QACtB,qBAAqB;IACvB;AACF;AAEO,SAAS,oBAAoB,IAAY;IAC9C,KAAK,MAAM,YAAY,OAAO,MAAM,CAAC,eAAgB;QACnD,KAAK,MAAM,CAAC,MAAM,WAAW,IAAI,OAAO,OAAO,CAAC,UAAW;YACzD,IAAI,eAAe,MAAM;gBACvB,OAAO;YACT;QACF;IACF;IACA,OAAO;AACT"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/lib/emulator.ts"],"sourcesContent":["import { FILE_EXTENSIONS } from './constants';\n\nconst CDN_PATH = \"https://cdn.jsdelivr.net/gh/joethun/EmulatorJS-With-Cores/\";\nconst DEFAULT_EJS_COLOR = \"#00ff7f\";\n\ndeclare global {\n  interface Window {\n    [key: string]: any;\n  }\n}\n\nif (typeof window !== 'undefined') window.gameRunning = false;\nasync function detectCore(extension: string): Promise<string> {\n  return FILE_EXTENSIONS[extension] || \"nes\";\n}\n\nfunction toggleMenuElements(show: boolean) {\n  if (typeof document === 'undefined') return;\n  ['aside', 'footer', 'main', 'header'].forEach(s => {\n    const e = document.querySelector(s);\n    if (e) (e as HTMLElement).style.cssText = show ? '' : 'display: none !important; visibility: hidden !important; z-index: -1 !important;';\n  });\n  const r = document.querySelector('div[style*=\"min-h-screen\"]');\n  if (r && !show) (r as HTMLElement).style.cssText += \" z-index: -1 !important;\";\n}\nfunction cleanupOldElements() {\n  const g = document.getElementById(\"game\");\n  if (g) { g.innerHTML = \"\"; g.style.display = \"none\"; }\n  document.querySelectorAll('script[src*=\"loader.js\"]').forEach(s => s.remove());\n  toggleMenuElements(true);\n  window.gameRunning = false;\n}\nfunction hideMenu() { toggleMenuElements(false); }\n\nconst GAME_CONTAINER_STYLES = `\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 999999;\n  background-color: #000000;\n  overflow: hidden;\n  display: block !important;\n  visibility: visible !important;\n  opacity: 1 !important;\n`;\n\nfunction createGameDisplay() {\n  if (typeof document === 'undefined') return;\n  let g = document.getElementById(\"game\") || (d => (d.id = \"game\", document.body.appendChild(d), d))(document.createElement(\"div\"));\n  g.innerHTML = \"\";\n  (g as HTMLElement).style.cssText = GAME_CONTAINER_STYLES;\n  if (document.body) document.body.style.overflow = \"hidden\";\n  if (document.documentElement) document.documentElement.style.overflow = \"hidden\";\n}\n\nexport async function loadGame(file: File | string, coreOverride?: string, themeColor?: string): Promise<void> {\n  const fileName = file instanceof File ? file.name : file;\n  const fileExtension = fileName.split(\".\").pop()?.toLowerCase() || \"\";\n  const gameName = fileName.substring(0, fileName.lastIndexOf(\".\"));\n  \n  const core = coreOverride || await detectCore(fileExtension);\n  \n  cleanupOldElements();\n  hideMenu();\n  createGameDisplay();\n  if (typeof window !== 'undefined') {\n    window.gameRunning = true;\n  }\n  \n  configureEmulator(gameName, file, core, themeColor);\n  loadEmulatorScript();\n}\n\nfunction configureEmulator(gameName: string, gameFile: File | string, core: string, themeColor?: string) {\n  window.EJS_color = themeColor || DEFAULT_EJS_COLOR;\n  window.EJS_backgroundColor = \"#000000\";\n  window.EJS_player = \"#game\";\n  window.EJS_gameName = gameName;\n  window.EJS_gameUrl = gameFile;\n  window.EJS_core = core;\n  window.EJS_pathtodata = CDN_PATH;\n  window.EJS_startOnLoaded = true;\n  window.EJS_biosUrl = \"\";\n  window.EJS_threads = [\"psp\", \"dosbox_pure\"].includes(core);\n  window.EJS_defaultOptions = { \"save-save-interval\": \"60\", \"desmume_advanced_timing\": \"disabled\", \"webgl2Enabled\": \"enabled\", ...(core === \"segaGG\" && { retroarch_core: \"genesis_plus_gx\" }), ...(core === \"nds\" && { retroarch_core: \"desmume\" }) };\n  window.EJS_Buttons = { exitEmulation: false, cacheManager: false, saveSavFiles: { visible: false }, loadSavFiles: { visible: false } };\n}\n\nfunction loadEmulatorScript() {\n  if (typeof document === 'undefined') return;\n  const s = document.createElement(\"script\");\n  s.src = `${CDN_PATH}/loader.js`;\n  s.onload = () => setTimeout(() => {\n    const g = document.getElementById(\"game\");\n    if (g) {\n      (g as HTMLElement).style.cssText = GAME_CONTAINER_STYLES.replace(/\\n/g, ' ').replace(/\\s+/g, ' ').trim() + ' !important';\n      const c = g.querySelector('canvas');\n      if (c) (c as HTMLElement).style.cssText = 'display: block !important; visibility: visible !important; opacity: 1 !important; width: 100% !important; height: 100% !important;';\n    }\n  }, 100);\n  document.body.appendChild(s);\n}\n\nfunction getEmulator() { return typeof window === 'undefined' ? null : window.EJS_emulator?.started ? window.EJS_emulator : null; }\nexport function exitGame() { cleanupOldElements(); const g = document.getElementById(\"game\"); if (g) g.style.display = \"none\"; }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/lib/storage.ts"],"sourcesContent":["const DB_NAME = 'joetemulator';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'gameFiles';\n\nlet db: IDBDatabase | null = null;\n\nfunction openDB(): Promise<IDBDatabase> {\n  return new Promise((resolve, reject) => {\n    if (typeof window === 'undefined' || !window.indexedDB) {\n      reject(new Error('IndexedDB not supported'));\n      return;\n    }\n\n    if (db) {\n      resolve(db);\n      return;\n    }\n\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\n\n    request.onerror = () => reject(request.error);\n    request.onsuccess = () => {\n      db = request.result;\n      resolve(db);\n    };\n\n    request.onupgradeneeded = (event) => {\n      const database = (event.target as IDBOpenDBRequest).result;\n      if (!database.objectStoreNames.contains(STORE_NAME)) {\n        database.createObjectStore(STORE_NAME);\n      }\n    };\n  });\n}\n\nasync function executeStoreOperation<T>(\n  mode: IDBTransactionMode,\n  operation: (store: IDBObjectStore) => IDBRequest<T>\n): Promise<T> {\n  const database = await openDB();\n  return new Promise((resolve, reject) => {\n    const transaction = database.transaction([STORE_NAME], mode);\n    const store = transaction.objectStore(STORE_NAME);\n    const request = operation(store);\n    \n    request.onerror = () => reject(request.error);\n    request.onsuccess = () => resolve(request.result);\n  });\n}\n\nexport async function saveGameFile(gameId: number, file: File): Promise<void> {\n  await executeStoreOperation('readwrite', (store) => store.put(file, gameId));\n}\n\nexport async function getGameFile(gameId: number): Promise<File | null> {\n  const result = await executeStoreOperation('readonly', (store) => store.get(gameId));\n  return result || null;\n}\n\nexport async function deleteGameFile(gameId: number): Promise<void> {\n  await executeStoreOperation('readwrite', (store) => store.delete(gameId));\n}\n\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,UAAU;AAChB,MAAM,aAAa;AACnB,MAAM,aAAa;AAEnB,IAAI,KAAyB;AAE7B,SAAS;IACP,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,IAAI,+CAAkB,eAAe,CAAC,OAAO,SAAS,EAAE;YACtD,OAAO,IAAI,MAAM;YACjB;QACF;QAEA,IAAI,IAAI;YACN,QAAQ;YACR;QACF;QAEA,MAAM,UAAU,UAAU,IAAI,CAAC,SAAS;QAExC,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG;YAClB,KAAK,QAAQ,MAAM;YACnB,QAAQ;QACV;QAEA,QAAQ,eAAe,GAAG,CAAC;YACzB,MAAM,WAAW,AAAC,MAAM,MAAM,CAAsB,MAAM;YAC1D,IAAI,CAAC,SAAS,gBAAgB,CAAC,QAAQ,CAAC,aAAa;gBACnD,SAAS,iBAAiB,CAAC;YAC7B;QACF;IACF;AACF;AAEA,eAAe,sBACb,IAAwB,EACxB,SAAmD;IAEnD,MAAM,WAAW,MAAM;IACvB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,cAAc,SAAS,WAAW,CAAC;YAAC;SAAW,EAAE;QACvD,MAAM,QAAQ,YAAY,WAAW,CAAC;QACtC,MAAM,UAAU,UAAU;QAE1B,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG,IAAM,QAAQ,QAAQ,MAAM;IAClD;AACF;AAEO,eAAe,aAAa,MAAc,EAAE,IAAU;IAC3D,MAAM,sBAAsB,aAAa,CAAC,QAAU,MAAM,GAAG,CAAC,MAAM;AACtE;AAEO,eAAe,YAAY,MAAc;IAC9C,MAAM,SAAS,MAAM,sBAAsB,YAAY,CAAC,QAAU,MAAM,GAAG,CAAC;IAC5E,OAAO,UAAU;AACnB;AAEO,eAAe,eAAe,MAAc;IACjD,MAAM,sBAAsB,aAAa,CAAC,QAAU,MAAM,MAAM,CAAC;AACnE"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/types/index.ts"],"sourcesContent":["export interface Game {\n  id: number;\n  title: string;\n  genre: string;\n  filePath?: string;\n  fileName?: string;\n  fileData?: string;\n  core?: string;\n  coverArt?: string;\n  coverArtFit?: 'cover' | 'contain';\n}\n\ntype ThemeColors = {\n  highlight: string;\n  darkBg: string;\n  midDark: string;\n  softLight: string;\n  sidebarHover: string;\n  playGreen: string;\n  gradientFrom: string;\n  gradientTo: string;\n};\n\nexport const THEMES: Record<string, ThemeColors> = {\n  default: { highlight: '#8899cc', darkBg: '#0a0a0f', midDark: '#151520', softLight: '#e8eef5', sidebarHover: '#1f2535', playGreen: '#4a90e2', gradientFrom: '#4a90e2', gradientTo: '#2563eb' },\n  red: { highlight: '#fecaca', darkBg: '#1f0a0a', midDark: '#2e1414', softLight: '#fef2f2', sidebarHover: '#3d1f1f', playGreen: '#f87171', gradientFrom: '#f87171', gradientTo: '#ef4444' },\n  orange: { highlight: '#fde68a', darkBg: '#1f1206', midDark: '#2e1a0a', softLight: '#fffbeb', sidebarHover: '#3d2814', playGreen: '#fbbf24', gradientFrom: '#fbbf24', gradientTo: '#f59e0b' },\n  yellow: { highlight: '#fef08a', darkBg: '#1f1a0a', midDark: '#2e2814', softLight: '#fefce8', sidebarHover: '#3d3d1f', playGreen: '#eab308', gradientFrom: '#eab308', gradientTo: '#ca8a04' },\n  green: { highlight: '#bbf7d0', darkBg: '#0f1a0f', midDark: '#1e2e1e', softLight: '#f0fdf4', sidebarHover: '#2d3e2d', playGreen: '#4ade80', gradientFrom: '#4ade80', gradientTo: '#22c55e' },\n  teal: { highlight: '#99f6e4', darkBg: '#0a1a1a', midDark: '#142a2a', softLight: '#f0fdfa', sidebarHover: '#1f3d3d', playGreen: '#2dd4bf', gradientFrom: '#2dd4bf', gradientTo: '#14b8a6' },\n  blue: { highlight: '#bfdbfe', darkBg: '#0c1220', midDark: '#1e293b', softLight: '#eff6ff', sidebarHover: '#334155', playGreen: '#60a5fa', gradientFrom: '#60a5fa', gradientTo: '#3b82f6' },\n  indigo: { highlight: '#c7d2fe', darkBg: '#0f0f1f', midDark: '#1e1e2e', softLight: '#eef2ff', sidebarHover: '#2d2d3e', playGreen: '#818cf8', gradientFrom: '#818cf8', gradientTo: '#6366f1' },\n  purple: { highlight: '#ddd6fe', darkBg: '#1a0f2e', midDark: '#2d1b3d', softLight: '#faf5ff', sidebarHover: '#3f2d52', playGreen: '#c084fc', gradientFrom: '#c084fc', gradientTo: '#a855f7' },\n};\n\nexport type ThemeConfig = ThemeColors;\nexport const getGradientStyle = (from: string, to: string) => ({ background: `linear-gradient(135deg, ${from} 0%, ${to} 100%)` });\n"],"names":[],"mappings":";;;;;;AAuBO,MAAM,SAAsC;IACjD,SAAS;QAAE,WAAW;QAAW,QAAQ;QAAW,SAAS;QAAW,WAAW;QAAW,cAAc;QAAW,WAAW;QAAW,cAAc;QAAW,YAAY;IAAU;IAC5L,KAAK;QAAE,WAAW;QAAW,QAAQ;QAAW,SAAS;QAAW,WAAW;QAAW,cAAc;QAAW,WAAW;QAAW,cAAc;QAAW,YAAY;IAAU;IACxL,QAAQ;QAAE,WAAW;QAAW,QAAQ;QAAW,SAAS;QAAW,WAAW;QAAW,cAAc;QAAW,WAAW;QAAW,cAAc;QAAW,YAAY;IAAU;IAC3L,QAAQ;QAAE,WAAW;QAAW,QAAQ;QAAW,SAAS;QAAW,WAAW;QAAW,cAAc;QAAW,WAAW;QAAW,cAAc;QAAW,YAAY;IAAU;IAC3L,OAAO;QAAE,WAAW;QAAW,QAAQ;QAAW,SAAS;QAAW,WAAW;QAAW,cAAc;QAAW,WAAW;QAAW,cAAc;QAAW,YAAY;IAAU;IAC1L,MAAM;QAAE,WAAW;QAAW,QAAQ;QAAW,SAAS;QAAW,WAAW;QAAW,cAAc;QAAW,WAAW;QAAW,cAAc;QAAW,YAAY;IAAU;IACzL,MAAM;QAAE,WAAW;QAAW,QAAQ;QAAW,SAAS;QAAW,WAAW;QAAW,cAAc;QAAW,WAAW;QAAW,cAAc;QAAW,YAAY;IAAU;IACzL,QAAQ;QAAE,WAAW;QAAW,QAAQ;QAAW,SAAS;QAAW,WAAW;QAAW,cAAc;QAAW,WAAW;QAAW,cAAc;QAAW,YAAY;IAAU;IAC3L,QAAQ;QAAE,WAAW;QAAW,QAAQ;QAAW,SAAS;QAAW,WAAW;QAAW,cAAc;QAAW,WAAW;QAAW,cAAc;QAAW,YAAY;IAAU;AAC7L;AAGO,MAAM,mBAAmB,CAAC,MAAc,KAAe,CAAC;QAAE,YAAY,CAAC,wBAAwB,EAAE,KAAK,KAAK,EAAE,GAAG,MAAM,CAAC;IAAC,CAAC"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/components/GameCardComponent.tsx"],"sourcesContent":["import { Trash2, Settings } from 'lucide-react';\nimport { Game, THEMES, getGradientStyle } from '@/types';\n\ninterface GameCardProps {\n  game: Game;\n  onPlay: (game: Game) => void;\n  onEdit: (game: Game) => void;\n  onDelete: (game: Game) => void;\n  onSelect: (gameId: number) => void;\n  isSelected: boolean;\n  isDeleteMode: boolean;\n  onEnterDeleteMode: () => void;\n  onCoverArtClick?: (game: Game) => void;\n  colors: typeof THEMES.default;\n}\n\nexport const getSystemDisplayName = (core?: string): string => {\n  if (!core) return 'Unknown';\n  const systemMap: Record<string, string> = {\n    'nes': 'NES', 'gb': 'GB', 'gbc': 'GBC', 'gba': 'GBA', 'snes': 'SNES', 'vb': 'VB', 'n64': 'N64', 'nds': 'DS',\n    'segaMS': 'MS', 'segaMD': 'MD', 'segaGG': 'GG', 'segaCD': 'CD', 'sega32x': '32X', 'segaSaturn': 'Saturn',\n    'psx': 'PS1', 'psp': 'PSP', 'atari2600': '2600', 'atari5200': '5200', 'atari7800': '7800', 'lynx': 'Lynx',\n    'jaguar': 'Jaguar', 'opera': '3DO', 'arcade': 'Arcade', 'mame2003_plus': 'MAME', 'dosbox_pure': 'DOS',\n    'vice_xpet': 'PET', 'vice_xvic': 'VIC20', 'amiga': 'Amiga', 'vice_x64': 'C64', 'vice_x128': 'C128',\n    'vice_xplus4': 'Plus/4', 'coleco': 'Coleco', 'pce': 'TG16', 'pcfx': 'PC-FX', 'ngp': 'NGP', 'ws': 'WS',\n  };\n  return systemMap[core] || core.toUpperCase();\n};\n\nexport function GameCard({ game, onPlay, onEdit, onDelete, onSelect, isSelected, isDeleteMode, onEnterDeleteMode, onCoverArtClick, colors }: GameCardProps) {\n  const baseCoverClass = \"h-full flex items-center justify-center bg-cover bg-center bg-no-repeat relative\";\n  const cardClass = `group relative overflow-hidden w-64 h-80 rounded-xl transition-all duration-300 ease-in-out hover:shadow-lg hover:z-10 border animate-border-breathe ${isDeleteMode ? 'animate-shake' : 'hover:scale-[1.02]'}`;\n  const overlayClass = \"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent backdrop-brightness-75 flex flex-col justify-end p-5 opacity-0 group-hover:opacity-100 transition-opacity duration-300\";\n  const contentClass = \"transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-400 ease-out\";\n  const buttonClass = \"w-full font-bold py-2.5 px-4 rounded-lg transition-all text-sm hover:shadow-md active:scale-[0.98]\";\n\n  return (\n    <div\n      className={cardClass}\n      style={{\n        backgroundColor: isDeleteMode && isSelected ? '#ef4444' : colors.midDark,\n        boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.3)',\n        borderColor: colors.highlight,\n      }}\n      onClick={() => isDeleteMode && onSelect(game.id)}\n    >\n      {isDeleteMode && isSelected && (\n        <div className=\"absolute inset-0 bg-red-500/40 z-20 flex items-center justify-center rounded-xl\">\n          <Trash2 className=\"w-16 h-16 text-white drop-shadow-lg\" />\n        </div>\n      )}\n      {isDeleteMode && (\n        <div className=\"absolute bottom-3 right-3 z-20\">\n          <div\n            className=\"w-6 h-6 rounded-full border-2 border-white flex items-center justify-center transition-all\"\n            style={{ backgroundColor: isSelected ? 'white' : 'transparent' }}\n          >\n            {isSelected && (\n              <svg className=\"w-4 h-4 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n              </svg>\n            )}\n          </div>\n        </div>\n      )}\n      <div\n        className={baseCoverClass}\n        style={game.coverArt ? {\n          backgroundImage: `url(${game.coverArt})`,\n          backgroundColor: 'transparent',\n          backgroundSize: game.coverArtFit || 'cover',\n          backgroundPosition: 'center',\n          backgroundRepeat: 'no-repeat'\n        } : {\n          ...getGradientStyle(colors.gradientFrom, colors.gradientTo)\n        }}\n      >\n        {!game.coverArt && (\n          <div className=\"flex items-center justify-center\" style={{ color: colors.darkBg }}>\n            <span className=\"text-4xl font-bold tracking-wide\" style={{ textShadow: '0 2px 4px rgba(0,0,0,0.2)' }}>\n              {getSystemDisplayName(game.core)}\n            </span>\n            {onCoverArtClick && !isDeleteMode && (\n              <button\n                onClick={(e) => { e.stopPropagation(); onCoverArtClick(game); }}\n                className=\"absolute inset-0\"\n              >\n                <span className=\"sr-only\">Add cover art</span>\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n      {!isDeleteMode && (\n        <div className={overlayClass}>\n          <div className={contentClass}>\n            <h3 className=\"text-xl font-bold truncate mb-1.5\" style={{ color: colors.softLight, textShadow: '0 2px 4px rgba(0,0,0,0.5)' }}>{game.title}</h3>\n            <p className=\"text-sm mb-3\" style={{ color: colors.highlight }}>\n              {game.genre}\n            </p>\n          <div className=\"flex gap-2.5 items-stretch mt-3\">\n            <button\n              className={buttonClass + \" flex-1\"}\n              style={{ ...getGradientStyle(colors.gradientFrom, colors.gradientTo), color: colors.darkBg }}\n              onClick={(e) => { e.stopPropagation(); onPlay(game); }}\n            >\n              PLAY\n            </button>\n            <button\n              className=\"px-3 py-2.5 rounded-lg transition-all hover:shadow-md active:scale-95 flex items-center justify-center\"\n              style={{ backgroundColor: colors.highlight, color: colors.darkBg }}\n              onClick={(e) => { e.stopPropagation(); onEdit(game); }}\n            >\n              <Settings className=\"w-5 h-5\" />\n            </button>\n            <button\n              className=\"px-3 py-2.5 rounded-lg transition-all hover:shadow-md active:scale-95 flex items-center justify-center select-none\"\n              style={{ backgroundColor: '#ef4444', color: '#ffffff' }}\n              onMouseDown={(e) => {\n                e.stopPropagation();\n                const timeout = setTimeout(() => {\n                  onEnterDeleteMode();\n                }, 500);\n                const cleanup = () => clearTimeout(timeout);\n                e.currentTarget.addEventListener('mouseup', cleanup, { once: true });\n                e.currentTarget.addEventListener('mouseleave', cleanup, { once: true });\n              }}\n              onTouchStart={(e) => {\n                e.stopPropagation();\n                const timeout = setTimeout(() => {\n                  onEnterDeleteMode();\n                }, 500);\n                const cleanup = () => clearTimeout(timeout);\n                e.currentTarget.addEventListener('touchend', cleanup, { once: true });\n              }}\n              onClick={(e) => {\n                e.stopPropagation();\n                onDelete(game);\n              }}\n            >\n              <Trash2 className=\"w-5 h-5\" />\n            </button>\n          </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["Trash2","Settings","Game","THEMES","getGradientStyle","GameCardProps","game","onPlay","onEdit","onDelete","onSelect","gameId","isSelected","isDeleteMode","onEnterDeleteMode","onCoverArtClick","colors","default","getSystemDisplayName","core","systemMap","Record","toUpperCase","GameCard","t0","$","_c","$i","Symbol","for","cardClass","t1","midDark","t2","highlight","backgroundColor","boxShadow","borderColor","t3","id","GameCard[<div>.onClick]","t4","t5","t6","gradientFrom","gradientTo","coverArt","coverArtFit","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","t7","darkBg","color","textShadow","e","stopPropagation","t8","baseCoverClass","t9","softLight","overlayClass","contentClass","title","genre","e_0","e_1","e_2","timeout","setTimeout","GameCard[<button>.onMouseDown > setTimeout()]","cleanup","GameCard[<button>.onMouseDown > cleanup]","clearTimeout","currentTarget","addEventListener","once","e_3","timeout_0","GameCard[<button>.onTouchStart > setTimeout()]","cleanup_0","GameCard[<button>.onTouchStart > cleanup_0]","e_4","t10"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 887, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useLayoutEffect, useMemo, useRef } from 'react';\nimport { loadGame } from '@/lib/emulator';\nimport { saveGameFile, getGameFile } from '@/lib/storage';\nimport { SYSTEM_PICKER, FILE_EXTENSIONS, getSystemNameByCore } from '@/lib/constants';\nimport { Game, THEMES, getGradientStyle } from '@/types';\nimport { GameCard, getSystemDisplayName } from '@/components/GameCardComponent';\nimport { Gamepad2, Palette, Menu, X, Trash2, ArrowUp, ArrowDown, Search, Plus } from 'lucide-react';\n\n\nexport default function Home() {\n  const [activeView, setActiveView] = useState<'library' | 'themes'>('library');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [currentTime, setCurrentTime] = useState<string>('');\n  const [isMounted, setIsMounted] = useState(false);\n  const [games, setGames] = useState<Game[]>([]);\n  const [editingGame, setEditingGame] = useState<Game | null>(null);\n  const [systemPickerOpen, setSystemPickerOpen] = useState(false);\n  const [systemPickerClosing, setSystemPickerClosing] = useState(false);\n  const [pendingGame, setPendingGame] = useState<Partial<Game> | null>(null);\n  const [pendingFiles, setPendingFiles] = useState<Array<{ file: File; index: number }>>([]);\n  const [systemSearchQuery, setSystemSearchQuery] = useState('');\n  const [duplicateMessage, setDuplicateMessage] = useState<string | null>(null);\n  const [showDuplicateMessage, setShowDuplicateMessage] = useState(false);\n  const [isLoadingGames, setIsLoadingGames] = useState(true);\n  const [selectedTheme, setSelectedTheme] = useState<string>('default');\n  const [searchFocused, setSearchFocused] = useState(false);\n  const [gameSearchFocused, setGameSearchFocused] = useState(false);\n  const [gameSearchQuery, setGameSearchQuery] = useState('');\n  const [gameSearchExpanded, setGameSearchExpanded] = useState(false);\n  const [coverArtFit, setCoverArtFit] = useState<'cover' | 'contain'>('cover');\n  const [sortBy, setSortBy] = useState<'title' | 'system'>('title');\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('asc');\n  const [isHydrated, setIsHydrated] = useState(false);\n  const [selectedGameIds, setSelectedGameIds] = useState<Set<number>>(new Set());\n  const [isDeleteMode, setIsDeleteMode] = useState(false);\n  const [deletingGameIds, setDeletingGameIds] = useState<Set<number>>(new Set());\n  const gameSearchInputRef = useRef<HTMLInputElement | null>(null);\n\n  // Sync theme from localStorage immediately before first render to prevent flash\n  useLayoutEffect(() => {\n    if (typeof window === 'undefined') return;\n    const savedTheme = localStorage.getItem('theme') || 'default';\n    setSelectedTheme(savedTheme);\n    setIsHydrated(true);\n  }, []);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem('theme', selectedTheme);\n  }, [selectedTheme]);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    // Load sort preferences from localStorage\n    const savedSortBy = (localStorage.getItem('sortBy') as 'title' | 'system') || 'title';\n    const savedSortOrder = (localStorage.getItem('sortOrder') as 'asc' | 'desc') || 'asc';\n    setSortBy(savedSortBy);\n    setSortOrder(savedSortOrder);\n\n    const updateTime = () => {\n      setCurrentTime(new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }));\n    };\n    updateTime();\n    setIsMounted(true);\n    const interval = setInterval(updateTime, 60000);\n\n    // Load games from localStorage on mount\n    const loadGames = async () => {\n      setIsLoadingGames(true);\n      const savedGames = localStorage.getItem('games');\n      if (savedGames) {\n        try {\n          const loadedGames: Game[] = JSON.parse(savedGames);\n\n          // Migrate old games with fileData to IndexedDB\n          let migratedGames = loadedGames;\n          for (const game of loadedGames) {\n            if (game.fileData) {\n              migratedGames = await migrateGameToIndexedDB(game, migratedGames);\n            }\n          }\n\n          // Migrate games: update genre and coverArtFit\n          migratedGames = migratedGames.map(game => {\n            let updated = { ...game };\n            if (game.genre === 'ROM' && game.core) {\n              const systemName = getSystemNameByCore(game.core);\n              updated.genre = systemName;\n            }\n            if (game.coverArt && !game.coverArtFit) {\n              updated.coverArtFit = 'cover';\n            }\n            return updated;\n          });\n\n          if (migratedGames !== loadedGames) {\n            // Update localStorage with migrated games (without fileData)\n            localStorage.setItem('games', JSON.stringify(migratedGames));\n          }\n\n          setGames(migratedGames);\n        } catch (e) {\n          console.error('Failed to load games from storage', e);\n        }\n      }\n      setIsLoadingGames(false);\n    };\n\n    loadGames();\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // Save sort preferences to localStorage when they change\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem('sortBy', sortBy);\n  }, [sortBy]);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem('sortOrder', sortOrder);\n  }, [sortOrder]);\n\n  // Close system picker with fade-out animation\n  const closeSystemPicker = () => {\n    setSystemPickerClosing(true);\n    setTimeout(() => {\n      setSystemPickerOpen(false);\n      setSystemPickerClosing(false);\n      setPendingFiles([]);\n      setPendingGame(null);\n      setEditingGame(null);\n      setSystemSearchQuery('');\n    }, 200); // Match the fade-out animation duration\n  };\n\n  const handleSystemPickerDone = async () => {\n    if (editingGame) {\n      closeSystemPicker();\n      return;\n    }\n\n    if (pendingFiles.length === 1 && pendingGame?.core) {\n      try {\n        const { file } = pendingFiles[0];\n        const gameId = pendingGame.id ?? Date.now();\n        const fileName = pendingGame.fileName || file.name;\n        const derivedTitle = pendingGame.title || file.name.replace(/\\.[^/.]+$/, '');\n        const genre = pendingGame.genre || getSystemNameByCore(pendingGame.core) || 'Unknown System';\n\n        const isDuplicate = games.some(g => g.fileName === file.name);\n        if (isDuplicate) {\n          setDuplicateMessage(`\"${file.name}\" is already in your library`);\n          setShowDuplicateMessage(true);\n          closeSystemPicker();\n          setTimeout(() => setShowDuplicateMessage(false), 2500);\n          setTimeout(() => setDuplicateMessage(null), 3000);\n          return;\n        }\n\n        await saveGameFile(gameId, file);\n\n        const newGame: Game = {\n          id: gameId,\n          title: derivedTitle,\n          genre,\n          filePath: pendingGame.filePath || file.name,\n          fileName,\n          core: pendingGame.core,\n          coverArt: pendingGame.coverArt,\n          coverArtFit: pendingGame.coverArt ? (pendingGame.coverArtFit || coverArtFit) : undefined,\n        };\n\n        const updatedGames = [...games, newGame];\n        setGames(updatedGames);\n        localStorage.setItem('games', JSON.stringify(updatedGames));\n      } catch (error) {\n        console.error('Error finalizing game addition:', error);\n      }\n    }\n\n    closeSystemPicker();\n  };\n\n  // Migrate old games with fileData to IndexedDB\n  const migrateGameToIndexedDB = async (game: Game, allGames: Game[]): Promise<Game[]> => {\n    if (!game.fileData || !game.fileData.startsWith('data:')) {\n      // Already migrated or invalid\n      return allGames;\n    }\n\n    try {\n      // Convert base64 back to File\n      const response = await fetch(game.fileData);\n      const blob = await response.blob();\n      const file = new File([blob], game.fileName || game.title, { type: 'application/octet-stream' });\n      await saveGameFile(game.id, file);\n\n      // Remove fileData from game object\n      const { fileData, ...gameWithoutData } = game;\n      return allGames.map(g => g.id === game.id ? gameWithoutData : g);\n    } catch (error) {\n      console.error('Error migrating game to IndexedDB:', error);\n      return allGames;\n    }\n  };\n\n  const getSystemFromExtension = (extension: string): string | null => {\n    return FILE_EXTENSIONS[extension.toLowerCase()] || null;\n  };\n\n  const processGameFile = async (file: File, index: number, selectedCore?: string, currentGamesList?: Game[]): Promise<Game[]> => {\n    const fileName = file.name;\n    const nameWithoutExt = fileName.replace(/\\.[^/.]+$/, '');\n    const fileExtension = fileName.split(\".\").pop()?.toLowerCase() || \"\";\n\n    // Check for duplicates\n    const gamesListToCheck = currentGamesList || games;\n    const isDuplicate = gamesListToCheck.some(g => g.fileName === fileName || g.filePath === file.name);\n    if (isDuplicate) {\n      setDuplicateMessage(`\"${fileName}\" is already in your library`);\n      setShowDuplicateMessage(true);\n      setTimeout(() => setShowDuplicateMessage(false), 2500);\n      setTimeout(() => setDuplicateMessage(null), 3000);\n      return gamesListToCheck;\n    }\n\n    const detectedCore = selectedCore || getSystemFromExtension(fileExtension);\n    const gameId = Date.now() + index;\n\n    await saveGameFile(gameId, file);\n\n    // Get system name for genre display\n    const systemName = detectedCore\n      ? getSystemNameByCore(detectedCore)\n      : 'Unknown System';\n\n    const gameData: Partial<Game> = {\n      id: gameId,\n      title: nameWithoutExt,\n      genre: systemName,\n      filePath: file.name,\n      fileName: fileName,\n      core: detectedCore || undefined,\n    };\n\n    if (detectedCore) {\n      const newGame = gameData as Game;\n      const updatedGames = [...gamesListToCheck, newGame];\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      return updatedGames;\n    }\n\n    return gamesListToCheck;\n  };\n\n  const selectSystem = async (core: string) => {\n    const systemName = getSystemNameByCore(core);\n\n    // If adding multiple files from file picker\n    if (pendingFiles.length > 1) {\n      let currentGames = games;\n      for (const { file, index } of pendingFiles) {\n        currentGames = await processGameFile(file, index, core, currentGames);\n      }\n      setPendingFiles([]);\n      closeSystemPicker();\n      return;\n    }\n\n    // If adding a single file from file picker without detected system\n    if (editingGame) {\n      // When editing, update the selection and keep modal open\n      const updatedGames = games.map(g => g.id === editingGame.id ? { ...g, core: core, genre: systemName } : g);\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      // Update the editing game and pending game to reflect the new selection\n      setEditingGame({ ...editingGame, core: core, genre: systemName });\n      if (pendingGame) {\n        setPendingGame({ ...pendingGame, core: core, genre: systemName });\n      }\n      // Don't close the modal - let user close it manually\n    } else if (pendingGame) {\n      setPendingGame({\n        ...pendingGame,\n        core: core,\n        genre: systemName\n      });\n    }\n  };\n\n  const applyCoverArt = async (coverArt: string | null) => {\n    if (!coverArt) return;\n\n    if (editingGame) {\n      const updatedGames = games.map(g =>\n        g.id === editingGame.id ? { ...g, coverArt: coverArt, coverArtFit: coverArtFit } : g\n      );\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      setEditingGame({ ...editingGame, coverArt: coverArt, coverArtFit: coverArtFit });\n      if (pendingGame && pendingGame.id === editingGame.id) {\n        setPendingGame({ ...pendingGame, coverArt: coverArt, coverArtFit: coverArtFit });\n      }\n    } else if (pendingGame) {\n      setPendingGame({ ...pendingGame, coverArt: coverArt, coverArtFit: coverArtFit });\n    }\n  };\n\n  const updateCoverArtFit = (newFit: 'cover' | 'contain') => {\n    if (editingGame && (editingGame.coverArt || pendingGame?.coverArt)) {\n      const updatedGames = games.map(g =>\n        g.id === editingGame.id ? { ...g, coverArtFit: newFit } : g\n      );\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      setEditingGame({ ...editingGame, coverArtFit: newFit });\n      if (pendingGame && pendingGame.id === editingGame.id) {\n        setPendingGame({ ...pendingGame, coverArtFit: newFit });\n      }\n    } else if (pendingGame && pendingGame.coverArt) {\n      setPendingGame({ ...pendingGame, coverArtFit: newFit });\n    }\n  };\n\n  const handleCoverArtFileUpload = async (file: File): Promise<void> => {\n    try {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const dataUrl = e.target?.result as string;\n        applyCoverArt(dataUrl);\n      };\n      reader.onerror = () => {\n        console.error('Error reading file');\n      };\n      reader.readAsDataURL(file);\n    } catch (error) {\n      console.error('Error uploading cover art:', error);\n    }\n  };\n\n  const removeCoverArt = () => {\n    if (editingGame) {\n      const updatedGames = games.map(g =>\n        g.id === editingGame.id ? { ...g, coverArt: undefined } : g\n      );\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      const updatedEditingGame = { ...editingGame, coverArt: undefined };\n      setEditingGame(updatedEditingGame);\n      // Also update pendingGame if it exists\n      if (pendingGame && pendingGame.id === editingGame.id) {\n        setPendingGame(updatedEditingGame);\n      }\n    } else if (pendingGame) {\n      setPendingGame({ ...pendingGame, coverArt: undefined });\n    }\n  };\n\n  const handleFileSelect = async () => {\n    try {\n      let files: File[] = [];\n\n      if ('showOpenFilePicker' in window) {\n        const fileHandles = await (window as any).showOpenFilePicker({\n          multiple: true\n        });\n        files = await Promise.all(fileHandles.map((fh: any) => fh.getFile()));\n      } else {\n        // Fallback for browsers without File System Access API\n        files = await new Promise<File[]>((resolve) => {\n          const input = document.createElement('input');\n          input.type = 'file';\n          input.multiple = true;\n          input.onchange = (e: any) => {\n            resolve(Array.from(e.target.files || []) as File[]);\n          };\n          input.click();\n        });\n      }\n\n      // First, process files with detected systems\n      const filesNeedingSystem: Array<{ file: File; index: number }> = [];\n      let currentGames = games;\n\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const fileExtension = file.name.split(\".\").pop()?.toLowerCase() || \"\";\n        const detectedCore = getSystemFromExtension(fileExtension);\n\n        if (detectedCore) {\n          // Auto-add files with detected systems\n          currentGames = await processGameFile(file, i, detectedCore, currentGames);\n        } else {\n          // Collect files that need system selection\n          filesNeedingSystem.push({ file, index: i });\n        }\n      }\n\n      // Filter out duplicates\n      const filteredFilesNeedingSystem = filesNeedingSystem.filter(({ file }) => {\n        const fileName = file.name;\n        return !currentGames.some(g => g.fileName === fileName || g.filePath === file.name);\n      });\n\n      // If there are files without detected systems, show system picker\n      if (filteredFilesNeedingSystem.length > 0) {\n        setPendingFiles(filteredFilesNeedingSystem);\n        // Only set pendingGame if it's a single file (for the UI to show cover art section)\n        if (filteredFilesNeedingSystem.length === 1) {\n          const fileName = filteredFilesNeedingSystem[0].file.name;\n          const nameWithoutExt = fileName.replace(/\\.[^/.]+$/, '');\n          setPendingGame({\n            id: Date.now(),\n            title: nameWithoutExt,\n            genre: 'Unknown',\n            filePath: fileName,\n            fileName: fileName,\n          });\n        } else {\n          setPendingGame(null);\n        }\n        setCoverArtFit('cover');\n        setSystemPickerOpen(true);\n      } else if (filesNeedingSystem.length > 0) {\n        if (filesNeedingSystem.length === 1) {\n          setDuplicateMessage(`The file \"${filesNeedingSystem[0].file.name}\" is already in your library`);\n        } else {\n          setDuplicateMessage(`All ${filesNeedingSystem.length} selected files are already in your library`);\n        }\n        setShowDuplicateMessage(true);\n        setTimeout(() => setShowDuplicateMessage(false), 2000);\n        setTimeout(() => setDuplicateMessage(null), 2500);\n      }\n    } catch (err: any) {\n      if (err.name !== 'AbortError') {\n        console.error('Error selecting files:', err);\n      }\n    }\n  };\n\n  const handleEditGame = (game: Game) => {\n    setEditingGame(game);\n    setPendingGame({ ...game });\n    setCoverArtFit(game.coverArtFit || 'cover');\n    setSystemPickerOpen(true);\n  };\n\n  const handleDeleteGame = async (game: Game) => {\n    if (confirm(`Are you sure you want to delete \"${game.title}\"?`)) {\n      try {\n        const { deleteGameFile } = await import('@/lib/storage');\n\n        // Trigger fade-out animation for this game\n        setDeletingGameIds(prev => {\n          const next = new Set(prev);\n          next.add(game.id);\n          return next;\n        });\n\n        await new Promise(resolve => setTimeout(resolve, 400));\n\n        await deleteGameFile(game.id);\n\n        const updatedGames = games.filter(g => g.id !== game.id);\n        setGames(updatedGames);\n        localStorage.setItem('games', JSON.stringify(updatedGames));\n\n        setDeletingGameIds(prev => {\n          const next = new Set(prev);\n          next.delete(game.id);\n          return next;\n        });\n      } catch (error) {\n        console.error('Error deleting game:', error);\n      }\n    }\n  };\n\n  const toggleGameSelection = (gameId: number) => {\n    const newSelected = new Set(selectedGameIds);\n    if (newSelected.has(gameId)) {\n      newSelected.delete(gameId);\n    } else {\n      newSelected.add(gameId);\n    }\n    setSelectedGameIds(newSelected);\n  };\n\n  const toggleSelectAll = () => {\n    if (selectedGameIds.size === games.length) {\n      setSelectedGameIds(new Set());\n    } else {\n      setSelectedGameIds(new Set(games.map(g => g.id)));\n    }\n  };\n\n  const handleMassDelete = async () => {\n    if (selectedGameIds.size === 0) return;\n\n    if (confirm(`Are you sure you want to delete ${selectedGameIds.size} game(s)? This action cannot be undone.`)) {\n      try {\n        const { deleteGameFile } = await import('@/lib/storage');\n\n        // Trigger fade-out animation\n        setDeletingGameIds(new Set(selectedGameIds));\n\n        // Wait for animation to complete\n        await new Promise(resolve => setTimeout(resolve, 400));\n\n        // Delete from IndexedDB\n        for (const gameId of selectedGameIds) {\n          await deleteGameFile(gameId);\n        }\n\n        // Remove from state and localStorage\n        const updatedGames = games.filter(g => !selectedGameIds.has(g.id));\n        setGames(updatedGames);\n        localStorage.setItem('games', JSON.stringify(updatedGames));\n        setSelectedGameIds(new Set());\n        setDeletingGameIds(new Set());\n        setIsDeleteMode(false);\n      } catch (error) {\n        console.error('Error deleting games:', error);\n      }\n    }\n  };\n\n  const deleteButtonRef = useRef<HTMLButtonElement>(null);\n  const deleteTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const isPressingRef = useRef(false);\n\n  const toggleGameSearch = () => {\n    setGameSearchExpanded((prev) => {\n      const next = !prev;\n      if (next) {\n        requestAnimationFrame(() => gameSearchInputRef.current?.focus());\n      } else {\n        setGameSearchQuery('');\n      }\n      return next;\n    });\n  };\n\n  const handleDeleteButtonMouseDown = () => {\n    isPressingRef.current = true;\n    deleteTimeoutRef.current = setTimeout(() => {\n      if (isPressingRef.current) {\n        setIsDeleteMode(true);\n      }\n    }, 500);\n  };\n\n  const handleDeleteButtonMouseUp = () => {\n    isPressingRef.current = false;\n    if (deleteTimeoutRef.current) {\n      clearTimeout(deleteTimeoutRef.current);\n      deleteTimeoutRef.current = null;\n    }\n  };\n\n  const exitDeleteMode = () => {\n    setIsDeleteMode(false);\n    setSelectedGameIds(new Set());\n  };\n\n  const handlePlayClick = async (game: Game) => {\n    try {\n      let file: File | null = null;\n\n      // Try to get file from IndexedDB first\n      file = await getGameFile(game.id);\n\n      // Fallback to legacy fileData if IndexedDB doesn't have it\n      if (!file && game.fileData) {\n        const response = await fetch(game.fileData);\n        const blob = await response.blob();\n        file = new File([blob], game.fileName || game.title, { type: 'application/octet-stream' });\n        // Save to IndexedDB for next time\n        await saveGameFile(game.id, file);\n      }\n\n      if (file) {\n        await loadGame(file, game.core, currentColors.playGreen);\n      } else {\n        console.error('Game file not found');\n      }\n    } catch (error) {\n      console.error('Error loading game:', error);\n    }\n  };\n\n  const handleNavClick = (viewName: 'library' | 'themes') => {\n    setActiveView(viewName);\n    setIsSidebarOpen(false);\n  };\n\n  const getSidebarButtonClass = (view: 'library' | 'themes') => {\n    const baseClass = \"sidebar-item block p-3 mb-2 rounded-lg transition-all flex items-center border-l-4 hover:translate-x-1\";\n    const isActive = activeView === view;\n    return `${baseClass} ${isActive ? 'border-l-4' : 'border-transparent'}`;\n  };\n\n  const sidebarClass = isSidebarOpen ? \"translate-x-0\" : \"-translate-x-full\";\n  const sidebarFullClass = `w-64 p-6 flex flex-col justify-start shadow-xl fixed left-0 top-0 bottom-0 z-50 transition-all duration-300 ease-in-out ${sidebarClass}`;\n\n  const currentColors = THEMES[selectedTheme as keyof typeof THEMES] || THEMES.default;\n\n  const handleThemeChange = (themeName: string) => {\n    setSelectedTheme(themeName);\n  };\n\n  // Get system category for a game based on the core\n  const getSystemCategory = (core?: string): string => {\n    if (!core) return 'Other';\n\n    // Check which category the core belongs to\n    for (const [category, systems] of Object.entries(SYSTEM_PICKER)) {\n      if (Object.values(systems).includes(core)) {\n        return category;\n      }\n    }\n    return 'Other';\n  };\n\n  // Sort and filter games\n  const sortedGames = useMemo(() => {\n    let filtered = [...games];\n    \n    // Filter by search query\n    if (gameSearchQuery.trim()) {\n      const query = gameSearchQuery.toLowerCase();\n      filtered = filtered.filter(game => \n        game.title.toLowerCase().includes(query) || \n        game.genre.toLowerCase().includes(query)\n      );\n    }\n    \n    filtered.sort((a, b) => {\n      let comparison = 0;\n      if (sortBy === 'title') {\n        comparison = a.title.localeCompare(b.title);\n      } else if (sortBy === 'system') {\n        comparison = a.genre.localeCompare(b.genre);\n      }\n      return sortOrder === 'asc' ? comparison : -comparison;\n    });\n    return filtered;\n  }, [games, sortBy, sortOrder, gameSearchQuery]);\n\n  // Group games by system category when sorting by system\n  const groupedGames = useMemo(() => {\n    if (sortBy !== 'system') {\n      return null;\n    }\n\n    const categoryOrder = ['Nintendo', 'Sega', 'Sony', 'Atari', 'Other'];\n    const groups: Record<string, Game[]> = {\n      'Nintendo': [],\n      'Sega': [],\n      'Sony': [],\n      'Atari': [],\n      'Other': []\n    };\n\n    sortedGames.forEach(game => {\n      const category = getSystemCategory(game.core);\n      groups[category].push(game);\n    });\n\n    // Sort categories based on sort order\n    if (sortOrder === 'desc') {\n      categoryOrder.reverse();\n    }\n\n    // Create new object with sorted category order\n    const sortedGroups: Record<string, Game[]> = {};\n    categoryOrder.forEach(category => {\n      if (groups[category].length > 0) {\n        sortedGroups[category] = groups[category];\n      }\n    });\n\n    return sortedGroups;\n  }, [sortedGames, sortBy, sortOrder]);\n\n  const renderContent = () => {\n    if (activeView === 'themes') {\n      return (\n        <div>\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold\" style={{ color: currentColors.softLight }}>\n              Select Theme\n            </h2>\n          </div>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {Object.entries(THEMES).map(([themeName, themeColors]) => {\n          const baseName = themeName;\n          return (\n              <button\n                key={themeName}\n                onClick={() => handleThemeChange(baseName)}\n                className=\"p-6 rounded-xl transition-all border-2 relative overflow-hidden\"\n                style={{\n                  backgroundColor: themeColors.midDark,\n                  borderColor: selectedTheme === baseName ? themeColors.playGreen : themeColors.highlight + '40',\n                  boxShadow: selectedTheme === baseName ? `0 2px 8px ${themeColors.playGreen}30` : '0 2px 4px rgba(0, 0, 0, 0.2)',\n                }}\n              >\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-xl font-bold capitalize\" style={{ color: themeColors.softLight }}>\n                    {baseName}\n                  </h3>\n                  {selectedTheme === baseName && (\n                    <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\" style={{ color: themeColors.playGreen }}>\n                      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                    </svg>\n                  )}\n                </div>\n                <div className=\"flex gap-2\">\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.darkBg }}></div>\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.midDark }}></div>\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.playGreen }}></div>\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.highlight }}></div>\n                </div>\n              </button>\n            );\n        })}\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: currentColors.softLight }}>\n          Games ({sortedGames.length})\n        </h2>\n        {games.length > 0 && (\n          <div className=\"flex flex-col gap-4 mb-6\">\n            <div className=\"flex flex-col lg:flex-row lg:items-center gap-3\">\n              <div className=\"flex flex-wrap gap-3 items-center flex-1 min-w-0\">\n                <div\n                  className=\"flex items-center rounded-xl border-2 transition-all\"\n                  style={{\n                    backgroundColor: currentColors.darkBg,\n                    borderColor: gameSearchFocused ? currentColors.playGreen : currentColors.highlight + '50',\n                    boxShadow: gameSearchFocused ? `0 0 0 2px ${currentColors.playGreen}30` : 'none',\n                    width: '340px',\n                    height: '48px',\n                  }}\n                >\n                  <div className=\"w-12 h-full flex items-center justify-center flex-shrink-0\" style={{ color: currentColors.softLight }}>\n                    <Search className=\"w-4 h-4\" />\n                  </div>\n                  <input\n                    ref={gameSearchInputRef}\n                    type=\"text\"\n                    placeholder=\"Search games...\"\n                    value={gameSearchQuery}\n                    onChange={(e) => setGameSearchQuery(e.target.value)}\n                    onFocus={() => setGameSearchFocused(true)}\n                    onBlur={() => setGameSearchFocused(false)}\n                    className=\"bg-transparent h-full flex-1 focus:outline-none text-sm pr-4\"\n                    style={{\n                      color: currentColors.softLight,\n                    }}\n                  />\n                </div>\n                <div\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-xl border-2\"\n                  style={{ backgroundColor: currentColors.darkBg, borderColor: currentColors.highlight + '40', height: '48px' }}\n                >\n                  <label className=\"text-sm font-medium\" style={{ color: currentColors.highlight }}>Sort by:</label>\n                  <div className=\"flex gap-1\">\n                    {(['title', 'system'] as const).map((option) => (\n                      <button\n                        key={option}\n                        onClick={() => setSortBy(option)}\n                        className=\"px-3 py-1 rounded-lg text-sm font-medium transition-all active:scale-95 h-9\"\n                        style={{\n                          backgroundColor: sortBy === option ? currentColors.highlight : currentColors.midDark,\n                          color: sortBy === option ? currentColors.darkBg : currentColors.softLight,\n                        }}\n                      >\n                        {option === 'title' ? 'Title' : 'System'}\n                      </button>\n                    ))}\n                  </div>\n                  <button\n                    onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}\n                    className=\"px-2 py-1 rounded-lg text-sm font-medium transition-all hover:shadow-md active:scale-95 flex items-center justify-center h-9\"\n                    style={{\n                      backgroundColor: currentColors.midDark,\n                      color: currentColors.softLight,\n                    }}\n                  >\n                    <div className=\"w-4 h-4 flex items-center justify-center\">\n                      {sortOrder === 'asc' ? <ArrowUp className=\"w-4 h-4\" /> : <ArrowDown className=\"w-4 h-4\" />}\n                    </div>\n                  </button>\n                </div>\n              </div>\n              <div className=\"flex flex-wrap gap-3 justify-end items-center\">\n                {isDeleteMode ? (\n                  <>\n                    <button\n                      onClick={handleMassDelete}\n                      disabled={selectedGameIds.size === 0}\n                      className=\"px-4 py-2.5 rounded-lg font-semibold transition-all hover:shadow-md active:scale-95\"\n                      style={{\n                        backgroundColor: '#ef4444',\n                        color: currentColors.softLight,\n                        opacity: selectedGameIds.size === 0 ? 0.5 : 1\n                      }}\n                    >\n                      Delete Selected ({selectedGameIds.size})\n                    </button>\n                    <button\n                      onClick={exitDeleteMode}\n                      className=\"px-5 py-2.5 rounded-lg font-semibold transition-all active:scale-95\"\n                      style={{ backgroundColor: currentColors.highlight, color: currentColors.darkBg }}\n                    >\n                      Cancel\n                    </button>\n                  </>\n                ) : (\n                  <button\n                    onClick={handleFileSelect}\n                    className=\"px-8 rounded-lg font-semibold transition-all hover:shadow-md active:scale-95 flex items-center gap-2 justify-center\"\n                    style={{ ...getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo), color: currentColors.darkBg, height: '48px' }}\n                  >\n                    <Plus className=\"w-5 h-5\" />\n                    <span>Add Game</span>\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n        {sortBy === 'system' && groupedGames && (\n          <div>\n            {Object.entries(groupedGames).map(([category, categoryGames]) => (\n              <div key={category} className=\"mb-8 last:mb-0\">\n                <div className=\"flex items-center mb-4\">\n                  <h4 className=\"text-xs font-bold uppercase tracking-wider pr-3\" style={{ color: currentColors.highlight }}>\n                    {category}\n                  </h4>\n                  <div className=\"flex-1 h-px\" style={{ backgroundColor: currentColors.highlight + '30' }}></div>\n                </div>\n                <div className=\"flex flex-wrap\" style={{ gap: '1rem' }}>\n                  {categoryGames.map((game, index) => {\n                    const isGameDeleting = deletingGameIds.has(game.id);\n                    // Only count games that are NOT being deleted for animation purposes\n                    const visibleIndex = categoryGames.slice(0, index).filter(g => !deletingGameIds.has(g.id)).length;\n                    const reverseStaggerDelay = (categoryGames.length - 1 - index) * 0.03;\n                    return (\n                      <div key={game.id} style={{ animation: isGameDeleting ? `fadeOut 0.3s ease-in-out ${reverseStaggerDelay}s forwards` : `fadeIn 0.5s ease-in-out ${visibleIndex * 0.03}s both` }}>\n                        <GameCard game={game} onPlay={handlePlayClick} onEdit={handleEditGame} onDelete={handleDeleteGame} onSelect={toggleGameSelection} isSelected={selectedGameIds.has(game.id)} isDeleteMode={isDeleteMode} onEnterDeleteMode={() => setIsDeleteMode(true)} colors={currentColors} />\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n        {(!sortBy || sortBy !== 'system') && (\n          <div className=\"flex flex-wrap\" style={{ gap: '1rem' }}>\n            {sortedGames.map((game, index) => {\n              const isGameDeleting = deletingGameIds.has(game.id);\n              // Only count games that are NOT being deleted for animation purposes\n              const visibleIndex = sortedGames.slice(0, index).filter(g => !deletingGameIds.has(g.id)).length;\n              const reverseStaggerDelay = (sortedGames.length - 1 - index) * 0.03;\n              return (\n                <div key={game.id} style={{ animation: isGameDeleting ? `fadeOut 0.3s ease-in-out ${reverseStaggerDelay}s forwards` : `fadeIn 0.5s ease-in-out ${visibleIndex * 0.03}s both` }}>\n                  <GameCard game={game} onPlay={handlePlayClick} onEdit={handleEditGame} onDelete={handleDeleteGame} onSelect={toggleGameSelection} isSelected={selectedGameIds.has(game.id)} isDeleteMode={isDeleteMode} onEnterDeleteMode={() => setIsDeleteMode(true)} onCoverArtClick={(game) => {\n                    setEditingGame(game);\n                    setPendingGame(game);\n                    setCoverArtFit(game.coverArtFit || 'cover');\n                    setSystemPickerOpen(true);\n                  }} colors={currentColors} />\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {!isHydrated ? (\n        <div className=\"min-h-screen flex flex-col\" style={{ backgroundColor: '#0f0f0f', fontFamily: 'Inter, sans-serif' }} />\n      ) : (\n        <div className=\"min-h-screen flex flex-col\" style={{ backgroundColor: currentColors.darkBg, fontFamily: 'Inter, sans-serif' }}>\n          <div\n            className={`fixed inset-0 z-40 transition-all duration-300 ${isSidebarOpen ? 'bg-black/60 backdrop-blur-sm' : 'bg-black/0 backdrop-blur-none pointer-events-none'\n              }`}\n            onClick={() => setIsSidebarOpen(false)}\n          />\n          <aside className={sidebarFullClass} style={{ backgroundColor: currentColors.midDark, boxShadow: '4px 0 12px rgba(0, 0, 0, 0.3)' }}>\n            <div className=\"flex items-center gap-3 mb-12 animate-fade-in pb-6 border-b\" style={{ borderColor: currentColors.highlight + '30' }}>\n              <img src=\"/favicon.ico\" alt=\"Joe T Emulator\" className=\"w-12 h-12 flex-shrink-0\" />\n              <h2 className=\"text-2xl font-extrabold leading-tight\" style={{\n                backgroundImage: `linear-gradient(135deg, ${currentColors.softLight} 0%, ${currentColors.highlight} 100%)`,\n                backgroundRepeat: 'no-repeat',\n                backgroundSize: '100% 100%',\n                WebkitBackgroundClip: 'text',\n                backgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                color: 'transparent',\n                fontFamily: 'Inter, sans-serif',\n                letterSpacing: '-0.02em'\n              }}>\n                Joe T Emulator\n              </h2>\n            </div>\n            <nav>\n              {[\n                { view: 'library' as const, icon: Gamepad2, label: 'Library' },\n                { view: 'themes' as const, icon: Palette, label: 'Themes' }\n              ].map(({ view, icon: Icon, label }, index) => (\n                <button\n                  key={view}\n                  className={getSidebarButtonClass(view) + \" hover:bg-opacity-50\"}\n                  style={{\n                    backgroundColor: activeView === view ? currentColors.sidebarHover : 'transparent',\n                    borderLeftColor: activeView === view ? currentColors.highlight : 'transparent',\n                    borderLeftWidth: activeView === view ? '4px' : '0px',\n                    color: currentColors.softLight,\n                    transition: 'all 0.2s ease',\n                    animation: `fadeInSlide 0.3s ease-out ${index * 0.1}s both`\n                  }}\n                  onClick={() => handleNavClick(view)}\n                >\n                  <Icon className=\"w-6 h-6 mr-3 transition-transform\" />\n                  <span className=\"font-semibold\">{label}</span>\n                </button>\n              ))}\n            </nav>\n          </aside>\n          <div className=\"flex-1 overflow-hidden\">\n            <main className=\"p-8 overflow-y-auto pb-20 scrollbar-hide\" style={{ minHeight: 'calc(100vh - 4rem)' }}>\n              <header className=\"mb-10\">\n                <div className=\"flex justify-between items-center\">\n                  <h1 className=\"text-4xl font-extrabold tracking-tight\" style={{ color: currentColors.softLight, textShadow: '0 2px 4px rgba(0,0,0,0.2)' }}>\n                    {activeView.charAt(0).toUpperCase() + activeView.slice(1)}\n                  </h1>\n                  <div className=\"flex items-center space-x-4\">\n                    {isMounted && (\n                      <div className=\"hidden sm:block text-sm font-medium px-3 py-1.5 rounded-lg transition-all\" style={{ color: currentColors.softLight, backgroundColor: currentColors.midDark }}>\n                        {currentTime}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </header>\n              {renderContent()}\n            </main>\n          </div>\n          {duplicateMessage && (\n            <div\n              className=\"fixed bottom-24 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-lg shadow-2xl z-60 animate-fade-in p-4 transition-opacity duration-300\"\n              onClick={() => setDuplicateMessage(null)}\n              style={{\n                backgroundColor: '#ef4444',\n                color: currentColors.softLight,\n                opacity: showDuplicateMessage ? 1 : 0,\n                transition: 'opacity 0.3s ease-out',\n                pointerEvents: showDuplicateMessage ? 'auto' : 'none'\n              }}\n            >\n              <div className=\"flex items-center gap-2\">\n                <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n                <span className=\"font-semibold\">{duplicateMessage}</span>\n              </div>\n            </div>\n          )}\n          <footer className=\"fixed bottom-0 left-0 right-0 h-16 border-t flex items-center justify-between px-6 z-50\" style={{ backgroundColor: currentColors.midDark, borderColor: currentColors.sidebarHover, boxShadow: '0 -4px 12px rgba(0, 0, 0, 0.3)' }}>\n            <button\n              className=\"p-2.5 rounded-lg transition-all hover:bg-opacity-50 active:scale-95\"\n              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n              style={{ color: currentColors.softLight, backgroundColor: isSidebarOpen ? currentColors.sidebarHover : 'transparent' }}\n            >\n              {isSidebarOpen ? <X className=\"w-7 h-7 transition-transform rotate-0\" /> : <Menu className=\"w-7 h-7 transition-transform\" />}\n            </button>\n            <div className=\"flex-1 mx-4\" />\n          </footer>\n          {(systemPickerOpen || systemPickerClosing) && (() => {\n            // SYSTEM_PICKER is already organized by category\n            const filteredCategories: Record<string, Array<[string, string]>> = {};\n\n            Object.entries(SYSTEM_PICKER).forEach(([category, systems]) => {\n              const filtered = Object.entries(systems).filter(([name]) =>\n                name.toLowerCase().includes(systemSearchQuery.toLowerCase())\n              );\n              if (filtered.length > 0) {\n                filteredCategories[category] = filtered;\n              }\n            });\n\n            const currentCore = editingGame?.core || pendingGame?.core;\n\n            return (\n              <div\n                className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in p-4\"\n                onClick={() => closeSystemPicker()}\n                style={{ animation: systemPickerClosing ? 'fadeOut 0.2s ease-out' : 'fadeIn 0.2s ease-out' }}\n              >\n                <div\n                  className=\"p-6 rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col shadow-2xl border\"\n                  style={{\n                    backgroundColor: currentColors.midDark,\n                    borderColor: currentColors.highlight + '30',\n                    boxShadow: '0 20px 60px rgba(0, 0, 0, 0.7)',\n                    animation: systemPickerClosing ? 'slideDown 0.2s ease-out' : 'slideUp 0.3s ease-out'\n                  }}\n                  onClick={(e) => e.stopPropagation()}\n                >\n                  {/* Header */}\n                  <div className=\"mb-6\">\n                    <h3 className=\"text-3xl font-bold mb-2\" style={{ color: currentColors.softLight }}>\n                      {editingGame ? editingGame.title : pendingFiles.length > 1 ? `Add ${pendingFiles.length} Games` : 'Select System'}\n                    </h3>\n                    {editingGame && (\n                      <p className=\"text-sm opacity-70\" style={{ color: currentColors.highlight }}>\n                        Choose a system and cover art\n                      </p>\n                    )}\n                    {pendingFiles.length > 1 && (\n                      <p className=\"text-sm opacity-70\" style={{ color: currentColors.highlight }}>\n                        Choose a system for {pendingFiles.length} files\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Main Content: Cover Art + Systems */}\n                  <div className=\"flex flex-col xl:flex-row gap-6 flex-1 min-h-0 overflow-hidden\">\n                    {/* Cover Art Section - only show when editing or adding single game (not multi-file batch) */}\n                    {pendingFiles.length <= 1 && (\n                      <div className=\"flex-shrink-0 w-full xl:w-80 space-y-4 max-h-[60vh] xl:max-h-full overflow-y-auto\">\n                        <div className=\"rounded-xl border overflow-hidden\" style={{ borderColor: currentColors.highlight + '30', backgroundColor: currentColors.darkBg }}>\n                          {(editingGame?.coverArt || pendingGame?.coverArt) ? (\n                            <div className=\"relative group\">\n                              <div className=\"aspect-[4/5] w-full overflow-hidden bg-black/20 relative\">\n                                <img\n                                  src={editingGame?.coverArt || pendingGame?.coverArt}\n                                  alt=\"Cover art\"\n                                  className=\"w-full h-full\"\n                                  style={{\n                                    objectFit: coverArtFit,\n                                    objectPosition: 'center'\n                                  }}\n                                />\n                              </div>\n                              <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                <button\n                                  onClick={removeCoverArt}\n                                  className=\"px-3 py-2.5 rounded-lg transition-all hover:shadow-md active:scale-95 flex items-center justify-center\"\n                                  style={{ backgroundColor: '#ef4444', color: currentColors.softLight }}\n                                >\n                                  <Trash2 className=\"w-5 h-5\" />\n                                </button>\n                              </div>\n                            </div>\n                          ) : (\n                            <div className=\"aspect-[3/4] w-full flex items-center justify-center bg-gradient-to-br\" style={{ background: `linear-gradient(135deg, ${currentColors.darkBg} 0%, ${currentColors.midDark} 100%)` }}>\n                              <div className=\"text-center p-6\">\n                                <div className=\"w-16 h-16 mx-auto mb-4 rounded-lg flex items-center justify-center\" style={{ backgroundColor: currentColors.highlight + '20' }}>\n                                  <svg className=\"w-8 h-8\" style={{ color: currentColors.highlight }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\n                                  </svg>\n                                </div>\n                                <p className=\"text-sm font-medium\" style={{ color: currentColors.softLight }}>\n                                  No Cover Art\n                                </p>\n                              </div>\n                            </div>\n                          )}\n                          {(editingGame?.coverArt || pendingGame?.coverArt) && (\n                            <div className=\"p-4 border-t\" style={{ borderColor: currentColors.highlight + '30' }}>\n                              <button\n                                onClick={() => {\n                                  const newFit = coverArtFit === 'contain' ? 'cover' : 'contain';\n                                  setCoverArtFit(newFit);\n                                  updateCoverArtFit(newFit);\n                                }}\n                                className=\"w-full px-4 py-2.5 rounded-lg transition-all text-sm font-semibold text-center active:scale-95\"\n                                style={{\n                                  backgroundColor: currentColors.highlight,\n                                  color: currentColors.darkBg,\n                                }}\n                              >\n                                {coverArtFit === 'contain' ? 'Zoom to Fill' : 'Shrink to Fit'}\n                              </button>\n                            </div>\n                          )}\n                          <div className=\"p-4 border-t\" style={{ borderColor: currentColors.highlight + '30' }}>\n                            <input\n                              type=\"file\"\n                              accept=\"image/*\"\n                              onChange={(e) => {\n                                const file = e.target.files?.[0];\n                                if (file) {\n                                  handleCoverArtFileUpload(file);\n                                }\n                              }}\n                              className=\"hidden\"\n                              id=\"cover-art-file-input\"\n                            />\n                            <label\n                              htmlFor=\"cover-art-file-input\"\n                              className=\"block w-full px-4 py-2.5 rounded-lg transition-all text-sm font-semibold text-center active:scale-95\"\n                              style={{\n                                ...((editingGame?.coverArt || pendingGame?.coverArt) ? { backgroundColor: currentColors.highlight } : getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo)),\n                                color: currentColors.darkBg,\n                              }}\n                            >\n                              {(editingGame?.coverArt || pendingGame?.coverArt) ? 'Change Image' : 'Upload Cover Art'}\n                            </label>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Systems Section */}\n                    <div className={`${pendingFiles.length > 1 ? 'w-full' : 'flex-1'} flex flex-col min-w-0`}>\n                      <div\n                        className=\"w-full flex items-center rounded-xl border-2 transition-all mb-4\"\n                        style={{\n                          backgroundColor: currentColors.darkBg,\n                          borderColor: searchFocused ? currentColors.playGreen : currentColors.highlight + '50',\n                          boxShadow: searchFocused ? `0 0 0 2px ${currentColors.playGreen}30` : 'none',\n                        }}\n                      >\n                        <div className=\"w-10 h-10 flex items-center justify-center flex-shrink-0\" style={{ color: currentColors.softLight }}>\n                          <Search className=\"w-4 h-4\" />\n                        </div>\n                        <input\n                          type=\"text\"\n                          placeholder=\"Search systems...\"\n                          value={systemSearchQuery}\n                          onChange={(e) => setSystemSearchQuery(e.target.value)}\n                          onFocus={() => setSearchFocused(true)}\n                          onBlur={() => setSearchFocused(false)}\n                          className=\"bg-transparent h-10 flex-1 focus:outline-none text-sm pr-4\"\n                          style={{\n                            color: currentColors.softLight,\n                          }}\n                          autoFocus\n                        />\n                      </div>\n\n                      <div className=\"flex-1 overflow-y-auto pr-2 scrollbar-hide\">\n                        {Object.entries(filteredCategories).map(([category, systems]) => (\n                          <div key={category} className=\"mb-6 last:mb-0\">\n                            <div className=\"flex items-center mb-3\">\n                              <h4 className=\"text-xs font-bold uppercase tracking-wider pr-3\" style={{ color: currentColors.highlight }}>\n                                {category}\n                              </h4>\n                              <div className=\"flex-1 h-px\" style={{ backgroundColor: currentColors.highlight + '30' }}></div>\n                            </div>\n                            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2.5\">\n                              {systems.map(([name, core], index) => {\n                                const isSelected = currentCore === core;\n                                return (\n                                  <button\n                                    key={core}\n                                    className=\"p-3.5 rounded-xl text-left transition-all active:scale-[0.97] border-2 relative flex items-center justify-between group\"\n                                    style={{\n                                      backgroundColor: isSelected ? currentColors.highlight : currentColors.sidebarHover,\n                                      borderColor: isSelected ? currentColors.highlight : currentColors.highlight + '30',\n                                      color: isSelected ? currentColors.darkBg : currentColors.softLight,\n                                      boxShadow: '0 2px 4px rgba(0, 0, 0, 0.2)',\n                                      animation: `fadeIn 0.4s ease-out ${index * 0.03}s both`\n                                    }}\n                                    onMouseEnter={(e) => {\n                                      if (!isSelected) {\n                                        e.currentTarget.style.backgroundColor = currentColors.highlight + '20';\n                                        e.currentTarget.style.borderColor = currentColors.highlight + '50';\n                                      }\n                                    }}\n                                    onMouseLeave={(e) => {\n                                      if (!isSelected) {\n                                        e.currentTarget.style.backgroundColor = currentColors.sidebarHover;\n                                        e.currentTarget.style.borderColor = currentColors.highlight + '30';\n                                      }\n                                    }}\n                                    onClick={() => selectSystem(core)}\n                                  >\n                                    <span className=\"font-medium text-sm leading-tight truncate pr-2 flex-1\">\n                                      {name}\n                                    </span>\n                                    <div className=\"w-5 h-5 flex-shrink-0 flex items-center justify-center\">\n                                      {isSelected && (\n                                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                          <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                                        </svg>\n                                      )}\n                                    </div>\n                                  </button>\n                                );\n                              })}\n                            </div>\n                          </div>\n                        ))}\n                        {Object.keys(filteredCategories).length === 0 && (\n                          <div className=\"text-center py-16\" style={{ color: currentColors.highlight }}>\n                            <div className=\"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center\" style={{ backgroundColor: currentColors.highlight + '15' }}>\n                              <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\n                              </svg>\n                            </div>\n                            <p className=\"text-lg font-semibold mb-1\" style={{ color: currentColors.softLight }}>No systems found</p>\n                            <p className=\"text-sm opacity-70\">Try a different search term</p>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t\" style={{ borderColor: currentColors.highlight + '30' }}>\n                    {(editingGame || (pendingFiles.length === 1 && pendingGame)) && (\n                      <button\n                        className=\"py-2.5 px-6 rounded-lg font-semibold transition-all active:scale-95\"\n                        style={{ ...getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo), color: currentColors.darkBg }}\n                        onClick={handleSystemPickerDone}\n                      >\n                        Done\n                      </button>\n                    )}\n                    <button\n                      className=\"py-2.5 px-6 rounded-lg font-semibold transition-all active:scale-95\"\n                      style={{ backgroundColor: currentColors.highlight, color: currentColors.darkBg }}\n                      onClick={() => closeSystemPicker()}\n                    >\n                      {editingGame ? 'Cancel' : 'Close'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })()}\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":["useState","useEffect","useLayoutEffect","useMemo","useRef","loadGame","saveGameFile","getGameFile","SYSTEM_PICKER","FILE_EXTENSIONS","getSystemNameByCore","Game","THEMES","getGradientStyle","GameCard","getSystemDisplayName","Gamepad2","Palette","Menu","X","Trash2","ArrowUp","ArrowDown","Search","Plus","Home","activeView","setActiveView","isSidebarOpen","setIsSidebarOpen","currentTime","setCurrentTime","isMounted","setIsMounted","games","setGames","editingGame","setEditingGame","systemPickerOpen","setSystemPickerOpen","systemPickerClosing","setSystemPickerClosing","pendingGame","setPendingGame","Partial","pendingFiles","setPendingFiles","Array","file","File","index","systemSearchQuery","setSystemSearchQuery","duplicateMessage","setDuplicateMessage","showDuplicateMessage","setShowDuplicateMessage","isLoadingGames","setIsLoadingGames","selectedTheme","setSelectedTheme","searchFocused","setSearchFocused","gameSearchFocused","setGameSearchFocused","gameSearchQuery","setGameSearchQuery","gameSearchExpanded","setGameSearchExpanded","coverArtFit","setCoverArtFit","sortBy","setSortBy","sortOrder","setSortOrder","isHydrated","setIsHydrated","selectedGameIds","setSelectedGameIds","Set","isDeleteMode","setIsDeleteMode","deletingGameIds","setDeletingGameIds","gameSearchInputRef","HTMLInputElement","window","savedTheme","localStorage","getItem","setItem","savedSortBy","savedSortOrder","updateTime","Date","toLocaleTimeString","hour","minute","interval","setInterval","loadGames","savedGames","loadedGames","JSON","parse","migratedGames","game","fileData","migrateGameToIndexedDB","map","updated","genre","core","systemName","coverArt","stringify","e","console","error","clearInterval","closeSystemPicker","setTimeout","handleSystemPickerDone","length","gameId","id","now","fileName","name","derivedTitle","title","replace","isDuplicate","some","g","newGame","filePath","undefined","updatedGames","allGames","Promise","startsWith","response","fetch","blob","type","gameWithoutData","getSystemFromExtension","extension","toLowerCase","processGameFile","selectedCore","currentGamesList","nameWithoutExt","fileExtension","split","pop","gamesListToCheck","detectedCore","gameData","selectSystem","currentGames","applyCoverArt","updateCoverArtFit","newFit","handleCoverArtFileUpload","reader","FileReader","onload","dataUrl","target","result","onerror","readAsDataURL","removeCoverArt","updatedEditingGame","handleFileSelect","files","fileHandles","showOpenFilePicker","multiple","all","fh","getFile","resolve","input","document","createElement","onchange","from","click","filesNeedingSystem","i","push","filteredFilesNeedingSystem","filter","err","handleEditGame","handleDeleteGame","confirm","deleteGameFile","prev","next","add","delete","toggleGameSelection","newSelected","has","toggleSelectAll","size","handleMassDelete","deleteButtonRef","HTMLButtonElement","deleteTimeoutRef","NodeJS","Timeout","isPressingRef","toggleGameSearch","requestAnimationFrame","current","focus","handleDeleteButtonMouseDown","handleDeleteButtonMouseUp","clearTimeout","exitDeleteMode","handlePlayClick","currentColors","playGreen","handleNavClick","viewName","getSidebarButtonClass","view","baseClass","isActive","sidebarClass","sidebarFullClass","default","handleThemeChange","themeName","getSystemCategory","category","systems","Object","entries","values","includes","sortedGames","filtered","trim","query","sort","a","b","comparison","localeCompare","groupedGames","categoryOrder","groups","Record","forEach","reverse","sortedGroups","renderContent","color","softLight","themeColors","baseName","backgroundColor","midDark","borderColor","highlight","boxShadow","darkBg","width","height","value","const","option","opacity","gradientFrom","gradientTo","categoryGames","gap","isGameDeleting","visibleIndex","slice","reverseStaggerDelay","animation","fontFamily","backgroundImage","backgroundRepeat","backgroundSize","WebkitBackgroundClip","backgroundClip","WebkitTextFillColor","letterSpacing","icon","label","Icon","sidebarHover","borderLeftColor","borderLeftWidth","transition","minHeight","textShadow","charAt","toUpperCase","pointerEvents","filteredCategories","currentCore","stopPropagation","objectFit","objectPosition","background","isSelected","currentTarget","style","keys"],"mappings":"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","ignoreList":[]}}]
}