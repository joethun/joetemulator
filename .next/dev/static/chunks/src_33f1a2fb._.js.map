{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/lib/constants.ts"],"sourcesContent":["// Shared constants for emulator systems and file extensions\n\nexport const FILE_EXTENSIONS: Record<string, string> = {\n  fds: \"nes\",\n  nes: \"nes\",\n  unif: \"nes\",\n  unf: \"nes\",\n  gb: \"gb\",\n  gbc: \"gbc\",\n  gba: \"gba\",\n  smc: \"snes\",\n  sfc: \"snes\",\n  swc: \"snes\",\n  vb: \"vb\",\n  vboy: \"vb\",\n  z64: \"n64\",\n  n64: \"n64\",\n  nds: \"nds\",\n  sms: \"segaMS\",\n  md: \"segaMD\",\n  gen: \"segaMD\",\n  smd: \"segaMD\",\n  gg: \"segaGG\",\n  \"32x\": \"sega32x\",\n  cso: \"psp\",\n  pbp: \"psp\",\n  a26: \"atari2600\",\n  a52: \"atari5200\",\n  a78: \"atari7800\",\n  lnx: \"lynx\",\n  j64: \"jaguar\",\n  jag: \"jaguar\",\n  d64: \"vice_x64\",\n  t64: \"vice_x64\",\n  tap: \"vice_x64\",\n  crt: \"vice_x64\",\n  col: \"coleco\",\n  cv: \"coleco\",\n  pce: \"pce\",\n  ngp: \"ngp\",\n  ngc: \"ngp\",\n  ws: \"ws\",\n  wsc: \"ws\"\n};\n\nexport const SYSTEM_PICKER: Record<string, Record<string, string>> = {\n  \"Nintendo\": {\n    \"NES\": \"nes\",\n    \"Game Boy\": \"gb\",\n    \"Game Boy Color\": \"gbc\",\n    \"Game Boy Advance\": \"gba\",\n    \"SNES\": \"snes\",\n    \"Virtual Boy\": \"vb\",\n    \"N64\": \"n64\",\n    \"DS\": \"nds\",\n  },\n  \"Sega\": {\n    \"Master System\": \"segaMS\",\n    \"Genesis/Mega Drive\": \"segaMD\",\n    \"Game Gear\": \"segaGG\",\n    \"CD\": \"segaCD\",\n    \"32X\": \"sega32x\",\n    \"Saturn\": \"segaSaturn\",\n  },\n  \"Sony\": {\n    \"PS1\": \"psx\",\n    \"PSP\": \"psp\",\n  },\n  \"Atari\": {\n    \"2600\": \"atari2600\",\n    \"5200\": \"atari5200\",\n    \"7800\": \"atari7800\",\n    \"Lynx\": \"lynx\",\n    \"Jaguar\": \"jaguar\",\n  },\n  \"Other\": {\n    \"Panasonic 3DO\": \"opera\",\n    \"Arcade (FBNeo)\": \"arcade\",\n    \"Arcade (M.A.M.E)\": \"mame2003_plus\",\n    \"Microsoft DOS\": \"dosbox_pure\",\n    \"Commodore PET\": \"vice_xpet\",\n    \"Commodore VIC-20\": \"vice_xvic\",\n    \"Commodore Amiga\": \"amiga\",\n    \"Commodore 64\": \"vice_x64\",\n    \"Commodore 128\": \"vice_x128\",\n    \"Commodore Plus/4\": \"vice_xplus4\",\n    \"ColecoVision\": \"coleco\",\n    \"NEC TurboGrafx-16\": \"pce\",\n    \"NEC PC-FX\": \"pcfx\",\n    \"SNK Neo Geo Pocket\": \"ngp\",\n    \"Bandai WonderSwan\": \"ws\"\n  }\n};\n\n// Flatten SYSTEM_PICKER for reverse lookups (core to system name)\nexport function getSystemNameByCore(core: string): string {\n  for (const category of Object.values(SYSTEM_PICKER)) {\n    for (const [name, systemCore] of Object.entries(category)) {\n      if (systemCore === core) {\n        return name;\n      }\n    }\n  }\n  return 'Unknown System';\n}\n\n// Create a flat version of SYSTEM_PICKER for backwards compatibility\nexport const SYSTEM_PICKER_FLAT: Record<string, string> = {};\nObject.values(SYSTEM_PICKER).forEach(category => {\n  Object.assign(SYSTEM_PICKER_FLAT, category);\n});\n\n"],"names":[],"mappings":"AAAA,4DAA4D;;;;;;;;;;;AAErD,MAAM,kBAA0C;IACrD,KAAK;IACL,KAAK;IACL,MAAM;IACN,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,IAAI;IACJ,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,IAAI;IACJ,OAAO;IACP,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;IACL,KAAK;IACL,KAAK;IACL,IAAI;IACJ,KAAK;AACP;AAEO,MAAM,gBAAwD;IACnE,YAAY;QACV,OAAO;QACP,YAAY;QACZ,kBAAkB;QAClB,oBAAoB;QACpB,QAAQ;QACR,eAAe;QACf,OAAO;QACP,MAAM;IACR;IACA,QAAQ;QACN,iBAAiB;QACjB,sBAAsB;QACtB,aAAa;QACb,MAAM;QACN,OAAO;QACP,UAAU;IACZ;IACA,QAAQ;QACN,OAAO;QACP,OAAO;IACT;IACA,SAAS;QACP,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,UAAU;IACZ;IACA,SAAS;QACP,iBAAiB;QACjB,kBAAkB;QAClB,oBAAoB;QACpB,iBAAiB;QACjB,iBAAiB;QACjB,oBAAoB;QACpB,mBAAmB;QACnB,gBAAgB;QAChB,iBAAiB;QACjB,oBAAoB;QACpB,gBAAgB;QAChB,qBAAqB;QACrB,aAAa;QACb,sBAAsB;QACtB,qBAAqB;IACvB;AACF;AAGO,SAAS,oBAAoB,IAAY;IAC9C,KAAK,MAAM,YAAY,OAAO,MAAM,CAAC,eAAgB;QACnD,KAAK,MAAM,CAAC,MAAM,WAAW,IAAI,OAAO,OAAO,CAAC,UAAW;YACzD,IAAI,eAAe,MAAM;gBACvB,OAAO;YACT;QACF;IACF;IACA,OAAO;AACT;AAGO,MAAM,qBAA6C,CAAC;AAC3D,OAAO,MAAM,CAAC,eAAe,OAAO,CAAC,CAAA;IACnC,OAAO,MAAM,CAAC,oBAAoB;AACpC"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/lib/ejsConfig.js"],"sourcesContent":["const DEFAULT_EJS_COLOR = '#003d8c';\nconst HEX_PATTERN = /^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;\nconst THREADS_ENABLED = ['psp', 'dosbox_pure'];\n\nconst ensureHexColor = (value) => {\n  if (typeof value !== 'string') return DEFAULT_EJS_COLOR;\n  const trimmed = value.trim();\n  return HEX_PATTERN.test(trimmed) ? trimmed : DEFAULT_EJS_COLOR;\n};\n\nconst configureEjs = (options = {}) => {\n  if (typeof window === 'undefined') return;\n\n  const {\n    gameName = '',\n    gameFile = '',\n    core = 'nes',\n    themeColor,\n    cdnPath = ''\n  } = options;\n\n  window.EJS_color = ensureHexColor(themeColor);\n  window.EJS_backgroundColor = '#000000';\n  window.EJS_player = '#game';\n  window.EJS_gameName = gameName;\n  window.EJS_gameUrl = gameFile;\n  window.EJS_core = core;\n  window.EJS_pathtodata = cdnPath;\n  window.EJS_startOnLoaded = true;\n  window.EJS_biosUrl = '';\n\n  window.EJS_threads = THREADS_ENABLED.includes(core);\n\n  window.EJS_defaultOptions = {\n    'save-save-interval': '60',\n    'desmume_advanced_timing': 'disabled',\n    'webgl2Enabled': 'enabled',\n    ...(core === 'segaGG' ? { retroarch_core: 'genesis_plus_gx' } : {}),\n    ...(core === 'nds' ? { retroarch_core: 'desmume' } : {})\n  };\n\n  window.EJS_Buttons = {\n    exitEmulation: false,\n    cacheManager: false,\n    saveSavFiles: { visible: false },\n    loadSavFiles: { visible: false }\n  };\n};\n\nif (typeof window !== 'undefined') {\n  window.configureEjs = configureEjs;\n}\n\nexport { configureEjs };\n"],"names":[],"mappings":";;;;AAAA,MAAM,oBAAoB;AAC1B,MAAM,cAAc;AACpB,MAAM,kBAAkB;IAAC;IAAO;CAAc;AAE9C,MAAM,iBAAiB,CAAC;IACtB,IAAI,OAAO,UAAU,UAAU,OAAO;IACtC,MAAM,UAAU,MAAM,IAAI;IAC1B,OAAO,YAAY,IAAI,CAAC,WAAW,UAAU;AAC/C;AAEA,MAAM,eAAe,CAAC,UAAU,CAAC,CAAC;IAChC;;IAEA,MAAM,EACJ,WAAW,EAAE,EACb,WAAW,EAAE,EACb,OAAO,KAAK,EACZ,UAAU,EACV,UAAU,EAAE,EACb,GAAG;IAEJ,OAAO,SAAS,GAAG,eAAe;IAClC,OAAO,mBAAmB,GAAG;IAC7B,OAAO,UAAU,GAAG;IACpB,OAAO,YAAY,GAAG;IACtB,OAAO,WAAW,GAAG;IACrB,OAAO,QAAQ,GAAG;IAClB,OAAO,cAAc,GAAG;IACxB,OAAO,iBAAiB,GAAG;IAC3B,OAAO,WAAW,GAAG;IAErB,OAAO,WAAW,GAAG,gBAAgB,QAAQ,CAAC;IAE9C,OAAO,kBAAkB,GAAG;QAC1B,sBAAsB;QACtB,2BAA2B;QAC3B,iBAAiB;QACjB,GAAI,SAAS,WAAW;YAAE,gBAAgB;QAAkB,IAAI,CAAC,CAAC;QAClE,GAAI,SAAS,QAAQ;YAAE,gBAAgB;QAAU,IAAI,CAAC,CAAC;IACzD;IAEA,OAAO,WAAW,GAAG;QACnB,eAAe;QACf,cAAc;QACd,cAAc;YAAE,SAAS;QAAM;QAC/B,cAAc;YAAE,SAAS;QAAM;IACjC;AACF;AAEA,wCAAmC;IACjC,OAAO,YAAY,GAAG;AACxB"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/lib/emulator.ts"],"sourcesContent":["import { FILE_EXTENSIONS, SYSTEM_PICKER_FLAT } from './constants';\nimport { configureEjs } from './ejsConfig';\n\nconst CDN_PATH = \"https://cdn.jsdelivr.net/gh/joethun/EmulatorJS-With-Cores/\";\nconst DEFAULT_EJS_COLOR = \"#003d8c\";\n\nconst ensureHexColor = (value?: string): string => {\n  if (!value) return DEFAULT_EJS_COLOR;\n  const trimmed = value.trim();\n  const hexPattern = /^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;\n  return hexPattern.test(trimmed) ? trimmed : DEFAULT_EJS_COLOR;\n};\n\ndeclare global {\n  interface Window {\n    [key: string]: any;\n  }\n}\n\nif (typeof window !== 'undefined') {\n  window.gameRunning = false;\n}\n\nasync function detectCore(extension: string): Promise<string> {\n  if (FILE_EXTENSIONS[extension]) {\n    return FILE_EXTENSIONS[extension];\n  }\n  \n  // Fallback to NES if system picker not available\n  return new Promise((resolve) => {\n    if (typeof window !== 'undefined' && window.showSystemPicker) {\n      window.showSystemPicker(SYSTEM_PICKER_FLAT, resolve);\n    } else {\n      resolve(\"nes\");\n    }\n  });\n}\n\nfunction toggleMenuElements(show: boolean) {\n  if (typeof document === 'undefined') return;\n  \n  ['aside', 'footer', 'main', 'header'].forEach(selector => {\n    const element = document.querySelector(selector);\n    if (element) {\n      (element as HTMLElement).style.cssText = show \n        ? '' \n        : `display: none !important; visibility: hidden !important; z-index: -1 !important;`;\n    }\n  });\n  \n  const rootDiv = document.querySelector('div[style*=\"min-h-screen\"]');\n  if (rootDiv && !show) {\n    (rootDiv as HTMLElement).style.cssText += \" z-index: -1 !important;\";\n  }\n}\n\nfunction cleanupOldElements() {\n  const gameContainer = document.getElementById(\"game\");\n  if (gameContainer) {\n    gameContainer.innerHTML = \"\";\n    gameContainer.style.display = \"none\";\n  }\n  \n  // Remove old emulator scripts\n  const oldScripts = document.querySelectorAll('script[src*=\"loader.js\"]');\n  oldScripts.forEach(script => script.remove());\n  \n  // Restore menu visibility\n  toggleMenuElements(true);\n  \n  window.gameRunning = false;\n}\nfunction hideMenu() {\n  toggleMenuElements(false);\n}\n\nconst GAME_CONTAINER_STYLES = `\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 999999;\n  background-color: #000000;\n  overflow: hidden;\n  display: block !important;\n  visibility: visible !important;\n  opacity: 1 !important;\n`;\n\nfunction createGameDisplay() {\n  if (typeof document === 'undefined') return;\n  \n  let gameContainer = document.getElementById(\"game\");\n  if (!gameContainer) {\n    gameContainer = document.createElement(\"div\");\n    gameContainer.id = \"game\";\n    document.body.appendChild(gameContainer);\n  }\n  \n  gameContainer.innerHTML = \"\";\n  (gameContainer as HTMLElement).style.cssText = GAME_CONTAINER_STYLES;\n  \n  // Prevent scrolling\n  if (document.body) document.body.style.overflow = \"hidden\";\n  if (document.documentElement) document.documentElement.style.overflow = \"hidden\";\n}\n\nexport async function loadGame(file: File | string, coreOverride?: string, themeColor?: string): Promise<void> {\n  const fileName = file instanceof File ? file.name : file;\n  const fileExtension = fileName.split(\".\").pop()?.toLowerCase() || \"\";\n  const gameName = fileName.substring(0, fileName.lastIndexOf(\".\"));\n  \n  const core = coreOverride || await detectCore(fileExtension);\n  \n  cleanupOldElements();\n  hideMenu();\n  createGameDisplay();\n  if (typeof window !== 'undefined') {\n    window.gameRunning = true;\n  }\n  \n  configureEmulator(gameName, file, core, themeColor);\n  loadEmulatorScript();\n}\n\nfunction configureEmulator(gameName: string, gameFile: File | string, core: string, themeColor?: string) {\n  configureEjs({\n    gameName,\n    gameFile,\n    core,\n    themeColor,\n    cdnPath: CDN_PATH\n  });\n}\n\nfunction loadEmulatorScript() {\n  if (typeof document === 'undefined') return;\n  \n  const script = document.createElement(\"script\");\n  script.src = `${CDN_PATH}/loader.js`;\n  script.onload = () => {\n    setTimeout(() => {\n      const gameContainer = document.getElementById(\"game\");\n      if (gameContainer) {\n        (gameContainer as HTMLElement).style.cssText = GAME_CONTAINER_STYLES.replace(/\\n/g, ' ').replace(/\\s+/g, ' ').trim() + ' !important';\n        \n        const canvas = gameContainer.querySelector('canvas');\n        if (canvas) {\n          (canvas as HTMLElement).style.cssText = `\n            display: block !important;\n            visibility: visible !important;\n            opacity: 1 !important;\n            width: 100% !important;\n            height: 100% !important;\n          `;\n        }\n      }\n    }, 100);\n  };\n  document.body.appendChild(script);\n}\n\nfunction getEmulator() {\n  if (typeof window === 'undefined') return null;\n  return window.EJS_emulator?.started ? window.EJS_emulator : null;\n}\n\nexport async function saveState(): Promise<void> {\n  const emulator = getEmulator();\n  if (!emulator) return;\n\n  try {\n    const state = emulator.gameManager.getState();\n    const stateFileName = `${emulator.getBaseFileName()}.state`;\n    await emulator.storage.states.put(stateFileName, state);\n    emulator.displayMessage(\"SAVED STATE TO BROWSER\");\n  } catch (error: any) {\n    console.error(\"Save failed:\", error);\n    emulator.displayMessage(`Error saving: ${error.message}`);\n  }\n}\n\nexport async function loadState(): Promise<void> {\n  const emulator = getEmulator();\n  if (!emulator) return;\n\n  try {\n    const stateFileName = `${emulator.getBaseFileName()}.state`;\n    const state = await emulator.storage.states.get(stateFileName);\n    if (state) {\n      await emulator.gameManager.loadState(state);\n      emulator.displayMessage(\"LOADED STATE FROM BROWSER\");\n    } else {\n      emulator.displayMessage(\"\");\n    }\n  } catch (error: any) {\n    console.error(\"Load failed:\", error);\n    emulator.displayMessage(`Error loading: ${error.message}`);\n  }\n}\n\nexport function exitGame() {\n  cleanupOldElements();\n  const gameContainer = document.getElementById(\"game\");\n  if (gameContainer) {\n    gameContainer.style.display = \"none\";\n  }\n}\n\nexport function addEventListeners() {\n  if (typeof document === 'undefined') return;\n  \n  document.addEventListener(\"keydown\", (event) => {\n    if (event.key === \"F1\") {\n      event.preventDefault();\n      saveState();\n    } else if (event.key === \"F2\") {\n      event.preventDefault();\n      loadState();\n    } else if (event.key === \"Escape\" && window.gameRunning) {\n      event.preventDefault();\n      exitGame();\n    }\n  });\n}\n\n// Expose functions to window for global access\nif (typeof window !== 'undefined') {\n  window.cleanupOldElements = cleanupOldElements;\n  window.hideMenu = hideMenu;\n  window.createGameDisplay = createGameDisplay;\n}\n\n// Initialize event listeners when DOM is ready\nif (typeof document !== 'undefined') {\n  if (document.readyState === 'loading') {\n    document.addEventListener(\"DOMContentLoaded\", addEventListeners);\n  } else {\n    addEventListeners();\n  }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/lib/storage.ts"],"sourcesContent":["// IndexedDB storage for large game files\n\nconst DB_NAME = 'joetemulator';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'gameFiles';\n\nlet db: IDBDatabase | null = null;\n\nfunction openDB(): Promise<IDBDatabase> {\n  return new Promise((resolve, reject) => {\n    if (typeof window === 'undefined' || !window.indexedDB) {\n      reject(new Error('IndexedDB not supported'));\n      return;\n    }\n\n    if (db) {\n      resolve(db);\n      return;\n    }\n\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\n\n    request.onerror = () => reject(request.error);\n    request.onsuccess = () => {\n      db = request.result;\n      resolve(db);\n    };\n\n    request.onupgradeneeded = (event) => {\n      const database = (event.target as IDBOpenDBRequest).result;\n      if (!database.objectStoreNames.contains(STORE_NAME)) {\n        database.createObjectStore(STORE_NAME);\n      }\n    };\n  });\n}\n\nasync function executeStoreOperation<T>(\n  mode: IDBTransactionMode,\n  operation: (store: IDBObjectStore) => IDBRequest<T>\n): Promise<T> {\n  const database = await openDB();\n  return new Promise((resolve, reject) => {\n    const transaction = database.transaction([STORE_NAME], mode);\n    const store = transaction.objectStore(STORE_NAME);\n    const request = operation(store);\n    \n    request.onerror = () => reject(request.error);\n    request.onsuccess = () => resolve(request.result);\n  });\n}\n\nexport async function saveGameFile(gameId: number, file: File): Promise<void> {\n  await executeStoreOperation('readwrite', (store) => store.put(file, gameId));\n}\n\nexport async function getGameFile(gameId: number): Promise<File | null> {\n  const result = await executeStoreOperation('readonly', (store) => store.get(gameId));\n  return result || null;\n}\n\nexport async function deleteGameFile(gameId: number): Promise<void> {\n  await executeStoreOperation('readwrite', (store) => store.delete(gameId));\n}\n\n"],"names":[],"mappings":"AAAA,yCAAyC;;;;;;;;;AAEzC,MAAM,UAAU;AAChB,MAAM,aAAa;AACnB,MAAM,aAAa;AAEnB,IAAI,KAAyB;AAE7B,SAAS;IACP,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,IAAI,+CAAkB,eAAe,CAAC,OAAO,SAAS,EAAE;YACtD,OAAO,IAAI,MAAM;YACjB;QACF;QAEA,IAAI,IAAI;YACN,QAAQ;YACR;QACF;QAEA,MAAM,UAAU,UAAU,IAAI,CAAC,SAAS;QAExC,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG;YAClB,KAAK,QAAQ,MAAM;YACnB,QAAQ;QACV;QAEA,QAAQ,eAAe,GAAG,CAAC;YACzB,MAAM,WAAW,AAAC,MAAM,MAAM,CAAsB,MAAM;YAC1D,IAAI,CAAC,SAAS,gBAAgB,CAAC,QAAQ,CAAC,aAAa;gBACnD,SAAS,iBAAiB,CAAC;YAC7B;QACF;IACF;AACF;AAEA,eAAe,sBACb,IAAwB,EACxB,SAAmD;IAEnD,MAAM,WAAW,MAAM;IACvB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,cAAc,SAAS,WAAW,CAAC;YAAC;SAAW,EAAE;QACvD,MAAM,QAAQ,YAAY,WAAW,CAAC;QACtC,MAAM,UAAU,UAAU;QAE1B,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG,IAAM,QAAQ,QAAQ,MAAM;IAClD;AACF;AAEO,eAAe,aAAa,MAAc,EAAE,IAAU;IAC3D,MAAM,sBAAsB,aAAa,CAAC,QAAU,MAAM,GAAG,CAAC,MAAM;AACtE;AAEO,eAAe,YAAY,MAAc;IAC9C,MAAM,SAAS,MAAM,sBAAsB,YAAY,CAAC,QAAU,MAAM,GAAG,CAAC;IAC5E,OAAO,UAAU;AACnB;AAEO,eAAe,eAAe,MAAc;IACjD,MAAM,sBAAsB,aAAa,CAAC,QAAU,MAAM,MAAM,CAAC;AACnE"}},
    {"offset": {"line": 480, "column": 0}, "map": {"version":3,"sources":["file:///home/joet/Downloads/joetemulator/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useLayoutEffect, useMemo, useRef } from 'react';\nimport { loadGame } from '@/lib/emulator';\nimport { saveGameFile, getGameFile } from '@/lib/storage';\nimport { SYSTEM_PICKER, FILE_EXTENSIONS, getSystemNameByCore } from '@/lib/constants';\nimport { Gamepad2, Info, Palette, Menu, X, Settings, Trash2 } from 'lucide-react';\n\ninterface Game {\n  id: number;\n  title: string;\n  genre: string;\n  filePath?: string;\n  fileName?: string;\n  fileData?: string; // Legacy: Base64 encoded file data (for migration)\n  core?: string; // Emulator core/system\n  coverArt?: string; // URL or data URL for cover art\n  coverArtFit?: 'cover' | 'contain'; // 'cover' = zoom to fill, 'contain' = shrink to fit\n}\n\nconst THEMES = {\n  dark: {\n    highlight: '#cccccc',\n    darkBg: '#0f0f0f',\n    midDark: '#1e1e1e',\n    softLight: '#f5f5f5',\n    sidebarHover: '#333333',\n    playGreen: '#00ff7f',\n    gradientFrom: '#00ff7f',\n    gradientTo: '#00cc66',\n  },\n  blue: {\n    highlight: '#bfdbfe',\n    darkBg: '#0c1220',\n    midDark: '#1e293b',\n    softLight: '#eff6ff',\n    sidebarHover: '#334155',\n    playGreen: '#60a5fa',\n    gradientFrom: '#60a5fa',\n    gradientTo: '#3b82f6',\n  },\n  purple: {\n    highlight: '#ddd6fe',\n    darkBg: '#1a0f2e',\n    midDark: '#2d1b3d',\n    softLight: '#faf5ff',\n    sidebarHover: '#3f2d52',\n    playGreen: '#c084fc',\n    gradientFrom: '#c084fc',\n    gradientTo: '#a855f7',\n  },\n  green: {\n    highlight: '#bbf7d0',\n    darkBg: '#0f1a0f',\n    midDark: '#1e2e1e',\n    softLight: '#f0fdf4',\n    sidebarHover: '#2d3e2d',\n    playGreen: '#4ade80',\n    gradientFrom: '#4ade80',\n    gradientTo: '#22c55e',\n  },\n  orange: {\n    highlight: '#fde68a',\n    darkBg: '#1f1206',\n    midDark: '#2e1a0a',\n    softLight: '#fffbeb',\n    sidebarHover: '#3d2814',\n    playGreen: '#fbbf24',\n    gradientFrom: '#fbbf24',\n    gradientTo: '#f59e0b',\n  },\n  red: {\n    highlight: '#fecaca',\n    darkBg: '#1f0a0a',\n    midDark: '#2e1414',\n    softLight: '#fef2f2',\n    sidebarHover: '#3d1f1f',\n    playGreen: '#f87171',\n    gradientFrom: '#f87171',\n    gradientTo: '#ef4444',\n  },\n  pink: {\n    highlight: '#fbcfe8',\n    darkBg: '#1f0f1a',\n    midDark: '#2e1420',\n    softLight: '#fdf2f8',\n    sidebarHover: '#3d1f2d',\n    playGreen: '#f472b6',\n    gradientFrom: '#f472b6',\n    gradientTo: '#ec4899',\n  },\n  cyan: {\n    highlight: '#a7f3d0',\n    darkBg: '#0a1a1f',\n    midDark: '#142a2e',\n    softLight: '#f0fdfa',\n    sidebarHover: '#1f3d42',\n    playGreen: '#22d3ee',\n    gradientFrom: '#22d3ee',\n    gradientTo: '#06b6d4',\n  },\n  yellow: {\n    highlight: '#fef08a',\n    darkBg: '#1f1a0a',\n    midDark: '#2e2814',\n    softLight: '#fefce8',\n    sidebarHover: '#3d3d1f',\n    playGreen: '#eab308',\n    gradientFrom: '#eab308',\n    gradientTo: '#ca8a04',\n  },\n  teal: {\n    highlight: '#99f6e4',\n    darkBg: '#0a1a1a',\n    midDark: '#142a2a',\n    softLight: '#f0fdfa',\n    sidebarHover: '#1f3d3d',\n    playGreen: '#2dd4bf',\n    gradientFrom: '#2dd4bf',\n    gradientTo: '#14b8a6',\n  },\n  indigo: {\n    highlight: '#c7d2fe',\n    darkBg: '#0f0f1f',\n    midDark: '#1e1e2e',\n    softLight: '#eef2ff',\n    sidebarHover: '#2d2d3e',\n    playGreen: '#818cf8',\n    gradientFrom: '#818cf8',\n    gradientTo: '#6366f1',\n  },\n};\n\ntype ThemeConfig = typeof THEMES[keyof typeof THEMES];\n\n// Helper function to get gradient background\nconst getGradientStyle = (from: string, to: string) => ({\n  background: `linear-gradient(135deg, ${from} 0%, ${to} 100%)`,\n});\n\n// Get system display name from core\nconst getSystemDisplayName = (core?: string): string => {\n  if (!core) return 'Unknown';\n\n  const systemMap: Record<string, string> = {\n    'nes': 'NES',\n    'gb': 'GB',\n    'gbc': 'GBC',\n    'snes': 'SNES',\n    'vb': 'VB',\n    'n64': 'N64',\n    'gba': 'GBA',\n    'nds': 'DS',\n    'segaMS': 'MS',\n    'segaMD': 'MD',\n    'segaGG': 'GG',\n    'segaCD': 'CD',\n    'sega32x': '32X',\n    'segaSaturn': 'Saturn',\n    'psx': 'PS1',\n    'psp': 'PSP',\n    'atari2600': '2600',\n    'atari5200': '5200',\n    'atari7800': '7800',\n    'lynx': 'Lynx',\n    'jaguar': 'Jaguar',\n    'opera': '3DO',\n    'arcade': 'Arcade',\n    'mame2003_plus': 'MAME',\n    'dosbox_pure': 'DOS',\n    'vice_xpet': 'PET',\n    'vice_xvic': 'VIC20',\n    'amiga': 'Amiga',\n    'vice_x64': 'C64',\n    'vice_x128': 'C128',\n    'vice_xplus4': 'Plus/4',\n    'coleco': 'Coleco',\n    'pce': 'TG16',\n    'pcfx': 'PC-FX',\n    'ngp': 'NGP',\n    'ws': 'WS',\n  };\n\n  return systemMap[core] || core.toUpperCase();\n};\n\nfunction GameCard({ game, onPlay, onEdit, onDelete, onSelect, isSelected, isDeleteMode, onEnterDeleteMode, onCoverArtClick, colors }: { game: Game; onPlay: (game: Game) => void; onEdit: (game: Game) => void; onDelete: (game: Game) => void; onSelect: (gameId: number) => void; isSelected: boolean; isDeleteMode: boolean; onEnterDeleteMode: () => void; onCoverArtClick?: (game: Game) => void; colors: typeof THEMES.dark }) {\n  const baseCoverClass = \"h-full flex items-center justify-center bg-cover bg-center bg-no-repeat relative\";\n  const cardClass = `group relative overflow-hidden w-64 h-80 rounded-xl transition-all duration-300 ease-in-out hover:shadow-lg hover:z-10 border animate-border-breathe ${isDeleteMode ? 'animate-shake' : 'hover:scale-[1.02]'}`;\n  const overlayClass = \"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent backdrop-brightness-75 flex flex-col justify-end p-5 opacity-0 group-hover:opacity-100 transition-opacity duration-300\";\n  const contentClass = \"transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-400 ease-out\";\n  const buttonClass = \"w-full font-bold py-2.5 px-4 rounded-lg transition-all text-sm hover:shadow-md active:scale-[0.98]\";\n\n  return (\n    <div\n      className={cardClass}\n      style={{\n        backgroundColor: isDeleteMode && isSelected ? '#ef4444' : colors.midDark,\n        boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.3)',\n        cursor: isDeleteMode ? 'pointer' : 'default',\n      }}\n      onClick={() => isDeleteMode && onSelect(game.id)}\n    >\n      {isDeleteMode && isSelected && (\n        <div className=\"absolute inset-0 bg-red-500/40 z-20 flex items-center justify-center rounded-xl\">\n          <Trash2 className=\"w-16 h-16 text-white drop-shadow-lg\" />\n        </div>\n      )}\n      {isDeleteMode && (\n        <div className=\"absolute bottom-3 right-3 z-20\">\n          <div\n            className=\"w-6 h-6 rounded-full border-2 border-white flex items-center justify-center transition-all\"\n            style={{ backgroundColor: isSelected ? 'white' : 'transparent' }}\n          >\n            {isSelected && (\n              <svg className=\"w-4 h-4 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n              </svg>\n            )}\n          </div>\n        </div>\n      )}\n      <div\n        className={baseCoverClass}\n        style={game.coverArt ? {\n          backgroundImage: `url(${game.coverArt})`,\n          backgroundColor: 'transparent',\n          backgroundSize: game.coverArtFit || 'cover',\n          backgroundPosition: 'center',\n          backgroundRepeat: 'no-repeat'\n        } : {\n          ...getGradientStyle(colors.gradientFrom, colors.gradientTo)\n        }}\n      >\n        {!game.coverArt && (\n          <div className=\"flex items-center justify-center\" style={{ color: colors.darkBg }}>\n            <span className=\"text-4xl font-bold tracking-wide\" style={{ textShadow: '0 2px 4px rgba(0,0,0,0.2)' }}>\n              {getSystemDisplayName(game.core)}\n            </span>\n            {onCoverArtClick && !isDeleteMode && (\n              <button\n                onClick={(e) => { e.stopPropagation(); onCoverArtClick(game); }}\n                className=\"absolute inset-0\"\n                aria-label=\"Add cover art\"\n                title=\"Add cover art\"\n              >\n                <span className=\"sr-only\">Add cover art</span>\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n      {!isDeleteMode && (\n        <div className={overlayClass}>\n          <div className={contentClass}>\n            <h3 className=\"text-xl font-bold truncate mb-1.5\" style={{ color: colors.softLight, textShadow: '0 2px 4px rgba(0,0,0,0.5)' }}>{game.title}</h3>\n            <p className=\"text-sm mb-3\" style={{ color: colors.highlight }}>\n              {game.genre}\n            </p>\n            <div className=\"flex gap-2.5 items-stretch mt-3\">\n              <button\n                className={buttonClass + \" flex-1\"}\n                style={{ ...getGradientStyle(colors.gradientFrom, colors.gradientTo), color: colors.darkBg }}\n                onClick={(e) => { e.stopPropagation(); onPlay(game); }}\n              >\n                PLAY\n              </button>\n              <button\n                className=\"px-3 py-2.5 rounded-lg transition-all hover:shadow-md active:scale-95 flex items-center justify-center\"\n                style={{ backgroundColor: colors.highlight, color: colors.darkBg }}\n                onClick={(e) => { e.stopPropagation(); onEdit(game); }}\n                title=\"Edit System\"\n              >\n                <Settings className=\"w-5 h-5\" />\n              </button>\n              <button\n                className=\"px-3 py-2.5 rounded-lg transition-all hover:shadow-md active:scale-95 flex items-center justify-center select-none\"\n                style={{ backgroundColor: '#ef4444', color: colors.softLight }}\n                onMouseDown={(e) => {\n                  e.stopPropagation();\n                  const timeout = setTimeout(() => {\n                    onEnterDeleteMode();\n                  }, 500);\n                  const cleanup = () => clearTimeout(timeout);\n                  e.currentTarget.addEventListener('mouseup', cleanup, { once: true });\n                  e.currentTarget.addEventListener('mouseleave', cleanup, { once: true });\n                }}\n                onTouchStart={(e) => {\n                  e.stopPropagation();\n                  const timeout = setTimeout(() => {\n                    onEnterDeleteMode();\n                  }, 500);\n                  const cleanup = () => clearTimeout(timeout);\n                  e.currentTarget.addEventListener('touchend', cleanup, { once: true });\n                }}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onDelete(game);\n                }}\n                title=\"Delete\"\n              >\n                <Trash2 className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\nexport default function Home() {\n  const [activeView, setActiveView] = useState<'library' | 'themes' | 'about'>('library');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [currentTime, setCurrentTime] = useState<string>('');\n  const [isMounted, setIsMounted] = useState(false);\n  const [games, setGames] = useState<Game[]>([]);\n  const [editingGame, setEditingGame] = useState<Game | null>(null);\n  const [systemPickerOpen, setSystemPickerOpen] = useState(false);\n  const [systemPickerClosing, setSystemPickerClosing] = useState(false);\n  const [pendingGame, setPendingGame] = useState<Partial<Game> | null>(null);\n  const [pendingFiles, setPendingFiles] = useState<Array<{ file: File; index: number }>>([]);\n  const [systemSearchQuery, setSystemSearchQuery] = useState('');\n  const [duplicateMessage, setDuplicateMessage] = useState<string | null>(null);\n  const [showDuplicateMessage, setShowDuplicateMessage] = useState(false);\n  const [isLoadingGames, setIsLoadingGames] = useState(true);\n  const [selectedTheme, setSelectedTheme] = useState<string>('dark');\n  const [searchFocused, setSearchFocused] = useState(false);\n  const [coverArtFit, setCoverArtFit] = useState<'cover' | 'contain'>('cover');\n  const [sortBy, setSortBy] = useState<'title' | 'system'>('title');\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('asc');\n  const [isHydrated, setIsHydrated] = useState(false);\n  const [selectedGameIds, setSelectedGameIds] = useState<Set<number>>(new Set());\n  const [isDeleteMode, setIsDeleteMode] = useState(false);\n  const [deletingGameIds, setDeletingGameIds] = useState<Set<number>>(new Set());\n  const [shouldAnimateEntries, setShouldAnimateEntries] = useState(true);\n\n  // Sync theme from localStorage immediately before first render to prevent flash\n  useLayoutEffect(() => {\n    if (typeof window === 'undefined') return;\n    const savedTheme = localStorage.getItem('theme') || 'dark';\n    setSelectedTheme(savedTheme);\n    setIsHydrated(true);\n  }, []);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem('theme', selectedTheme);\n  }, [selectedTheme]);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    // Load sort preferences from localStorage\n    const savedSortBy = (localStorage.getItem('sortBy') as 'title' | 'system') || 'title';\n    const savedSortOrder = (localStorage.getItem('sortOrder') as 'asc' | 'desc') || 'asc';\n    setSortBy(savedSortBy);\n    setSortOrder(savedSortOrder);\n\n    const updateTime = () => {\n      setCurrentTime(new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }));\n    };\n    updateTime();\n    setIsMounted(true);\n    const interval = setInterval(updateTime, 60000);\n\n    // Load games from localStorage on mount\n    const loadGames = async () => {\n      setIsLoadingGames(true);\n      const savedGames = localStorage.getItem('games');\n      if (savedGames) {\n        try {\n          const loadedGames: Game[] = JSON.parse(savedGames);\n\n          // Migrate old games with fileData to IndexedDB\n          let migratedGames = loadedGames;\n          for (const game of loadedGames) {\n            if (game.fileData) {\n              migratedGames = await migrateGameToIndexedDB(game, migratedGames);\n            }\n          }\n\n          // Migrate games: update genre and coverArtFit\n          migratedGames = migratedGames.map(game => {\n            let updated = { ...game };\n            if (game.genre === 'ROM' && game.core) {\n              const systemName = getSystemNameByCore(game.core);\n              updated.genre = systemName;\n            }\n            if (game.coverArt && !game.coverArtFit) {\n              updated.coverArtFit = 'cover';\n            }\n            return updated;\n          });\n\n          if (migratedGames !== loadedGames) {\n            // Update localStorage with migrated games (without fileData)\n            localStorage.setItem('games', JSON.stringify(migratedGames));\n          }\n\n          setGames(migratedGames);\n        } catch (e) {\n          console.error('Failed to load games from storage', e);\n        }\n      }\n      setIsLoadingGames(false);\n    };\n\n    loadGames();\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // Save sort preferences to localStorage when they change\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem('sortBy', sortBy);\n  }, [sortBy]);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem('sortOrder', sortOrder);\n  }, [sortOrder]);\n\n  // Close system picker with fade-out animation\n  const closeSystemPicker = () => {\n    setSystemPickerClosing(true);\n    setTimeout(() => {\n      setSystemPickerOpen(false);\n      setSystemPickerClosing(false);\n      setPendingFiles([]);\n      setPendingGame(null);\n      setEditingGame(null);\n      setSystemSearchQuery('');\n    }, 200); // Match the fade-out animation duration\n  };\n\n  const handleSystemPickerDone = async () => {\n    if (editingGame) {\n      closeSystemPicker();\n      return;\n    }\n\n    if (pendingFiles.length === 1 && pendingGame?.core) {\n      try {\n        const { file } = pendingFiles[0];\n        const gameId = pendingGame.id ?? Date.now();\n        const fileName = pendingGame.fileName || file.name;\n        const derivedTitle = pendingGame.title || file.name.replace(/\\.[^/.]+$/, '');\n        const genre = pendingGame.genre || getSystemNameByCore(pendingGame.core) || 'Unknown System';\n\n        const isDuplicate = games.some(g => g.fileName === file.name);\n        if (isDuplicate) {\n          setDuplicateMessage(`\"${file.name}\" is already in your library`);\n          setShowDuplicateMessage(true);\n          closeSystemPicker();\n          setTimeout(() => setShowDuplicateMessage(false), 2500);\n          setTimeout(() => setDuplicateMessage(null), 3000);\n          return;\n        }\n\n        await saveGameFile(gameId, file);\n\n        const newGame: Game = {\n          id: gameId,\n          title: derivedTitle,\n          genre,\n          filePath: pendingGame.filePath || file.name,\n          fileName,\n          core: pendingGame.core,\n          coverArt: pendingGame.coverArt,\n          coverArtFit: pendingGame.coverArt ? (pendingGame.coverArtFit || coverArtFit) : undefined,\n        };\n\n        const updatedGames = [...games, newGame];\n        setGames(updatedGames);\n        localStorage.setItem('games', JSON.stringify(updatedGames));\n      } catch (error) {\n        console.error('Error finalizing game addition:', error);\n      }\n    }\n\n    closeSystemPicker();\n  };\n\n  // Migrate old games with fileData to IndexedDB\n  const migrateGameToIndexedDB = async (game: Game, allGames: Game[]): Promise<Game[]> => {\n    if (!game.fileData || !game.fileData.startsWith('data:')) {\n      // Already migrated or invalid\n      return allGames;\n    }\n\n    try {\n      // Convert base64 back to File\n      const response = await fetch(game.fileData);\n      const blob = await response.blob();\n      const file = new File([blob], game.fileName || game.title, { type: 'application/octet-stream' });\n      await saveGameFile(game.id, file);\n\n      // Remove fileData from game object\n      const { fileData, ...gameWithoutData } = game;\n      return allGames.map(g => g.id === game.id ? gameWithoutData : g);\n    } catch (error) {\n      console.error('Error migrating game to IndexedDB:', error);\n      return allGames;\n    }\n  };\n\n  const getSystemFromExtension = (extension: string): string | null => {\n    return FILE_EXTENSIONS[extension.toLowerCase()] || null;\n  };\n\n  const processGameFile = async (file: File, index: number, selectedCore?: string, currentGamesList?: Game[]): Promise<Game[]> => {\n    const fileName = file.name;\n    const nameWithoutExt = fileName.replace(/\\.[^/.]+$/, '');\n    const fileExtension = fileName.split(\".\").pop()?.toLowerCase() || \"\";\n\n    // Check for duplicates\n    const gamesListToCheck = currentGamesList || games;\n    const isDuplicate = gamesListToCheck.some(g => g.fileName === fileName || g.filePath === file.name);\n    if (isDuplicate) {\n      setDuplicateMessage(`\"${fileName}\" is already in your library`);\n      setShowDuplicateMessage(true);\n      setTimeout(() => setShowDuplicateMessage(false), 2500);\n      setTimeout(() => setDuplicateMessage(null), 3000);\n      return gamesListToCheck;\n    }\n\n    const detectedCore = selectedCore || getSystemFromExtension(fileExtension);\n    const gameId = Date.now() + index;\n\n    await saveGameFile(gameId, file);\n\n    // Get system name for genre display\n    const systemName = detectedCore\n      ? getSystemNameByCore(detectedCore)\n      : 'Unknown System';\n\n    const gameData: Partial<Game> = {\n      id: gameId,\n      title: nameWithoutExt,\n      genre: systemName,\n      filePath: file.name,\n      fileName: fileName,\n      core: detectedCore || undefined,\n    };\n\n    if (detectedCore) {\n      const newGame = gameData as Game;\n      const updatedGames = [...gamesListToCheck, newGame];\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      return updatedGames;\n    }\n\n    return gamesListToCheck;\n  };\n\n  const selectSystem = async (core: string) => {\n    const systemName = getSystemNameByCore(core);\n\n    // If adding multiple files from file picker\n    if (pendingFiles.length > 1) {\n      let currentGames = games;\n      for (const { file, index } of pendingFiles) {\n        currentGames = await processGameFile(file, index, core, currentGames);\n      }\n      setPendingFiles([]);\n      closeSystemPicker();\n      return;\n    }\n\n    // If adding a single file from file picker without detected system\n    if (editingGame) {\n      // When editing, update the selection and keep modal open\n      const updatedGames = games.map(g => g.id === editingGame.id ? { ...g, core: core, genre: systemName } : g);\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      // Update the editing game and pending game to reflect the new selection\n      setEditingGame({ ...editingGame, core: core, genre: systemName });\n      if (pendingGame) {\n        setPendingGame({ ...pendingGame, core: core, genre: systemName });\n      }\n      // Don't close the modal - let user close it manually\n    } else if (pendingGame) {\n      setPendingGame({\n        ...pendingGame,\n        core: core,\n        genre: systemName\n      });\n    }\n  };\n\n  const applyCoverArt = async (coverArt: string | null) => {\n    if (!coverArt) return;\n\n    if (editingGame) {\n      const updatedGames = games.map(g =>\n        g.id === editingGame.id ? { ...g, coverArt: coverArt, coverArtFit: coverArtFit } : g\n      );\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      setEditingGame({ ...editingGame, coverArt: coverArt, coverArtFit: coverArtFit });\n      if (pendingGame && pendingGame.id === editingGame.id) {\n        setPendingGame({ ...pendingGame, coverArt: coverArt, coverArtFit: coverArtFit });\n      }\n    } else if (pendingGame) {\n      setPendingGame({ ...pendingGame, coverArt: coverArt, coverArtFit: coverArtFit });\n    }\n  };\n\n  const updateCoverArtFit = (newFit: 'cover' | 'contain') => {\n    if (editingGame && (editingGame.coverArt || pendingGame?.coverArt)) {\n      const updatedGames = games.map(g =>\n        g.id === editingGame.id ? { ...g, coverArtFit: newFit } : g\n      );\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      setEditingGame({ ...editingGame, coverArtFit: newFit });\n      if (pendingGame && pendingGame.id === editingGame.id) {\n        setPendingGame({ ...pendingGame, coverArtFit: newFit });\n      }\n    } else if (pendingGame && pendingGame.coverArt) {\n      setPendingGame({ ...pendingGame, coverArtFit: newFit });\n    }\n  };\n\n  const handleCoverArtFileUpload = async (file: File): Promise<void> => {\n    try {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const dataUrl = e.target?.result as string;\n        applyCoverArt(dataUrl);\n      };\n      reader.onerror = () => {\n        console.error('Error reading file');\n      };\n      reader.readAsDataURL(file);\n    } catch (error) {\n      console.error('Error uploading cover art:', error);\n    }\n  };\n\n  const removeCoverArt = () => {\n    if (editingGame) {\n      const updatedGames = games.map(g =>\n        g.id === editingGame.id ? { ...g, coverArt: undefined } : g\n      );\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      const updatedEditingGame = { ...editingGame, coverArt: undefined };\n      setEditingGame(updatedEditingGame);\n      // Also update pendingGame if it exists\n      if (pendingGame && pendingGame.id === editingGame.id) {\n        setPendingGame(updatedEditingGame);\n      }\n    } else if (pendingGame) {\n      setPendingGame({ ...pendingGame, coverArt: undefined });\n    }\n  };\n\n  const handleFileSelect = async () => {\n    try {\n      let files: File[] = [];\n\n      if ('showOpenFilePicker' in window) {\n        const fileHandles = await (window as any).showOpenFilePicker({\n          multiple: true\n        });\n        files = await Promise.all(fileHandles.map((fh: any) => fh.getFile()));\n      } else {\n        // Fallback for browsers without File System Access API\n        files = await new Promise<File[]>((resolve) => {\n          const input = document.createElement('input');\n          input.type = 'file';\n          input.multiple = true;\n          input.onchange = (e: any) => {\n            resolve(Array.from(e.target.files || []) as File[]);\n          };\n          input.click();\n        });\n      }\n\n      // First, process files with detected systems\n      const filesNeedingSystem: Array<{ file: File; index: number }> = [];\n      let currentGames = games;\n\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const fileExtension = file.name.split(\".\").pop()?.toLowerCase() || \"\";\n        const detectedCore = getSystemFromExtension(fileExtension);\n\n        if (detectedCore) {\n          // Auto-add files with detected systems\n          currentGames = await processGameFile(file, i, detectedCore, currentGames);\n        } else {\n          // Collect files that need system selection\n          filesNeedingSystem.push({ file, index: i });\n        }\n      }\n\n      // Filter out duplicates\n      const filteredFilesNeedingSystem = filesNeedingSystem.filter(({ file }) => {\n        const fileName = file.name;\n        return !currentGames.some(g => g.fileName === fileName || g.filePath === file.name);\n      });\n\n      // If there are files without detected systems, show system picker\n      if (filteredFilesNeedingSystem.length > 0) {\n        setPendingFiles(filteredFilesNeedingSystem);\n        // Only set pendingGame if it's a single file (for the UI to show cover art section)\n        if (filteredFilesNeedingSystem.length === 1) {\n          const fileName = filteredFilesNeedingSystem[0].file.name;\n          const nameWithoutExt = fileName.replace(/\\.[^/.]+$/, '');\n          setPendingGame({\n            id: Date.now(),\n            title: nameWithoutExt,\n            genre: 'Unknown',\n            filePath: fileName,\n            fileName: fileName,\n          });\n        } else {\n          setPendingGame(null);\n        }\n        setCoverArtFit('cover');\n        setSystemPickerOpen(true);\n      } else if (filesNeedingSystem.length > 0) {\n        if (filesNeedingSystem.length === 1) {\n          setDuplicateMessage(`The file \"${filesNeedingSystem[0].file.name}\" is already in your library`);\n        } else {\n          setDuplicateMessage(`All ${filesNeedingSystem.length} selected files are already in your library`);\n        }\n        setShowDuplicateMessage(true);\n        setTimeout(() => setShowDuplicateMessage(false), 2000);\n        setTimeout(() => setDuplicateMessage(null), 2500);\n      }\n    } catch (err: any) {\n      if (err.name !== 'AbortError') {\n        console.error('Error selecting files:', err);\n      }\n    }\n  };\n\n  const handleEditGame = (game: Game) => {\n    setEditingGame(game);\n    setPendingGame({ ...game });\n    setCoverArtFit(game.coverArtFit || 'cover');\n    setSystemPickerOpen(true);\n  };\n\n  const handleDeleteGame = async (game: Game) => {\n    if (confirm(`Are you sure you want to delete \"${game.title}\"?`)) {\n      try {\n        const { deleteGameFile } = await import('@/lib/storage');\n\n        // Trigger fade-out animation for this game\n        setDeletingGameIds(prev => {\n          const next = new Set(prev);\n          next.add(game.id);\n          return next;\n        });\n\n        await new Promise(resolve => setTimeout(resolve, 400));\n\n        await deleteGameFile(game.id);\n\n        const updatedGames = games.filter(g => g.id !== game.id);\n        setGames(updatedGames);\n        localStorage.setItem('games', JSON.stringify(updatedGames));\n\n        setDeletingGameIds(prev => {\n          const next = new Set(prev);\n          next.delete(game.id);\n          return next;\n        });\n      } catch (error) {\n        console.error('Error deleting game:', error);\n      }\n    }\n  };\n\n  const toggleGameSelection = (gameId: number) => {\n    const newSelected = new Set(selectedGameIds);\n    if (newSelected.has(gameId)) {\n      newSelected.delete(gameId);\n    } else {\n      newSelected.add(gameId);\n    }\n    setSelectedGameIds(newSelected);\n  };\n\n  const toggleSelectAll = () => {\n    if (selectedGameIds.size === games.length) {\n      setSelectedGameIds(new Set());\n    } else {\n      setSelectedGameIds(new Set(games.map(g => g.id)));\n    }\n  };\n\n  const handleMassDelete = async () => {\n    if (selectedGameIds.size === 0) return;\n\n    if (confirm(`Are you sure you want to delete ${selectedGameIds.size} game(s)? This action cannot be undone.`)) {\n      try {\n        const { deleteGameFile } = await import('@/lib/storage');\n\n        // Trigger fade-out animation\n        setDeletingGameIds(new Set(selectedGameIds));\n\n        // Wait for animation to complete\n        await new Promise(resolve => setTimeout(resolve, 400));\n\n        // Delete from IndexedDB\n        for (const gameId of selectedGameIds) {\n          await deleteGameFile(gameId);\n        }\n\n        // Remove from state and localStorage\n        const updatedGames = games.filter(g => !selectedGameIds.has(g.id));\n        setGames(updatedGames);\n        localStorage.setItem('games', JSON.stringify(updatedGames));\n        setSelectedGameIds(new Set());\n        setDeletingGameIds(new Set());\n        setIsDeleteMode(false);\n      } catch (error) {\n        console.error('Error deleting games:', error);\n      }\n    }\n  };\n\n  const deleteButtonRef = useRef<HTMLButtonElement>(null);\n  const deleteTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const isPressingRef = useRef(false);\n\n  const handleDeleteButtonMouseDown = () => {\n    isPressingRef.current = true;\n    deleteTimeoutRef.current = setTimeout(() => {\n      if (isPressingRef.current) {\n        setIsDeleteMode(true);\n      }\n    }, 500);\n  };\n\n  const handleDeleteButtonMouseUp = () => {\n    isPressingRef.current = false;\n    if (deleteTimeoutRef.current) {\n      clearTimeout(deleteTimeoutRef.current);\n      deleteTimeoutRef.current = null;\n    }\n  };\n\n  const exitDeleteMode = () => {\n    setIsDeleteMode(false);\n    setSelectedGameIds(new Set());\n  };\n\n  const handlePlayClick = async (game: Game) => {\n    try {\n      let file: File | null = null;\n\n      // Try to get file from IndexedDB first\n      file = await getGameFile(game.id);\n\n      // Fallback to legacy fileData if IndexedDB doesn't have it\n      if (!file && game.fileData) {\n        const response = await fetch(game.fileData);\n        const blob = await response.blob();\n        file = new File([blob], game.fileName || game.title, { type: 'application/octet-stream' });\n        // Save to IndexedDB for next time\n        await saveGameFile(game.id, file);\n      }\n\n      if (file) {\n        await loadGame(file, game.core);\n      } else {\n        console.error('Game file not found');\n      }\n    } catch (error) {\n      console.error('Error loading game:', error);\n    }\n  };\n\n  const handleNavClick = (viewName: 'library' | 'themes' | 'about') => {\n    setActiveView(viewName);\n    setIsSidebarOpen(false);\n  };\n\n  const getSidebarButtonClass = (view: 'library' | 'themes' | 'about') => {\n    const baseClass = \"sidebar-item block p-3 mb-2 rounded-lg transition-all flex items-center border-l-4 hover:translate-x-1\";\n    const isActive = activeView === view;\n    return `${baseClass} ${isActive ? 'border-l-4' : 'border-transparent'}`;\n  };\n\n  const sidebarClass = isSidebarOpen ? \"translate-x-0\" : \"-translate-x-full\";\n  const sidebarFullClass = `w-64 p-6 flex flex-col justify-start shadow-xl fixed left-0 top-0 bottom-0 z-50 transition-all duration-300 ease-in-out ${sidebarClass}`;\n\n  const currentColors = THEMES[selectedTheme as keyof typeof THEMES] || THEMES.dark;\n\n  const handleThemeChange = (themeName: string) => {\n    setSelectedTheme(themeName);\n  };\n\n  // Get system category for a game based on the core\n  const getSystemCategory = (core?: string): string => {\n    if (!core) return 'Other';\n\n    // Check which category the core belongs to\n    for (const [category, systems] of Object.entries(SYSTEM_PICKER)) {\n      if (Object.values(systems).includes(core)) {\n        return category;\n      }\n    }\n    return 'Other';\n  };\n\n  // Sort games\n  const sortedGames = useMemo(() => {\n    const sorted = [...games];\n    sorted.sort((a, b) => {\n      let comparison = 0;\n      if (sortBy === 'title') {\n        comparison = a.title.localeCompare(b.title);\n      } else if (sortBy === 'system') {\n        comparison = a.genre.localeCompare(b.genre);\n      }\n      return sortOrder === 'asc' ? comparison : -comparison;\n    });\n    return sorted;\n  }, [games, sortBy, sortOrder]);\n\n  // Group games by system category when sorting by system\n  const groupedGames = useMemo(() => {\n    if (sortBy !== 'system') {\n      return null;\n    }\n\n    const categoryOrder = ['Nintendo', 'Sega', 'Sony', 'Atari', 'Other'];\n    const groups: Record<string, Game[]> = {\n      'Nintendo': [],\n      'Sega': [],\n      'Sony': [],\n      'Atari': [],\n      'Other': []\n    };\n\n    sortedGames.forEach(game => {\n      const category = getSystemCategory(game.core);\n      groups[category].push(game);\n    });\n\n    // Sort categories based on sort order\n    if (sortOrder === 'desc') {\n      categoryOrder.reverse();\n    }\n\n    // Create new object with sorted category order\n    const sortedGroups: Record<string, Game[]> = {};\n    categoryOrder.forEach(category => {\n      if (groups[category].length > 0) {\n        sortedGroups[category] = groups[category];\n      }\n    });\n\n    return sortedGroups;\n  }, [sortedGames, sortBy, sortOrder]);\n\n  const renderContent = () => {\n    if (activeView === 'themes') {\n      return (\n        <div>\n          <h2 className=\"text-2xl font-bold mb-6\" style={{ color: currentColors.softLight }}>\n            Select Theme\n          </h2>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {Object.entries(THEMES).map(([themeName, themeColors]) => (\n              <button\n                key={themeName}\n                onClick={() => handleThemeChange(themeName)}\n                className=\"p-6 rounded-xl transition-all border-2 relative overflow-hidden\"\n                style={{\n                  backgroundColor: themeColors.midDark,\n                  borderColor: selectedTheme === themeName ? themeColors.playGreen : themeColors.highlight + '40',\n                  boxShadow: selectedTheme === themeName ? `0 2px 8px ${themeColors.playGreen}30` : '0 2px 4px rgba(0, 0, 0, 0.2)',\n                }}\n              >\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-xl font-bold capitalize\" style={{ color: themeColors.softLight }}>\n                    {themeName}\n                  </h3>\n                  {selectedTheme === themeName && (\n                    <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\" style={{ color: themeColors.playGreen }}>\n                      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                    </svg>\n                  )}\n                </div>\n                <div className=\"flex gap-2\">\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.darkBg }}></div>\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.midDark }}></div>\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.playGreen }}></div>\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.highlight }}></div>\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n      );\n    }\n    if (activeView === 'about') {\n      return (\n        <div>\n          <h2 className=\"text-2xl font-bold mb-4\" style={{ color: currentColors.softLight }}>About Joe T Emulator</h2>\n          <p className=\"text-sm mb-4\" style={{ color: currentColors.highlight }}>\n            Joe T Emulator is an open-source, web-based emulator that allows you to play classic games directly in your browser. It supports a variety of systems and offers a customizable experience with themes and cover art.\n          </p>\n          <div className=\"p-4 rounded-xl\" style={{ backgroundColor: currentColors.midDark, color: currentColors.softLight }}>\n            <p className=\"text-sm\">Version: local</p>\n            <p className=\"text-sm\">Built with React + Next.js</p>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-xl font-semibold\" style={{ color: currentColors.highlight }}>\n            Games ({games.length})\n          </h2>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex items-center gap-2 px-4 py-2 rounded-lg\" style={{ backgroundColor: currentColors.midDark }}>\n              <label className=\"text-sm font-medium\" style={{ color: currentColors.highlight }}>Sort by:</label>\n              <div className=\"flex gap-1\">\n                {(['title', 'system'] as const).map((option) => (\n                  <button\n                    key={option}\n                    onClick={() => setSortBy(option)}\n                    className=\"px-3 py-1.5 rounded-lg text-sm font-medium transition-all active:scale-95\"\n                    style={{\n                      backgroundColor: sortBy === option ? currentColors.highlight : currentColors.darkBg,\n                      color: sortBy === option ? currentColors.darkBg : currentColors.softLight,\n                    }}\n                  >\n                    {option === 'title' ? 'Title' : 'System'}\n                  </button>\n                ))}\n              </div>\n              <button\n                onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}\n                className=\"px-3 py-1.5 rounded-lg text-sm font-semibold transition-all hover:shadow-md active:scale-95 flex items-center justify-center\"\n                style={{\n                  backgroundColor: currentColors.highlight,\n                  color: currentColors.darkBg,\n                }}\n              >\n                {sortOrder === 'asc' ? '' : ''}\n              </button>\n            </div>\n            {isDeleteMode ? (\n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={handleMassDelete}\n                  disabled={selectedGameIds.size === 0}\n                  className=\"px-4 py-2.5 rounded-lg font-semibold transition-all hover:shadow-md active:scale-95\"\n                  style={{\n                    backgroundColor: '#ef4444',\n                    color: currentColors.softLight,\n                    opacity: selectedGameIds.size === 0 ? 0.5 : 1\n                  }}\n                >\n                  Delete Selected ({selectedGameIds.size})\n                </button>\n                <button\n                  onClick={exitDeleteMode}\n                  className=\"px-5 py-2.5 rounded-lg font-semibold transition-all active:scale-95\"\n                  style={{ backgroundColor: currentColors.highlight, color: currentColors.darkBg }}\n                >\n                  Cancel\n                </button>\n              </div>\n            ) : (\n              <button\n                onClick={handleFileSelect}\n                className=\"px-8 py-3.5 rounded-lg font-semibold transition-all hover:shadow-md active:scale-95\"\n                style={{ ...getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo), color: currentColors.darkBg }}\n              >\n                Add Game\n              </button>\n            )}\n          </div>\n        </div>\n        {isLoadingGames ? (\n          <div className=\"text-center py-16\">\n            <p className=\"text-lg\" style={{ color: currentColors.highlight }}>Loading games...</p>\n          </div>\n        ) : games.length === 0 ? (\n          <div className=\"text-center py-16\">\n            <p className=\"text-xl mb-2 font-semibold\" style={{ color: currentColors.softLight }}>No games found</p>\n            <p className=\"text-sm mb-6\" style={{ color: currentColors.highlight }}>Add your first game to get started</p>\n            <button\n              onClick={handleFileSelect}\n              className=\"px-8 py-3.5 rounded-lg font-semibold transition-all hover:shadow-md active:scale-95\"\n              style={{ ...getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo), color: currentColors.darkBg }}\n            >\n              Add Your First Game\n            </button>\n          </div>\n        ) : sortBy === 'system' && groupedGames ? (\n          <div>\n            {Object.entries(groupedGames).map(([category, categoryGames]) => (\n              <div key={category} className=\"mb-8 last:mb-0\">\n                <div className=\"flex items-center mb-4\">\n                  <h4 className=\"text-xs font-bold uppercase tracking-wider pr-3\" style={{ color: currentColors.highlight }}>\n                    {category}\n                  </h4>\n                  <div className=\"flex-1 h-px\" style={{ backgroundColor: currentColors.highlight + '30' }}></div>\n                </div>\n                <div className=\"flex flex-wrap\" style={{ gap: '1rem' }}>\n                  {categoryGames.map((game, index) => {\n                    const isGameDeleting = deletingGameIds.has(game.id);\n                    // Only count games that are NOT being deleted for animation purposes\n                    const visibleIndex = categoryGames.slice(0, index).filter(g => !deletingGameIds.has(g.id)).length;\n                    const reverseStaggerDelay = (categoryGames.length - 1 - index) * 0.03;\n                    return (\n                      <div key={game.id} style={{ animation: isGameDeleting ? `slideDown 0.4s ease-in-out ${reverseStaggerDelay}s forwards` : shouldAnimateEntries ? `fadeIn 0.5s ease-in-out ${visibleIndex * 0.03}s both` : 'none' }}>\n                        <GameCard game={game} onPlay={handlePlayClick} onEdit={handleEditGame} onDelete={handleDeleteGame} onSelect={toggleGameSelection} isSelected={selectedGameIds.has(game.id)} isDeleteMode={isDeleteMode} onEnterDeleteMode={() => setIsDeleteMode(true)} colors={currentColors} />\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"flex flex-wrap\" style={{ gap: '1rem' }}>\n            {sortedGames.map((game, index) => {\n              const isGameDeleting = deletingGameIds.has(game.id);\n              // Only count games that are NOT being deleted for animation purposes\n              const visibleIndex = sortedGames.slice(0, index).filter(g => !deletingGameIds.has(g.id)).length;\n              const reverseStaggerDelay = (sortedGames.length - 1 - index) * 0.03;\n              return (\n                <div key={game.id} style={{ animation: isGameDeleting ? `slideDown 0.4s ease-in-out ${reverseStaggerDelay}s forwards` : shouldAnimateEntries ? `fadeIn 0.5s ease-in-out ${visibleIndex * 0.03}s both` : 'none' }}>\n                  <GameCard game={game} onPlay={handlePlayClick} onEdit={handleEditGame} onDelete={handleDeleteGame} onSelect={toggleGameSelection} isSelected={selectedGameIds.has(game.id)} isDeleteMode={isDeleteMode} onEnterDeleteMode={() => setIsDeleteMode(true)} onCoverArtClick={(game) => {\n                    setEditingGame(game);\n                    setPendingGame(game);\n                    setCoverArtFit(game.coverArtFit || 'cover');\n                    setSystemPickerOpen(true);\n                  }} colors={currentColors} />\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {!isHydrated ? (\n        <div className=\"min-h-screen flex flex-col\" style={{ backgroundColor: '#0f0f0f', fontFamily: 'Inter, sans-serif' }} />\n      ) : (\n        <div className=\"min-h-screen flex flex-col\" style={{ backgroundColor: currentColors.darkBg, fontFamily: 'Inter, sans-serif' }}>\n          <div\n            className={`fixed inset-0 z-40 transition-all duration-300 ${isSidebarOpen ? 'bg-black/60 backdrop-blur-sm' : 'bg-black/0 backdrop-blur-none pointer-events-none'\n              }`}\n            onClick={() => setIsSidebarOpen(false)}\n          />\n          <aside className={sidebarFullClass} style={{ backgroundColor: currentColors.midDark, boxShadow: '4px 0 12px rgba(0, 0, 0, 0.3)' }}>\n            <div className=\"flex items-center gap-3 mb-12 animate-fade-in pb-6 border-b\" style={{ borderColor: currentColors.highlight + '30' }}>\n              <img src=\"/favicon.ico\" alt=\"Joe T Emulator\" className=\"w-12 h-12 flex-shrink-0\" />\n              <h2 className=\"text-2xl font-extrabold leading-tight\" style={{\n                backgroundImage: `linear-gradient(135deg, ${currentColors.softLight} 0%, ${currentColors.highlight} 100%)`,\n                backgroundRepeat: 'no-repeat',\n                backgroundSize: '100% 100%',\n                WebkitBackgroundClip: 'text',\n                backgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                color: 'transparent',\n                fontFamily: 'Inter, sans-serif',\n                letterSpacing: '-0.02em'\n              }}>\n                Joe T Emulator\n              </h2>\n            </div>\n            <nav>\n              {[\n                { view: 'library' as const, icon: Gamepad2, label: 'Library' },\n                { view: 'themes' as const, icon: Palette, label: 'Themes' },\n                { view: 'about' as const, icon: Info, label: 'About' }\n              ].map(({ view, icon: Icon, label }, index) => (\n                <button\n                  key={view}\n                  className={getSidebarButtonClass(view) + \" hover:bg-opacity-50\"}\n                  style={{\n                    backgroundColor: activeView === view ? currentColors.sidebarHover : 'transparent',\n                    borderLeftColor: activeView === view ? currentColors.highlight : 'transparent',\n                    borderLeftWidth: activeView === view ? '4px' : '0px',\n                    color: currentColors.softLight,\n                    transition: 'all 0.2s ease',\n                    animation: `fadeInSlide 0.3s ease-out ${index * 0.1}s both`\n                  }}\n                  onClick={() => handleNavClick(view)}\n                >\n                  <Icon className=\"w-6 h-6 mr-3 transition-transform\" />\n                  <span className=\"font-semibold\">{label}</span>\n                </button>\n              ))}\n            </nav>\n          </aside>\n          <div className=\"flex-1 overflow-hidden\">\n            <main className=\"p-8 overflow-y-auto pb-20 scrollbar-hide\" style={{ minHeight: 'calc(100vh - 4rem)' }}>\n              <header className=\"mb-10\">\n                <div className=\"flex justify-between items-center\">\n                  <h1 className=\"text-4xl font-extrabold tracking-tight\" style={{ color: currentColors.softLight, textShadow: '0 2px 4px rgba(0,0,0,0.2)' }}>\n                    {activeView.charAt(0).toUpperCase() + activeView.slice(1)}\n                  </h1>\n                  <div className=\"flex items-center space-x-4\">\n                    {isMounted && (\n                      <div className=\"hidden sm:block text-sm font-medium px-3 py-1.5 rounded-lg transition-all\" style={{ color: currentColors.highlight, backgroundColor: currentColors.midDark }}>\n                        {currentTime}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </header>\n              {renderContent()}\n            </main>\n          </div>\n          {duplicateMessage && (\n            <div\n              className=\"fixed bottom-24 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-lg shadow-2xl z-60 animate-fade-in p-4 transition-opacity duration-300\"\n              onClick={() => setDuplicateMessage(null)}\n              style={{\n                backgroundColor: '#ef4444',\n                color: currentColors.softLight,\n                opacity: showDuplicateMessage ? 1 : 0,\n                transition: 'opacity 0.3s ease-out',\n                pointerEvents: showDuplicateMessage ? 'auto' : 'none'\n              }}\n            >\n              <div className=\"flex items-center gap-2\">\n                <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n                <span className=\"font-semibold\">{duplicateMessage}</span>\n              </div>\n            </div>\n          )}\n          <footer className=\"fixed bottom-0 left-0 right-0 h-16 border-t flex items-center justify-between px-6 z-50\" style={{ backgroundColor: currentColors.midDark, borderColor: currentColors.sidebarHover, boxShadow: '0 -4px 12px rgba(0, 0, 0, 0.3)' }}>\n            <button\n              className=\"p-2.5 rounded-lg transition-all hover:bg-opacity-50 active:scale-95\"\n              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n              style={{ color: currentColors.softLight, backgroundColor: isSidebarOpen ? currentColors.sidebarHover : 'transparent' }}\n            >\n              {isSidebarOpen ? <X className=\"w-7 h-7 transition-transform rotate-0\" /> : <Menu className=\"w-7 h-7 transition-transform\" />}\n            </button>\n            <div className=\"flex-1 mx-4\" />\n          </footer>\n          {(systemPickerOpen || systemPickerClosing) && (() => {\n            // SYSTEM_PICKER is already organized by category\n            const filteredCategories: Record<string, Array<[string, string]>> = {};\n\n            Object.entries(SYSTEM_PICKER).forEach(([category, systems]) => {\n              const filtered = Object.entries(systems).filter(([name]) =>\n                name.toLowerCase().includes(systemSearchQuery.toLowerCase())\n              );\n              if (filtered.length > 0) {\n                filteredCategories[category] = filtered;\n              }\n            });\n\n            const currentCore = editingGame?.core || pendingGame?.core;\n\n            return (\n              <div\n                className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in p-4\"\n                onClick={() => closeSystemPicker()}\n                style={{ animation: systemPickerClosing ? 'fadeOut 0.2s ease-out' : 'fadeIn 0.2s ease-out' }}\n              >\n                <div\n                  className=\"p-6 rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col shadow-2xl border\"\n                  style={{\n                    backgroundColor: currentColors.midDark,\n                    borderColor: currentColors.highlight + '30',\n                    boxShadow: '0 20px 60px rgba(0, 0, 0, 0.7)',\n                    animation: systemPickerClosing ? 'slideDown 0.2s ease-out' : 'slideUp 0.3s ease-out'\n                  }}\n                  onClick={(e) => e.stopPropagation()}\n                >\n                  {/* Header */}\n                  <div className=\"mb-6\">\n                    <h3 className=\"text-3xl font-bold mb-2\" style={{ color: currentColors.softLight }}>\n                      {editingGame ? editingGame.title : pendingFiles.length > 1 ? `Add ${pendingFiles.length} Games` : 'Select System'}\n                    </h3>\n                    {editingGame && (\n                      <p className=\"text-sm opacity-70\" style={{ color: currentColors.highlight }}>\n                        Choose a system and cover art\n                      </p>\n                    )}\n                    {pendingFiles.length > 1 && (\n                      <p className=\"text-sm opacity-70\" style={{ color: currentColors.highlight }}>\n                        Choose a system for {pendingFiles.length} files\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Main Content: Cover Art + Systems */}\n                  <div className=\"flex gap-6 flex-1 min-h-0\">\n                    {/* Cover Art Section - only show when editing or adding single game (not multi-file batch) */}\n                    {pendingFiles.length <= 1 && (\n                      <div className=\"flex-shrink-0 w-80 space-y-4\">\n                        <div className=\"rounded-xl border overflow-hidden\" style={{ borderColor: currentColors.highlight + '30', backgroundColor: currentColors.darkBg }}>\n                          {(editingGame?.coverArt || pendingGame?.coverArt) ? (\n                            <div className=\"relative group\">\n                              <div className=\"aspect-[4/5] w-full overflow-hidden bg-black/20 relative\">\n                                <img\n                                  src={editingGame?.coverArt || pendingGame?.coverArt}\n                                  alt=\"Cover art\"\n                                  className=\"w-full h-full\"\n                                  style={{\n                                    objectFit: coverArtFit,\n                                    objectPosition: 'center'\n                                  }}\n                                />\n                              </div>\n                              <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                <button\n                                  onClick={removeCoverArt}\n                                  className=\"px-3 py-2.5 rounded-lg transition-all hover:shadow-md active:scale-95 flex items-center justify-center\"\n                                  style={{ backgroundColor: '#ef4444', color: currentColors.softLight }}\n                                  title=\"Remove cover art\"\n                                >\n                                  <Trash2 className=\"w-5 h-5\" />\n                                </button>\n                              </div>\n                            </div>\n                          ) : (\n                            <div className=\"aspect-[3/4] w-full flex items-center justify-center bg-gradient-to-br\" style={{ background: `linear-gradient(135deg, ${currentColors.darkBg} 0%, ${currentColors.midDark} 100%)` }}>\n                              <div className=\"text-center p-6\">\n                                <div className=\"w-16 h-16 mx-auto mb-4 rounded-lg flex items-center justify-center\" style={{ backgroundColor: currentColors.highlight + '20' }}>\n                                  <svg className=\"w-8 h-8\" style={{ color: currentColors.highlight }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\n                                  </svg>\n                                </div>\n                                <p className=\"text-sm font-medium\" style={{ color: currentColors.softLight }}>\n                                  No Cover Art\n                                </p>\n                              </div>\n                            </div>\n                          )}\n                          {(editingGame?.coverArt || pendingGame?.coverArt) && (\n                            <div className=\"p-4 border-t\" style={{ borderColor: currentColors.highlight + '30' }}>\n                              <button\n                                onClick={() => {\n                                  const newFit = coverArtFit === 'contain' ? 'cover' : 'contain';\n                                  setCoverArtFit(newFit);\n                                  updateCoverArtFit(newFit);\n                                }}\n                                className=\"w-full px-4 py-2.5 rounded-lg transition-all text-sm font-semibold text-center active:scale-95\"\n                                style={{\n                                  backgroundColor: currentColors.highlight,\n                                  color: currentColors.darkBg,\n                                }}\n                              >\n                                {coverArtFit === 'contain' ? 'Zoom to Fill' : 'Shrink to Fit'}\n                              </button>\n                            </div>\n                          )}\n                          <div className=\"p-4 border-t\" style={{ borderColor: currentColors.highlight + '30' }}>\n                            <input\n                              type=\"file\"\n                              accept=\"image/*\"\n                              onChange={(e) => {\n                                const file = e.target.files?.[0];\n                                if (file) {\n                                  handleCoverArtFileUpload(file);\n                                }\n                              }}\n                              className=\"hidden\"\n                              id=\"cover-art-file-input\"\n                            />\n                            <label\n                              htmlFor=\"cover-art-file-input\"\n                              className=\"block w-full px-4 py-2.5 rounded-lg transition-all text-sm font-semibold text-center active:scale-95\"\n                              style={{\n                                ...((editingGame?.coverArt || pendingGame?.coverArt) ? { backgroundColor: currentColors.highlight } : getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo)),\n                                color: currentColors.darkBg,\n                              }}\n                            >\n                              {(editingGame?.coverArt || pendingGame?.coverArt) ? 'Change Image' : 'Upload Cover Art'}\n                            </label>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Systems Section */}\n                    <div className={pendingFiles.length > 1 ? \"w-full flex flex-col min-w-0\" : \"flex-1 flex flex-col min-w-0\"}>\n                      <input\n                        type=\"text\"\n                        placeholder=\"Search systems...\"\n                        value={systemSearchQuery}\n                        onChange={(e) => setSystemSearchQuery(e.target.value)}\n                        onFocus={() => setSearchFocused(true)}\n                        onBlur={() => setSearchFocused(false)}\n                        className=\"w-full px-4 py-3 rounded-xl border-2 transition-all focus:outline-none mb-4\"\n                        style={{\n                          backgroundColor: currentColors.darkBg,\n                          borderColor: searchFocused ? currentColors.playGreen : currentColors.highlight + '50',\n                          color: currentColors.softLight,\n                          boxShadow: searchFocused ? `0 0 0 2px ${currentColors.playGreen}30` : 'none',\n                        }}\n                        autoFocus\n                      />\n\n                      <div className=\"flex-1 overflow-y-auto pr-2 scrollbar-hide\">\n                        {Object.entries(filteredCategories).map(([category, systems]) => (\n                          <div key={category} className=\"mb-6 last:mb-0\">\n                            <div className=\"flex items-center mb-3\">\n                              <h4 className=\"text-xs font-bold uppercase tracking-wider pr-3\" style={{ color: currentColors.highlight }}>\n                                {category}\n                              </h4>\n                              <div className=\"flex-1 h-px\" style={{ backgroundColor: currentColors.highlight + '30' }}></div>\n                            </div>\n                            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2.5\">\n                              {systems.map(([name, core], index) => {\n                                const isSelected = currentCore === core;\n                                return (\n                                  <button\n                                    key={core}\n                                    className=\"p-3.5 rounded-xl text-left transition-all active:scale-[0.97] border-2 relative flex items-center justify-between group\"\n                                    style={{\n                                      ...(isSelected ? getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo) : { backgroundColor: currentColors.sidebarHover }),\n                                      borderColor: isSelected ? currentColors.playGreen : currentColors.highlight + '30',\n                                      color: isSelected ? currentColors.darkBg : currentColors.softLight,\n                                      boxShadow: isSelected ? `0 2px 8px ${currentColors.playGreen}30` : '0 2px 4px rgba(0, 0, 0, 0.2)',\n                                      animation: `fadeIn 0.4s ease-out ${index * 0.03}s both`\n                                    }}\n                                    onMouseEnter={(e) => {\n                                      if (!isSelected) {\n                                        e.currentTarget.style.backgroundColor = currentColors.highlight + '20';\n                                        e.currentTarget.style.borderColor = currentColors.highlight + '50';\n                                      }\n                                    }}\n                                    onMouseLeave={(e) => {\n                                      if (!isSelected) {\n                                        e.currentTarget.style.backgroundColor = currentColors.sidebarHover;\n                                        e.currentTarget.style.borderColor = currentColors.highlight + '30';\n                                      }\n                                    }}\n                                    onClick={() => selectSystem(core)}\n                                  >\n                                    <span className=\"font-medium text-sm leading-tight truncate pr-2 flex-1\">\n                                      {name}\n                                    </span>\n                                    <div className=\"w-5 h-5 flex-shrink-0 flex items-center justify-center\">\n                                      {isSelected && (\n                                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                          <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                                        </svg>\n                                      )}\n                                    </div>\n                                  </button>\n                                );\n                              })}\n                            </div>\n                          </div>\n                        ))}\n                        {Object.keys(filteredCategories).length === 0 && (\n                          <div className=\"text-center py-16\" style={{ color: currentColors.highlight }}>\n                            <div className=\"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center\" style={{ backgroundColor: currentColors.highlight + '15' }}>\n                              <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\n                              </svg>\n                            </div>\n                            <p className=\"text-lg font-semibold mb-1\" style={{ color: currentColors.softLight }}>No systems found</p>\n                            <p className=\"text-sm opacity-70\">Try a different search term</p>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t\" style={{ borderColor: currentColors.highlight + '30' }}>\n                    {(editingGame || (pendingFiles.length === 1 && pendingGame)) && (\n                      <button\n                        className=\"py-2.5 px-6 rounded-lg font-semibold transition-all active:scale-95\"\n                        style={{ ...getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo), color: currentColors.darkBg }}\n                        onClick={handleSystemPickerDone}\n                      >\n                        Done\n                      </button>\n                    )}\n                    <button\n                      className=\"py-2.5 px-6 rounded-lg font-semibold transition-all active:scale-95\"\n                      style={{ backgroundColor: currentColors.highlight, color: currentColors.darkBg }}\n                      onClick={() => closeSystemPicker()}\n                    >\n                      {editingGame ? 'Cancel' : 'Close'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })()}\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":["c","_c","useState","useEffect","useLayoutEffect","useMemo","useRef","loadGame","saveGameFile","getGameFile","SYSTEM_PICKER","FILE_EXTENSIONS","getSystemNameByCore","Gamepad2","Info","Palette","Menu","X","Settings","Trash2","Game","id","title","genre","filePath","fileName","fileData","core","coverArt","coverArtFit","THEMES","dark","highlight","darkBg","midDark","softLight","sidebarHover","playGreen","gradientFrom","gradientTo","blue","purple","green","orange","red","pink","cyan","yellow","teal","indigo","ThemeConfig","getGradientStyle","from","to","background","getSystemDisplayName","systemMap","Record","toUpperCase","GameCard","t0","$","$i","Symbol","for","game","onPlay","onEdit","onDelete","onSelect","isSelected","isDeleteMode","onEnterDeleteMode","onCoverArtClick","colors","cardClass","t1","t2","t3","backgroundColor","boxShadow","cursor","t4","GameCard[<div>.onClick]","t5","t6","t7","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","t8","color","textShadow","e","stopPropagation","t9","baseCoverClass","t10","overlayClass","contentClass","e_0","e_1","e_2","timeout","setTimeout","GameCard[<button>.onMouseDown > setTimeout()]","cleanup","GameCard[<button>.onMouseDown > cleanup]","clearTimeout","currentTarget","addEventListener","once","e_3","timeout_0","GameCard[<button>.onTouchStart > setTimeout()]","cleanup_0","GameCard[<button>.onTouchStart > cleanup_0]","e_4","t11","Home","activeView","setActiveView","isSidebarOpen","setIsSidebarOpen","currentTime","setCurrentTime","isMounted","setIsMounted","games","setGames","editingGame","setEditingGame","systemPickerOpen","setSystemPickerOpen","systemPickerClosing","setSystemPickerClosing","pendingGame","setPendingGame","Partial","pendingFiles","setPendingFiles","Array","file","File","index","systemSearchQuery","setSystemSearchQuery","duplicateMessage","setDuplicateMessage","showDuplicateMessage","setShowDuplicateMessage","isLoadingGames","setIsLoadingGames","selectedTheme","setSelectedTheme","searchFocused","setSearchFocused","setCoverArtFit","sortBy","setSortBy","sortOrder","setSortOrder","isHydrated","setIsHydrated","selectedGameIds","setSelectedGameIds","Set","setIsDeleteMode","deletingGameIds","setDeletingGameIds","shouldAnimateEntries","setShouldAnimateEntries","window","savedTheme","localStorage","getItem","setItem","savedSortBy","savedSortOrder","updateTime","Date","toLocaleTimeString","hour","minute","interval","setInterval","loadGames","savedGames","loadedGames","JSON","parse","migratedGames","migrateGameToIndexedDB","map","updated","systemName","stringify","console","error","clearInterval","closeSystemPicker","handleSystemPickerDone","length","gameId","now","name","derivedTitle","replace","isDuplicate","some","g","newGame","undefined","updatedGames","allGames","Promise","startsWith","response","fetch","blob","type","gameWithoutData","getSystemFromExtension","extension","toLowerCase","processGameFile","selectedCore","currentGamesList","nameWithoutExt","fileExtension","split","pop","gamesListToCheck","detectedCore","gameData","selectSystem","currentGames","applyCoverArt","updateCoverArtFit","newFit","handleCoverArtFileUpload","reader","FileReader","onload","dataUrl","target","result","onerror","readAsDataURL","removeCoverArt","updatedEditingGame","handleFileSelect","files","fileHandles","showOpenFilePicker","multiple","all","fh","getFile","resolve","input","document","createElement","onchange","click","filesNeedingSystem","i","push","filteredFilesNeedingSystem","filter","err","handleEditGame","handleDeleteGame","confirm","deleteGameFile","prev","next","add","delete","toggleGameSelection","newSelected","has","toggleSelectAll","size","handleMassDelete","deleteButtonRef","HTMLButtonElement","deleteTimeoutRef","NodeJS","Timeout","isPressingRef","handleDeleteButtonMouseDown","current","handleDeleteButtonMouseUp","exitDeleteMode","handlePlayClick","handleNavClick","viewName","getSidebarButtonClass","view","baseClass","isActive","sidebarClass","sidebarFullClass","currentColors","handleThemeChange","themeName","getSystemCategory","category","systems","Object","entries","values","includes","sortedGames","sorted","sort","a","b","comparison","localeCompare","groupedGames","categoryOrder","groups","forEach","reverse","sortedGroups","renderContent","themeColors","borderColor","const","option","opacity","categoryGames","gap","isGameDeleting","visibleIndex","slice","reverseStaggerDelay","animation","fontFamily","WebkitBackgroundClip","backgroundClip","WebkitTextFillColor","letterSpacing","icon","label","Icon","borderLeftColor","borderLeftWidth","transition","minHeight","charAt","pointerEvents","filteredCategories","filtered","currentCore","objectFit","objectPosition","value","style","keys"],"mappings":"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","ignoreList":[]}}]
}