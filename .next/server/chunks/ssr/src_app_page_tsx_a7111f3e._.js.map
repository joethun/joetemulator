{"version":3,"sources":["../../../../src/app/page.tsx","../../../../src/lib/constants.ts","../../../../src/lib/emulator.ts","../../../../node_modules/shared/src/utils.ts","../../../../node_modules/lucide-react/src/defaultAttributes.ts","../../../../node_modules/lucide-react/src/icons/plus.ts","../../../../node_modules/lucide-react/src/icons/x.ts","../../../../node_modules/lucide-react/src/icons/trash-2.ts","../../../../node_modules/lucide-react/src/icons/gamepad-2.ts","../../../../node_modules/lucide-react/src/icons/arrow-up.ts","../../../../node_modules/lucide-react/src/icons/settings.ts","../../../../node_modules/lucide-react/src/icons/arrow-down.ts","../../../../node_modules/lucide-react/src/icons/palette.ts","../../../../node_modules/lucide-react/src/icons/search.ts","../../../../node_modules/lucide-react/src/icons/menu.ts","../../../../node_modules/lucide-react/src/Icon.ts","../../../../node_modules/lucide-react/src/createLucideIcon.ts","../../../../src/components/GameCardComponent.tsx","../../../../src/types/index.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useLayoutEffect, useMemo, useRef } from 'react';\nimport { loadGame } from '@/lib/emulator';\nimport { saveGameFile, getGameFile } from '@/lib/storage';\nimport { SYSTEM_PICKER, FILE_EXTENSIONS, getSystemNameByCore } from '@/lib/constants';\nimport { Game, THEMES, getGradientStyle } from '@/types';\nimport { GameCard, getSystemDisplayName } from '@/components/GameCardComponent';\nimport { Gamepad2, Palette, Menu, X, Trash2, ArrowUp, ArrowDown, Search, Plus } from 'lucide-react';\n\n\nexport default function Home() {\n  const [activeView, setActiveView] = useState<'library' | 'themes'>('library');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [currentTime, setCurrentTime] = useState<string>('');\n  const [isMounted, setIsMounted] = useState(false);\n  const [games, setGames] = useState<Game[]>([]);\n  const [editingGame, setEditingGame] = useState<Game | null>(null);\n  const [systemPickerOpen, setSystemPickerOpen] = useState(false);\n  const [systemPickerClosing, setSystemPickerClosing] = useState(false);\n  const [pendingGame, setPendingGame] = useState<Partial<Game> | null>(null);\n  const [pendingFiles, setPendingFiles] = useState<Array<{ file: File; index: number }>>([]);\n  const [systemSearchQuery, setSystemSearchQuery] = useState('');\n  const [duplicateMessage, setDuplicateMessage] = useState<string | null>(null);\n  const [showDuplicateMessage, setShowDuplicateMessage] = useState(false);\n  const [isLoadingGames, setIsLoadingGames] = useState(true);\n  const [selectedTheme, setSelectedTheme] = useState<string>('default');\n  const [searchFocused, setSearchFocused] = useState(false);\n  const [gameSearchFocused, setGameSearchFocused] = useState(false);\n  const [gameSearchQuery, setGameSearchQuery] = useState('');\n  const [gameSearchExpanded, setGameSearchExpanded] = useState(false);\n  const [coverArtFit, setCoverArtFit] = useState<'cover' | 'contain'>('cover');\n  const [sortBy, setSortBy] = useState<'title' | 'system'>('title');\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('asc');\n  const [isHydrated, setIsHydrated] = useState(false);\n  const [selectedGameIds, setSelectedGameIds] = useState<Set<number>>(new Set());\n  const [isDeleteMode, setIsDeleteMode] = useState(false);\n  const [deletingGameIds, setDeletingGameIds] = useState<Set<number>>(new Set());\n  const gameSearchInputRef = useRef<HTMLInputElement | null>(null);\n\n  // Sync theme from localStorage immediately before first render to prevent flash\n  useLayoutEffect(() => {\n    if (typeof window === 'undefined') return;\n    const savedTheme = localStorage.getItem('theme') || 'default';\n    setSelectedTheme(savedTheme);\n    setIsHydrated(true);\n  }, []);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem('theme', selectedTheme);\n  }, [selectedTheme]);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    // Load sort preferences from localStorage\n    const savedSortBy = (localStorage.getItem('sortBy') as 'title' | 'system') || 'title';\n    const savedSortOrder = (localStorage.getItem('sortOrder') as 'asc' | 'desc') || 'asc';\n    setSortBy(savedSortBy);\n    setSortOrder(savedSortOrder);\n\n    const updateTime = () => {\n      setCurrentTime(new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }));\n    };\n    updateTime();\n    setIsMounted(true);\n    const interval = setInterval(updateTime, 60000);\n\n    // Load games from localStorage on mount\n    const loadGames = async () => {\n      setIsLoadingGames(true);\n      const savedGames = localStorage.getItem('games');\n      if (savedGames) {\n        try {\n          const loadedGames: Game[] = JSON.parse(savedGames);\n\n          // Migrate old games with fileData to IndexedDB\n          let migratedGames = loadedGames;\n          for (const game of loadedGames) {\n            if (game.fileData) {\n              migratedGames = await migrateGameToIndexedDB(game, migratedGames);\n            }\n          }\n\n          // Migrate games: update genre and coverArtFit\n          migratedGames = migratedGames.map(game => {\n            let updated = { ...game };\n            if (game.genre === 'ROM' && game.core) {\n              const systemName = getSystemNameByCore(game.core);\n              updated.genre = systemName;\n            }\n            if (game.coverArt && !game.coverArtFit) {\n              updated.coverArtFit = 'cover';\n            }\n            return updated;\n          });\n\n          if (migratedGames !== loadedGames) {\n            // Update localStorage with migrated games (without fileData)\n            localStorage.setItem('games', JSON.stringify(migratedGames));\n          }\n\n          setGames(migratedGames);\n        } catch (e) {\n          console.error('Failed to load games from storage', e);\n        }\n      }\n      setIsLoadingGames(false);\n    };\n\n    loadGames();\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // Save sort preferences to localStorage when they change\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem('sortBy', sortBy);\n  }, [sortBy]);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem('sortOrder', sortOrder);\n  }, [sortOrder]);\n\n  // Close system picker with fade-out animation\n  const closeSystemPicker = () => {\n    setSystemPickerClosing(true);\n    setTimeout(() => {\n      setSystemPickerOpen(false);\n      setSystemPickerClosing(false);\n      setPendingFiles([]);\n      setPendingGame(null);\n      setEditingGame(null);\n      setSystemSearchQuery('');\n    }, 200); // Match the fade-out animation duration\n  };\n\n  const handleSystemPickerDone = async () => {\n    if (editingGame) {\n      closeSystemPicker();\n      return;\n    }\n\n    if (pendingFiles.length === 1 && pendingGame?.core) {\n      try {\n        const { file } = pendingFiles[0];\n        const gameId = pendingGame.id ?? Date.now();\n        const fileName = pendingGame.fileName || file.name;\n        const derivedTitle = pendingGame.title || file.name.replace(/\\.[^/.]+$/, '');\n        const genre = pendingGame.genre || getSystemNameByCore(pendingGame.core) || 'Unknown System';\n\n        const isDuplicate = games.some(g => g.fileName === file.name);\n        if (isDuplicate) {\n          setDuplicateMessage(`\"${file.name}\" is already in your library`);\n          setShowDuplicateMessage(true);\n          closeSystemPicker();\n          setTimeout(() => setShowDuplicateMessage(false), 2500);\n          setTimeout(() => setDuplicateMessage(null), 3000);\n          return;\n        }\n\n        await saveGameFile(gameId, file);\n\n        const newGame: Game = {\n          id: gameId,\n          title: derivedTitle,\n          genre,\n          filePath: pendingGame.filePath || file.name,\n          fileName,\n          core: pendingGame.core,\n          coverArt: pendingGame.coverArt,\n          coverArtFit: pendingGame.coverArt ? (pendingGame.coverArtFit || coverArtFit) : undefined,\n        };\n\n        const updatedGames = [...games, newGame];\n        setGames(updatedGames);\n        localStorage.setItem('games', JSON.stringify(updatedGames));\n      } catch (error) {\n        console.error('Error finalizing game addition:', error);\n      }\n    }\n\n    closeSystemPicker();\n  };\n\n  // Migrate old games with fileData to IndexedDB\n  const migrateGameToIndexedDB = async (game: Game, allGames: Game[]): Promise<Game[]> => {\n    if (!game.fileData || !game.fileData.startsWith('data:')) {\n      // Already migrated or invalid\n      return allGames;\n    }\n\n    try {\n      // Convert base64 back to File\n      const response = await fetch(game.fileData);\n      const blob = await response.blob();\n      const file = new File([blob], game.fileName || game.title, { type: 'application/octet-stream' });\n      await saveGameFile(game.id, file);\n\n      // Remove fileData from game object\n      const { fileData, ...gameWithoutData } = game;\n      return allGames.map(g => g.id === game.id ? gameWithoutData : g);\n    } catch (error) {\n      console.error('Error migrating game to IndexedDB:', error);\n      return allGames;\n    }\n  };\n\n  const getSystemFromExtension = (extension: string): string | null => {\n    return FILE_EXTENSIONS[extension.toLowerCase()] || null;\n  };\n\n  const processGameFile = async (file: File, index: number, selectedCore?: string, currentGamesList?: Game[]): Promise<Game[]> => {\n    const fileName = file.name;\n    const nameWithoutExt = fileName.replace(/\\.[^/.]+$/, '');\n    const fileExtension = fileName.split(\".\").pop()?.toLowerCase() || \"\";\n\n    // Check for duplicates\n    const gamesListToCheck = currentGamesList || games;\n    const isDuplicate = gamesListToCheck.some(g => g.fileName === fileName || g.filePath === file.name);\n    if (isDuplicate) {\n      setDuplicateMessage(`\"${fileName}\" is already in your library`);\n      setShowDuplicateMessage(true);\n      setTimeout(() => setShowDuplicateMessage(false), 2500);\n      setTimeout(() => setDuplicateMessage(null), 3000);\n      return gamesListToCheck;\n    }\n\n    const detectedCore = selectedCore || getSystemFromExtension(fileExtension);\n    const gameId = Date.now() + index;\n\n    await saveGameFile(gameId, file);\n\n    // Get system name for genre display\n    const systemName = detectedCore\n      ? getSystemNameByCore(detectedCore)\n      : 'Unknown System';\n\n    const gameData: Partial<Game> = {\n      id: gameId,\n      title: nameWithoutExt,\n      genre: systemName,\n      filePath: file.name,\n      fileName: fileName,\n      core: detectedCore || undefined,\n    };\n\n    if (detectedCore) {\n      const newGame = gameData as Game;\n      const updatedGames = [...gamesListToCheck, newGame];\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      return updatedGames;\n    }\n\n    return gamesListToCheck;\n  };\n\n  const selectSystem = async (core: string) => {\n    const systemName = getSystemNameByCore(core);\n\n    // If adding multiple files from file picker\n    if (pendingFiles.length > 1) {\n      let currentGames = games;\n      for (const { file, index } of pendingFiles) {\n        currentGames = await processGameFile(file, index, core, currentGames);\n      }\n      setPendingFiles([]);\n      closeSystemPicker();\n      return;\n    }\n\n    // If adding a single file from file picker without detected system\n    if (editingGame) {\n      // When editing, update the selection and keep modal open\n      const updatedGames = games.map(g => g.id === editingGame.id ? { ...g, core: core, genre: systemName } : g);\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      // Update the editing game and pending game to reflect the new selection\n      setEditingGame({ ...editingGame, core: core, genre: systemName });\n      if (pendingGame) {\n        setPendingGame({ ...pendingGame, core: core, genre: systemName });\n      }\n      // Don't close the modal - let user close it manually\n    } else if (pendingGame) {\n      setPendingGame({\n        ...pendingGame,\n        core: core,\n        genre: systemName\n      });\n    }\n  };\n\n  const applyCoverArt = async (coverArt: string | null) => {\n    if (!coverArt) return;\n\n    if (editingGame) {\n      const updatedGames = games.map(g =>\n        g.id === editingGame.id ? { ...g, coverArt: coverArt, coverArtFit: coverArtFit } : g\n      );\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      setEditingGame({ ...editingGame, coverArt: coverArt, coverArtFit: coverArtFit });\n      if (pendingGame && pendingGame.id === editingGame.id) {\n        setPendingGame({ ...pendingGame, coverArt: coverArt, coverArtFit: coverArtFit });\n      }\n    } else if (pendingGame) {\n      setPendingGame({ ...pendingGame, coverArt: coverArt, coverArtFit: coverArtFit });\n    }\n  };\n\n  const updateCoverArtFit = (newFit: 'cover' | 'contain') => {\n    if (editingGame && (editingGame.coverArt || pendingGame?.coverArt)) {\n      const updatedGames = games.map(g =>\n        g.id === editingGame.id ? { ...g, coverArtFit: newFit } : g\n      );\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      setEditingGame({ ...editingGame, coverArtFit: newFit });\n      if (pendingGame && pendingGame.id === editingGame.id) {\n        setPendingGame({ ...pendingGame, coverArtFit: newFit });\n      }\n    } else if (pendingGame && pendingGame.coverArt) {\n      setPendingGame({ ...pendingGame, coverArtFit: newFit });\n    }\n  };\n\n  const handleCoverArtFileUpload = async (file: File): Promise<void> => {\n    try {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const dataUrl = e.target?.result as string;\n        applyCoverArt(dataUrl);\n      };\n      reader.onerror = () => {\n        console.error('Error reading file');\n      };\n      reader.readAsDataURL(file);\n    } catch (error) {\n      console.error('Error uploading cover art:', error);\n    }\n  };\n\n  const removeCoverArt = () => {\n    if (editingGame) {\n      const updatedGames = games.map(g =>\n        g.id === editingGame.id ? { ...g, coverArt: undefined } : g\n      );\n      setGames(updatedGames);\n      localStorage.setItem('games', JSON.stringify(updatedGames));\n      const updatedEditingGame = { ...editingGame, coverArt: undefined };\n      setEditingGame(updatedEditingGame);\n      // Also update pendingGame if it exists\n      if (pendingGame && pendingGame.id === editingGame.id) {\n        setPendingGame(updatedEditingGame);\n      }\n    } else if (pendingGame) {\n      setPendingGame({ ...pendingGame, coverArt: undefined });\n    }\n  };\n\n  const handleFileSelect = async () => {\n    try {\n      let files: File[] = [];\n\n      if ('showOpenFilePicker' in window) {\n        const fileHandles = await (window as any).showOpenFilePicker({\n          multiple: true\n        });\n        files = await Promise.all(fileHandles.map((fh: any) => fh.getFile()));\n      } else {\n        // Fallback for browsers without File System Access API\n        files = await new Promise<File[]>((resolve) => {\n          const input = document.createElement('input');\n          input.type = 'file';\n          input.multiple = true;\n          input.onchange = (e: any) => {\n            resolve(Array.from(e.target.files || []) as File[]);\n          };\n          input.click();\n        });\n      }\n\n      // First, process files with detected systems\n      const filesNeedingSystem: Array<{ file: File; index: number }> = [];\n      let currentGames = games;\n\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const fileExtension = file.name.split(\".\").pop()?.toLowerCase() || \"\";\n        const detectedCore = getSystemFromExtension(fileExtension);\n\n        if (detectedCore) {\n          // Auto-add files with detected systems\n          currentGames = await processGameFile(file, i, detectedCore, currentGames);\n        } else {\n          // Collect files that need system selection\n          filesNeedingSystem.push({ file, index: i });\n        }\n      }\n\n      // Filter out duplicates\n      const filteredFilesNeedingSystem = filesNeedingSystem.filter(({ file }) => {\n        const fileName = file.name;\n        return !currentGames.some(g => g.fileName === fileName || g.filePath === file.name);\n      });\n\n      // If there are files without detected systems, show system picker\n      if (filteredFilesNeedingSystem.length > 0) {\n        setPendingFiles(filteredFilesNeedingSystem);\n        // Only set pendingGame if it's a single file (for the UI to show cover art section)\n        if (filteredFilesNeedingSystem.length === 1) {\n          const fileName = filteredFilesNeedingSystem[0].file.name;\n          const nameWithoutExt = fileName.replace(/\\.[^/.]+$/, '');\n          setPendingGame({\n            id: Date.now(),\n            title: nameWithoutExt,\n            genre: 'Unknown',\n            filePath: fileName,\n            fileName: fileName,\n          });\n        } else {\n          setPendingGame(null);\n        }\n        setCoverArtFit('cover');\n        setSystemPickerOpen(true);\n      } else if (filesNeedingSystem.length > 0) {\n        if (filesNeedingSystem.length === 1) {\n          setDuplicateMessage(`The file \"${filesNeedingSystem[0].file.name}\" is already in your library`);\n        } else {\n          setDuplicateMessage(`All ${filesNeedingSystem.length} selected files are already in your library`);\n        }\n        setShowDuplicateMessage(true);\n        setTimeout(() => setShowDuplicateMessage(false), 2000);\n        setTimeout(() => setDuplicateMessage(null), 2500);\n      }\n    } catch (err: any) {\n      if (err.name !== 'AbortError') {\n        console.error('Error selecting files:', err);\n      }\n    }\n  };\n\n  const handleEditGame = (game: Game) => {\n    setEditingGame(game);\n    setPendingGame({ ...game });\n    setCoverArtFit(game.coverArtFit || 'cover');\n    setSystemPickerOpen(true);\n  };\n\n  const handleDeleteGame = async (game: Game) => {\n    if (confirm(`Are you sure you want to delete \"${game.title}\"?`)) {\n      try {\n        const { deleteGameFile } = await import('@/lib/storage');\n\n        // Trigger fade-out animation for this game\n        setDeletingGameIds(prev => {\n          const next = new Set(prev);\n          next.add(game.id);\n          return next;\n        });\n\n        await new Promise(resolve => setTimeout(resolve, 400));\n\n        await deleteGameFile(game.id);\n\n        const updatedGames = games.filter(g => g.id !== game.id);\n        setGames(updatedGames);\n        localStorage.setItem('games', JSON.stringify(updatedGames));\n\n        setDeletingGameIds(prev => {\n          const next = new Set(prev);\n          next.delete(game.id);\n          return next;\n        });\n      } catch (error) {\n        console.error('Error deleting game:', error);\n      }\n    }\n  };\n\n  const toggleGameSelection = (gameId: number) => {\n    const newSelected = new Set(selectedGameIds);\n    if (newSelected.has(gameId)) {\n      newSelected.delete(gameId);\n    } else {\n      newSelected.add(gameId);\n    }\n    setSelectedGameIds(newSelected);\n  };\n\n  const toggleSelectAll = () => {\n    if (selectedGameIds.size === games.length) {\n      setSelectedGameIds(new Set());\n    } else {\n      setSelectedGameIds(new Set(games.map(g => g.id)));\n    }\n  };\n\n  const handleMassDelete = async () => {\n    if (selectedGameIds.size === 0) return;\n\n    if (confirm(`Are you sure you want to delete ${selectedGameIds.size} game(s)? This action cannot be undone.`)) {\n      try {\n        const { deleteGameFile } = await import('@/lib/storage');\n\n        // Trigger fade-out animation\n        setDeletingGameIds(new Set(selectedGameIds));\n\n        // Wait for animation to complete\n        await new Promise(resolve => setTimeout(resolve, 400));\n\n        // Delete from IndexedDB\n        for (const gameId of selectedGameIds) {\n          await deleteGameFile(gameId);\n        }\n\n        // Remove from state and localStorage\n        const updatedGames = games.filter(g => !selectedGameIds.has(g.id));\n        setGames(updatedGames);\n        localStorage.setItem('games', JSON.stringify(updatedGames));\n        setSelectedGameIds(new Set());\n        setDeletingGameIds(new Set());\n        setIsDeleteMode(false);\n      } catch (error) {\n        console.error('Error deleting games:', error);\n      }\n    }\n  };\n\n  const deleteButtonRef = useRef<HTMLButtonElement>(null);\n  const deleteTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const isPressingRef = useRef(false);\n\n  const toggleGameSearch = () => {\n    setGameSearchExpanded((prev) => {\n      const next = !prev;\n      if (next) {\n        requestAnimationFrame(() => gameSearchInputRef.current?.focus());\n      } else {\n        setGameSearchQuery('');\n      }\n      return next;\n    });\n  };\n\n  const handleDeleteButtonMouseDown = () => {\n    isPressingRef.current = true;\n    deleteTimeoutRef.current = setTimeout(() => {\n      if (isPressingRef.current) {\n        setIsDeleteMode(true);\n      }\n    }, 500);\n  };\n\n  const handleDeleteButtonMouseUp = () => {\n    isPressingRef.current = false;\n    if (deleteTimeoutRef.current) {\n      clearTimeout(deleteTimeoutRef.current);\n      deleteTimeoutRef.current = null;\n    }\n  };\n\n  const exitDeleteMode = () => {\n    setIsDeleteMode(false);\n    setSelectedGameIds(new Set());\n  };\n\n  const handlePlayClick = async (game: Game) => {\n    try {\n      let file: File | null = null;\n\n      // Try to get file from IndexedDB first\n      file = await getGameFile(game.id);\n\n      // Fallback to legacy fileData if IndexedDB doesn't have it\n      if (!file && game.fileData) {\n        const response = await fetch(game.fileData);\n        const blob = await response.blob();\n        file = new File([blob], game.fileName || game.title, { type: 'application/octet-stream' });\n        // Save to IndexedDB for next time\n        await saveGameFile(game.id, file);\n      }\n\n      if (file) {\n        await loadGame(file, game.core, currentColors.playGreen);\n      } else {\n        console.error('Game file not found');\n      }\n    } catch (error) {\n      console.error('Error loading game:', error);\n    }\n  };\n\n  const handleNavClick = (viewName: 'library' | 'themes') => {\n    setActiveView(viewName);\n    setIsSidebarOpen(false);\n  };\n\n  const getSidebarButtonClass = (view: 'library' | 'themes') => {\n    const baseClass = \"sidebar-item block p-3 mb-2 rounded-lg transition-all flex items-center border-l-4 hover:translate-x-1\";\n    const isActive = activeView === view;\n    return `${baseClass} ${isActive ? 'border-l-4' : 'border-transparent'}`;\n  };\n\n  const sidebarClass = isSidebarOpen ? \"translate-x-0\" : \"-translate-x-full\";\n  const sidebarFullClass = `w-64 p-6 flex flex-col justify-start shadow-xl fixed left-0 top-0 bottom-0 z-50 transition-all duration-300 ease-in-out ${sidebarClass}`;\n\n  const currentColors = THEMES[selectedTheme as keyof typeof THEMES] || THEMES.default;\n\n  const handleThemeChange = (themeName: string) => {\n    setSelectedTheme(themeName);\n  };\n\n  // Get system category for a game based on the core\n  const getSystemCategory = (core?: string): string => {\n    if (!core) return 'Other';\n\n    // Check which category the core belongs to\n    for (const [category, systems] of Object.entries(SYSTEM_PICKER)) {\n      if (Object.values(systems).includes(core)) {\n        return category;\n      }\n    }\n    return 'Other';\n  };\n\n  // Sort and filter games\n  const sortedGames = useMemo(() => {\n    let filtered = [...games];\n    \n    // Filter by search query\n    if (gameSearchQuery.trim()) {\n      const query = gameSearchQuery.toLowerCase();\n      filtered = filtered.filter(game => \n        game.title.toLowerCase().includes(query) || \n        game.genre.toLowerCase().includes(query)\n      );\n    }\n    \n    filtered.sort((a, b) => {\n      let comparison = 0;\n      if (sortBy === 'title') {\n        comparison = a.title.localeCompare(b.title);\n      } else if (sortBy === 'system') {\n        comparison = a.genre.localeCompare(b.genre);\n      }\n      return sortOrder === 'asc' ? comparison : -comparison;\n    });\n    return filtered;\n  }, [games, sortBy, sortOrder, gameSearchQuery]);\n\n  // Group games by system category when sorting by system\n  const groupedGames = useMemo(() => {\n    if (sortBy !== 'system') {\n      return null;\n    }\n\n    const categoryOrder = ['Nintendo', 'Sega', 'Sony', 'Atari', 'Other'];\n    const groups: Record<string, Game[]> = {\n      'Nintendo': [],\n      'Sega': [],\n      'Sony': [],\n      'Atari': [],\n      'Other': []\n    };\n\n    sortedGames.forEach(game => {\n      const category = getSystemCategory(game.core);\n      groups[category].push(game);\n    });\n\n    // Sort categories based on sort order\n    if (sortOrder === 'desc') {\n      categoryOrder.reverse();\n    }\n\n    // Create new object with sorted category order\n    const sortedGroups: Record<string, Game[]> = {};\n    categoryOrder.forEach(category => {\n      if (groups[category].length > 0) {\n        sortedGroups[category] = groups[category];\n      }\n    });\n\n    return sortedGroups;\n  }, [sortedGames, sortBy, sortOrder]);\n\n  const renderContent = () => {\n    if (activeView === 'themes') {\n      return (\n        <div>\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold\" style={{ color: currentColors.softLight }}>\n              Select Theme\n            </h2>\n          </div>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {Object.entries(THEMES).map(([themeName, themeColors]) => {\n          const baseName = themeName;\n          return (\n              <button\n                key={themeName}\n                onClick={() => handleThemeChange(baseName)}\n                className=\"p-6 rounded-xl transition-all border-2 relative overflow-hidden\"\n                style={{\n                  backgroundColor: themeColors.midDark,\n                  borderColor: selectedTheme === baseName ? themeColors.playGreen : themeColors.highlight + '40',\n                  boxShadow: selectedTheme === baseName ? `0 2px 8px ${themeColors.playGreen}30` : '0 2px 4px rgba(0, 0, 0, 0.2)',\n                }}\n              >\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-xl font-bold capitalize\" style={{ color: themeColors.softLight }}>\n                    {baseName}\n                  </h3>\n                  {selectedTheme === baseName && (\n                    <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\" style={{ color: themeColors.playGreen }}>\n                      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                    </svg>\n                  )}\n                </div>\n                <div className=\"flex gap-2\">\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.darkBg }}></div>\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.midDark }}></div>\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.playGreen }}></div>\n                  <div className=\"flex-1 h-12 rounded-lg\" style={{ backgroundColor: themeColors.highlight }}></div>\n                </div>\n              </button>\n            );\n        })}\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: currentColors.softLight }}>\n          Games ({sortedGames.length})\n        </h2>\n        {games.length > 0 && (\n          <div className=\"flex flex-col gap-4 mb-6\">\n            <div className=\"flex flex-col lg:flex-row lg:items-center gap-3\">\n              <div className=\"flex flex-wrap gap-3 items-center flex-1 min-w-0\">\n                <div\n                  className=\"flex items-center rounded-xl border-2 transition-all\"\n                  style={{\n                    backgroundColor: currentColors.darkBg,\n                    borderColor: gameSearchFocused ? currentColors.playGreen : currentColors.highlight + '50',\n                    boxShadow: gameSearchFocused ? `0 0 0 2px ${currentColors.playGreen}30` : 'none',\n                    width: '340px',\n                    height: '48px',\n                  }}\n                >\n                  <div className=\"w-12 h-full flex items-center justify-center flex-shrink-0\" style={{ color: currentColors.softLight }}>\n                    <Search className=\"w-4 h-4\" />\n                  </div>\n                  <input\n                    ref={gameSearchInputRef}\n                    type=\"text\"\n                    placeholder=\"Search games...\"\n                    value={gameSearchQuery}\n                    onChange={(e) => setGameSearchQuery(e.target.value)}\n                    onFocus={() => setGameSearchFocused(true)}\n                    onBlur={() => setGameSearchFocused(false)}\n                    className=\"bg-transparent h-full flex-1 focus:outline-none text-sm pr-4\"\n                    style={{\n                      color: currentColors.softLight,\n                    }}\n                  />\n                </div>\n                <div\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-xl border-2\"\n                  style={{ backgroundColor: currentColors.darkBg, borderColor: currentColors.highlight + '40', height: '48px' }}\n                >\n                  <label className=\"text-sm font-medium\" style={{ color: currentColors.highlight }}>Sort by:</label>\n                  <div className=\"flex gap-1\">\n                    {(['title', 'system'] as const).map((option) => (\n                      <button\n                        key={option}\n                        onClick={() => setSortBy(option)}\n                        className=\"px-3 py-1 rounded-lg text-sm font-medium transition-all active:scale-95 h-9\"\n                        style={{\n                          backgroundColor: sortBy === option ? currentColors.highlight : currentColors.midDark,\n                          color: sortBy === option ? currentColors.darkBg : currentColors.softLight,\n                        }}\n                      >\n                        {option === 'title' ? 'Title' : 'System'}\n                      </button>\n                    ))}\n                  </div>\n                  <button\n                    onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}\n                    className=\"px-2 py-1 rounded-lg text-sm font-medium transition-all hover:shadow-md active:scale-95 flex items-center justify-center h-9\"\n                    style={{\n                      backgroundColor: currentColors.midDark,\n                      color: currentColors.softLight,\n                    }}\n                  >\n                    <div className=\"w-4 h-4 flex items-center justify-center\">\n                      {sortOrder === 'asc' ? <ArrowUp className=\"w-4 h-4\" /> : <ArrowDown className=\"w-4 h-4\" />}\n                    </div>\n                  </button>\n                </div>\n              </div>\n              <div className=\"flex flex-wrap gap-3 justify-end items-center\">\n                {isDeleteMode ? (\n                  <>\n                    <button\n                      onClick={handleMassDelete}\n                      disabled={selectedGameIds.size === 0}\n                      className=\"px-4 py-2.5 rounded-lg font-semibold transition-all hover:shadow-md active:scale-95\"\n                      style={{\n                        backgroundColor: '#ef4444',\n                        color: currentColors.softLight,\n                        opacity: selectedGameIds.size === 0 ? 0.5 : 1\n                      }}\n                    >\n                      Delete Selected ({selectedGameIds.size})\n                    </button>\n                    <button\n                      onClick={exitDeleteMode}\n                      className=\"px-5 py-2.5 rounded-lg font-semibold transition-all active:scale-95\"\n                      style={{ backgroundColor: currentColors.highlight, color: currentColors.darkBg }}\n                    >\n                      Cancel\n                    </button>\n                  </>\n                ) : (\n                  <button\n                    onClick={handleFileSelect}\n                    className=\"px-8 rounded-lg font-semibold transition-all hover:shadow-md active:scale-95 flex items-center gap-2 justify-center\"\n                    style={{ ...getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo), color: currentColors.darkBg, height: '48px' }}\n                  >\n                    <Plus className=\"w-5 h-5\" />\n                    <span>Add Game</span>\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n        {sortBy === 'system' && groupedGames && (\n          <div>\n            {Object.entries(groupedGames).map(([category, categoryGames]) => (\n              <div key={category} className=\"mb-8 last:mb-0\">\n                <div className=\"flex items-center mb-4\">\n                  <h4 className=\"text-xs font-bold uppercase tracking-wider pr-3\" style={{ color: currentColors.highlight }}>\n                    {category}\n                  </h4>\n                  <div className=\"flex-1 h-px\" style={{ backgroundColor: currentColors.highlight + '30' }}></div>\n                </div>\n                <div className=\"flex flex-wrap\" style={{ gap: '1rem' }}>\n                  {categoryGames.map((game, index) => {\n                    const isGameDeleting = deletingGameIds.has(game.id);\n                    // Only count games that are NOT being deleted for animation purposes\n                    const visibleIndex = categoryGames.slice(0, index).filter(g => !deletingGameIds.has(g.id)).length;\n                    const reverseStaggerDelay = (categoryGames.length - 1 - index) * 0.03;\n                    return (\n                      <div key={game.id} style={{ animation: isGameDeleting ? `fadeOut 0.3s ease-in-out ${reverseStaggerDelay}s forwards` : `fadeIn 0.5s ease-in-out ${visibleIndex * 0.03}s both` }}>\n                        <GameCard game={game} onPlay={handlePlayClick} onEdit={handleEditGame} onDelete={handleDeleteGame} onSelect={toggleGameSelection} isSelected={selectedGameIds.has(game.id)} isDeleteMode={isDeleteMode} onEnterDeleteMode={() => setIsDeleteMode(true)} colors={currentColors} />\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n        {(!sortBy || sortBy !== 'system') && (\n          <div className=\"flex flex-wrap\" style={{ gap: '1rem' }}>\n            {sortedGames.map((game, index) => {\n              const isGameDeleting = deletingGameIds.has(game.id);\n              // Only count games that are NOT being deleted for animation purposes\n              const visibleIndex = sortedGames.slice(0, index).filter(g => !deletingGameIds.has(g.id)).length;\n              const reverseStaggerDelay = (sortedGames.length - 1 - index) * 0.03;\n              return (\n                <div key={game.id} style={{ animation: isGameDeleting ? `fadeOut 0.3s ease-in-out ${reverseStaggerDelay}s forwards` : `fadeIn 0.5s ease-in-out ${visibleIndex * 0.03}s both` }}>\n                  <GameCard game={game} onPlay={handlePlayClick} onEdit={handleEditGame} onDelete={handleDeleteGame} onSelect={toggleGameSelection} isSelected={selectedGameIds.has(game.id)} isDeleteMode={isDeleteMode} onEnterDeleteMode={() => setIsDeleteMode(true)} onCoverArtClick={(game) => {\n                    setEditingGame(game);\n                    setPendingGame(game);\n                    setCoverArtFit(game.coverArtFit || 'cover');\n                    setSystemPickerOpen(true);\n                  }} colors={currentColors} />\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {!isHydrated ? (\n        <div className=\"min-h-screen flex flex-col\" style={{ backgroundColor: '#0f0f0f', fontFamily: 'Inter, sans-serif' }} />\n      ) : (\n        <div className=\"min-h-screen flex flex-col\" style={{ backgroundColor: currentColors.darkBg, fontFamily: 'Inter, sans-serif' }}>\n          <div\n            className={`fixed inset-0 z-40 transition-all duration-300 ${isSidebarOpen ? 'bg-black/60 backdrop-blur-sm' : 'bg-black/0 backdrop-blur-none pointer-events-none'\n              }`}\n            onClick={() => setIsSidebarOpen(false)}\n          />\n          <aside className={sidebarFullClass} style={{ backgroundColor: currentColors.midDark, boxShadow: '4px 0 12px rgba(0, 0, 0, 0.3)' }}>\n            <div className=\"flex items-center gap-3 mb-12 animate-fade-in pb-6 border-b\" style={{ borderColor: currentColors.highlight + '30' }}>\n              <img src=\"/favicon.ico\" alt=\"Joe T Emulator\" className=\"w-12 h-12 flex-shrink-0\" />\n              <h2 className=\"text-2xl font-extrabold leading-tight\" style={{\n                backgroundImage: `linear-gradient(135deg, ${currentColors.softLight} 0%, ${currentColors.highlight} 100%)`,\n                backgroundRepeat: 'no-repeat',\n                backgroundSize: '100% 100%',\n                WebkitBackgroundClip: 'text',\n                backgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                color: 'transparent',\n                fontFamily: 'Inter, sans-serif',\n                letterSpacing: '-0.02em'\n              }}>\n                Joe T Emulator\n              </h2>\n            </div>\n            <nav>\n              {[\n                { view: 'library' as const, icon: Gamepad2, label: 'Library' },\n                { view: 'themes' as const, icon: Palette, label: 'Themes' }\n              ].map(({ view, icon: Icon, label }, index) => (\n                <button\n                  key={view}\n                  className={getSidebarButtonClass(view) + \" hover:bg-opacity-50\"}\n                  style={{\n                    backgroundColor: activeView === view ? currentColors.sidebarHover : 'transparent',\n                    borderLeftColor: activeView === view ? currentColors.highlight : 'transparent',\n                    borderLeftWidth: activeView === view ? '4px' : '0px',\n                    color: currentColors.softLight,\n                    transition: 'all 0.2s ease',\n                    animation: `fadeInSlide 0.3s ease-out ${index * 0.1}s both`\n                  }}\n                  onClick={() => handleNavClick(view)}\n                >\n                  <Icon className=\"w-6 h-6 mr-3 transition-transform\" />\n                  <span className=\"font-semibold\">{label}</span>\n                </button>\n              ))}\n            </nav>\n          </aside>\n          <div className=\"flex-1 overflow-hidden\">\n            <main className=\"p-8 overflow-y-auto pb-20 scrollbar-hide\" style={{ minHeight: 'calc(100vh - 4rem)' }}>\n              <header className=\"mb-10\">\n                <div className=\"flex justify-between items-center\">\n                  <h1 className=\"text-4xl font-extrabold tracking-tight\" style={{ color: currentColors.softLight, textShadow: '0 2px 4px rgba(0,0,0,0.2)' }}>\n                    {activeView.charAt(0).toUpperCase() + activeView.slice(1)}\n                  </h1>\n                  <div className=\"flex items-center space-x-4\">\n                    {isMounted && (\n                      <div className=\"hidden sm:block text-sm font-medium px-3 py-1.5 rounded-lg transition-all\" style={{ color: currentColors.softLight, backgroundColor: currentColors.midDark }}>\n                        {currentTime}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </header>\n              {renderContent()}\n            </main>\n          </div>\n          {duplicateMessage && (\n            <div\n              className=\"fixed bottom-24 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-lg shadow-2xl z-60 animate-fade-in p-4 transition-opacity duration-300\"\n              onClick={() => setDuplicateMessage(null)}\n              style={{\n                backgroundColor: '#ef4444',\n                color: currentColors.softLight,\n                opacity: showDuplicateMessage ? 1 : 0,\n                transition: 'opacity 0.3s ease-out',\n                pointerEvents: showDuplicateMessage ? 'auto' : 'none'\n              }}\n            >\n              <div className=\"flex items-center gap-2\">\n                <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n                <span className=\"font-semibold\">{duplicateMessage}</span>\n              </div>\n            </div>\n          )}\n          <footer className=\"fixed bottom-0 left-0 right-0 h-16 border-t flex items-center justify-between px-6 z-50\" style={{ backgroundColor: currentColors.midDark, borderColor: currentColors.sidebarHover, boxShadow: '0 -4px 12px rgba(0, 0, 0, 0.3)' }}>\n            <button\n              className=\"p-2.5 rounded-lg transition-all hover:bg-opacity-50 active:scale-95\"\n              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n              style={{ color: currentColors.softLight, backgroundColor: isSidebarOpen ? currentColors.sidebarHover : 'transparent' }}\n            >\n              {isSidebarOpen ? <X className=\"w-7 h-7 transition-transform rotate-0\" /> : <Menu className=\"w-7 h-7 transition-transform\" />}\n            </button>\n            <div className=\"flex-1 mx-4\" />\n          </footer>\n          {(systemPickerOpen || systemPickerClosing) && (() => {\n            // SYSTEM_PICKER is already organized by category\n            const filteredCategories: Record<string, Array<[string, string]>> = {};\n\n            Object.entries(SYSTEM_PICKER).forEach(([category, systems]) => {\n              const filtered = Object.entries(systems).filter(([name]) =>\n                name.toLowerCase().includes(systemSearchQuery.toLowerCase())\n              );\n              if (filtered.length > 0) {\n                filteredCategories[category] = filtered;\n              }\n            });\n\n            const currentCore = editingGame?.core || pendingGame?.core;\n\n            return (\n              <div\n                className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in p-4\"\n                onClick={() => closeSystemPicker()}\n                style={{ animation: systemPickerClosing ? 'fadeOut 0.2s ease-out' : 'fadeIn 0.2s ease-out' }}\n              >\n                <div\n                  className=\"p-6 rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col shadow-2xl border\"\n                  style={{\n                    backgroundColor: currentColors.midDark,\n                    borderColor: currentColors.highlight + '30',\n                    boxShadow: '0 20px 60px rgba(0, 0, 0, 0.7)',\n                    animation: systemPickerClosing ? 'slideDown 0.2s ease-out' : 'slideUp 0.3s ease-out'\n                  }}\n                  onClick={(e) => e.stopPropagation()}\n                >\n                  {/* Header */}\n                  <div className=\"mb-6\">\n                    <h3 className=\"text-3xl font-bold mb-2\" style={{ color: currentColors.softLight }}>\n                      {editingGame ? editingGame.title : pendingFiles.length > 1 ? `Add ${pendingFiles.length} Games` : 'Select System'}\n                    </h3>\n                    {editingGame && (\n                      <p className=\"text-sm opacity-70\" style={{ color: currentColors.highlight }}>\n                        Choose a system and cover art\n                      </p>\n                    )}\n                    {pendingFiles.length > 1 && (\n                      <p className=\"text-sm opacity-70\" style={{ color: currentColors.highlight }}>\n                        Choose a system for {pendingFiles.length} files\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Main Content: Cover Art + Systems */}\n                  <div className=\"flex flex-col xl:flex-row gap-6 flex-1 min-h-0 overflow-hidden\">\n                    {/* Cover Art Section - only show when editing or adding single game (not multi-file batch) */}\n                    {pendingFiles.length <= 1 && (\n                      <div className=\"flex-shrink-0 w-full xl:w-80 space-y-4 max-h-[60vh] xl:max-h-full overflow-y-auto\">\n                        <div className=\"rounded-xl border overflow-hidden\" style={{ borderColor: currentColors.highlight + '30', backgroundColor: currentColors.darkBg }}>\n                          {(editingGame?.coverArt || pendingGame?.coverArt) ? (\n                            <div className=\"relative group\">\n                              <div className=\"aspect-[4/5] w-full overflow-hidden bg-black/20 relative\">\n                                <img\n                                  src={editingGame?.coverArt || pendingGame?.coverArt}\n                                  alt=\"Cover art\"\n                                  className=\"w-full h-full\"\n                                  style={{\n                                    objectFit: coverArtFit,\n                                    objectPosition: 'center'\n                                  }}\n                                />\n                              </div>\n                              <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                <button\n                                  onClick={removeCoverArt}\n                                  className=\"px-3 py-2.5 rounded-lg transition-all hover:shadow-md active:scale-95 flex items-center justify-center\"\n                                  style={{ backgroundColor: '#ef4444', color: currentColors.softLight }}\n                                >\n                                  <Trash2 className=\"w-5 h-5\" />\n                                </button>\n                              </div>\n                            </div>\n                          ) : (\n                            <div className=\"aspect-[3/4] w-full flex items-center justify-center bg-gradient-to-br\" style={{ background: `linear-gradient(135deg, ${currentColors.darkBg} 0%, ${currentColors.midDark} 100%)` }}>\n                              <div className=\"text-center p-6\">\n                                <div className=\"w-16 h-16 mx-auto mb-4 rounded-lg flex items-center justify-center\" style={{ backgroundColor: currentColors.highlight + '20' }}>\n                                  <svg className=\"w-8 h-8\" style={{ color: currentColors.highlight }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\n                                  </svg>\n                                </div>\n                                <p className=\"text-sm font-medium\" style={{ color: currentColors.softLight }}>\n                                  No Cover Art\n                                </p>\n                              </div>\n                            </div>\n                          )}\n                          {(editingGame?.coverArt || pendingGame?.coverArt) && (\n                            <div className=\"p-4 border-t\" style={{ borderColor: currentColors.highlight + '30' }}>\n                              <button\n                                onClick={() => {\n                                  const newFit = coverArtFit === 'contain' ? 'cover' : 'contain';\n                                  setCoverArtFit(newFit);\n                                  updateCoverArtFit(newFit);\n                                }}\n                                className=\"w-full px-4 py-2.5 rounded-lg transition-all text-sm font-semibold text-center active:scale-95\"\n                                style={{\n                                  backgroundColor: currentColors.highlight,\n                                  color: currentColors.darkBg,\n                                }}\n                              >\n                                {coverArtFit === 'contain' ? 'Zoom to Fill' : 'Shrink to Fit'}\n                              </button>\n                            </div>\n                          )}\n                          <div className=\"p-4 border-t\" style={{ borderColor: currentColors.highlight + '30' }}>\n                            <input\n                              type=\"file\"\n                              accept=\"image/*\"\n                              onChange={(e) => {\n                                const file = e.target.files?.[0];\n                                if (file) {\n                                  handleCoverArtFileUpload(file);\n                                }\n                              }}\n                              className=\"hidden\"\n                              id=\"cover-art-file-input\"\n                            />\n                            <label\n                              htmlFor=\"cover-art-file-input\"\n                              className=\"block w-full px-4 py-2.5 rounded-lg transition-all text-sm font-semibold text-center active:scale-95\"\n                              style={{\n                                ...((editingGame?.coverArt || pendingGame?.coverArt) ? { backgroundColor: currentColors.highlight } : getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo)),\n                                color: currentColors.darkBg,\n                              }}\n                            >\n                              {(editingGame?.coverArt || pendingGame?.coverArt) ? 'Change Image' : 'Upload Cover Art'}\n                            </label>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Systems Section */}\n                    <div className={`${pendingFiles.length > 1 ? 'w-full' : 'flex-1'} flex flex-col min-w-0`}>\n                      <div\n                        className=\"w-full flex items-center rounded-xl border-2 transition-all mb-4\"\n                        style={{\n                          backgroundColor: currentColors.darkBg,\n                          borderColor: searchFocused ? currentColors.playGreen : currentColors.highlight + '50',\n                          boxShadow: searchFocused ? `0 0 0 2px ${currentColors.playGreen}30` : 'none',\n                        }}\n                      >\n                        <div className=\"w-10 h-10 flex items-center justify-center flex-shrink-0\" style={{ color: currentColors.softLight }}>\n                          <Search className=\"w-4 h-4\" />\n                        </div>\n                        <input\n                          type=\"text\"\n                          placeholder=\"Search systems...\"\n                          value={systemSearchQuery}\n                          onChange={(e) => setSystemSearchQuery(e.target.value)}\n                          onFocus={() => setSearchFocused(true)}\n                          onBlur={() => setSearchFocused(false)}\n                          className=\"bg-transparent h-10 flex-1 focus:outline-none text-sm pr-4\"\n                          style={{\n                            color: currentColors.softLight,\n                          }}\n                          autoFocus\n                        />\n                      </div>\n\n                      <div className=\"flex-1 overflow-y-auto pr-2 scrollbar-hide\">\n                        {Object.entries(filteredCategories).map(([category, systems]) => (\n                          <div key={category} className=\"mb-6 last:mb-0\">\n                            <div className=\"flex items-center mb-3\">\n                              <h4 className=\"text-xs font-bold uppercase tracking-wider pr-3\" style={{ color: currentColors.highlight }}>\n                                {category}\n                              </h4>\n                              <div className=\"flex-1 h-px\" style={{ backgroundColor: currentColors.highlight + '30' }}></div>\n                            </div>\n                            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2.5\">\n                              {systems.map(([name, core], index) => {\n                                const isSelected = currentCore === core;\n                                return (\n                                  <button\n                                    key={core}\n                                    className=\"p-3.5 rounded-xl text-left transition-all active:scale-[0.97] border-2 relative flex items-center justify-between group\"\n                                    style={{\n                                      backgroundColor: isSelected ? currentColors.highlight : currentColors.sidebarHover,\n                                      borderColor: isSelected ? currentColors.highlight : currentColors.highlight + '30',\n                                      color: isSelected ? currentColors.darkBg : currentColors.softLight,\n                                      boxShadow: '0 2px 4px rgba(0, 0, 0, 0.2)',\n                                      animation: `fadeIn 0.4s ease-out ${index * 0.03}s both`\n                                    }}\n                                    onMouseEnter={(e) => {\n                                      if (!isSelected) {\n                                        e.currentTarget.style.backgroundColor = currentColors.highlight + '20';\n                                        e.currentTarget.style.borderColor = currentColors.highlight + '50';\n                                      }\n                                    }}\n                                    onMouseLeave={(e) => {\n                                      if (!isSelected) {\n                                        e.currentTarget.style.backgroundColor = currentColors.sidebarHover;\n                                        e.currentTarget.style.borderColor = currentColors.highlight + '30';\n                                      }\n                                    }}\n                                    onClick={() => selectSystem(core)}\n                                  >\n                                    <span className=\"font-medium text-sm leading-tight truncate pr-2 flex-1\">\n                                      {name}\n                                    </span>\n                                    <div className=\"w-5 h-5 flex-shrink-0 flex items-center justify-center\">\n                                      {isSelected && (\n                                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                          <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                                        </svg>\n                                      )}\n                                    </div>\n                                  </button>\n                                );\n                              })}\n                            </div>\n                          </div>\n                        ))}\n                        {Object.keys(filteredCategories).length === 0 && (\n                          <div className=\"text-center py-16\" style={{ color: currentColors.highlight }}>\n                            <div className=\"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center\" style={{ backgroundColor: currentColors.highlight + '15' }}>\n                              <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\n                              </svg>\n                            </div>\n                            <p className=\"text-lg font-semibold mb-1\" style={{ color: currentColors.softLight }}>No systems found</p>\n                            <p className=\"text-sm opacity-70\">Try a different search term</p>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t\" style={{ borderColor: currentColors.highlight + '30' }}>\n                    {(editingGame || (pendingFiles.length === 1 && pendingGame)) && (\n                      <button\n                        className=\"py-2.5 px-6 rounded-lg font-semibold transition-all active:scale-95\"\n                        style={{ ...getGradientStyle(currentColors.gradientFrom, currentColors.gradientTo), color: currentColors.darkBg }}\n                        onClick={handleSystemPickerDone}\n                      >\n                        Done\n                      </button>\n                    )}\n                    <button\n                      className=\"py-2.5 px-6 rounded-lg font-semibold transition-all active:scale-95\"\n                      style={{ backgroundColor: currentColors.highlight, color: currentColors.darkBg }}\n                      onClick={() => closeSystemPicker()}\n                    >\n                      {editingGame ? 'Cancel' : 'Close'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })()}\n        </div>\n      )}\n    </>\n  );\n}\n","export const FILE_EXTENSIONS: Record<string, string> = {\n  fds: \"nes\",\n  nes: \"nes\",\n  unif: \"nes\",\n  unf: \"nes\",\n  gb: \"gb\",\n  gbc: \"gbc\",\n  gba: \"gba\",\n  smc: \"snes\",\n  sfc: \"snes\",\n  swc: \"snes\",\n  vb: \"vb\",\n  vboy: \"vb\",\n  z64: \"n64\",\n  n64: \"n64\",\n  nds: \"nds\",\n  sms: \"segaMS\",\n  md: \"segaMD\",\n  gen: \"segaMD\",\n  smd: \"segaMD\",\n  gg: \"segaGG\",\n  \"32x\": \"sega32x\",\n  cso: \"psp\",\n  pbp: \"psp\",\n  a26: \"atari2600\",\n  a52: \"atari5200\",\n  a78: \"atari7800\",\n  lnx: \"lynx\",\n  j64: \"jaguar\",\n  jag: \"jaguar\",\n  d64: \"vice_x64\",\n  t64: \"vice_x64\",\n  tap: \"vice_x64\",\n  crt: \"vice_x64\",\n  col: \"coleco\",\n  cv: \"coleco\",\n  pce: \"pce\",\n  ngp: \"ngp\",\n  ngc: \"ngp\",\n  ws: \"ws\",\n  wsc: \"ws\"\n};\n\nexport const SYSTEM_PICKER: Record<string, Record<string, string>> = {\n  \"Nintendo\": {\n    \"NES\": \"nes\",\n    \"Game Boy\": \"gb\",\n    \"Game Boy Color\": \"gbc\",\n    \"Game Boy Advance\": \"gba\",\n    \"SNES\": \"snes\",\n    \"Virtual Boy\": \"vb\",\n    \"N64\": \"n64\",\n    \"DS\": \"nds\",\n  },\n  \"Sega\": {\n    \"Master System\": \"segaMS\",\n    \"Genesis/Mega Drive\": \"segaMD\",\n    \"Game Gear\": \"segaGG\",\n    \"CD\": \"segaCD\",\n    \"32X\": \"sega32x\",\n    \"Saturn\": \"segaSaturn\",\n  },\n  \"Sony\": {\n    \"PS1\": \"psx\",\n    \"PSP\": \"psp\",\n  },\n  \"Atari\": {\n    \"2600\": \"atari2600\",\n    \"5200\": \"atari5200\",\n    \"7800\": \"atari7800\",\n    \"Lynx\": \"lynx\",\n    \"Jaguar\": \"jaguar\",\n  },\n  \"Other\": {\n    \"Panasonic 3DO\": \"opera\",\n    \"Arcade (FBNeo)\": \"arcade\",\n    \"Arcade (M.A.M.E)\": \"mame2003_plus\",\n    \"Microsoft DOS\": \"dosbox_pure\",\n    \"Commodore PET\": \"vice_xpet\",\n    \"Commodore VIC-20\": \"vice_xvic\",\n    \"Commodore Amiga\": \"amiga\",\n    \"Commodore 64\": \"vice_x64\",\n    \"Commodore 128\": \"vice_x128\",\n    \"Commodore Plus/4\": \"vice_xplus4\",\n    \"ColecoVision\": \"coleco\",\n    \"NEC TurboGrafx-16\": \"pce\",\n    \"NEC PC-FX\": \"pcfx\",\n    \"SNK Neo Geo Pocket\": \"ngp\",\n    \"Bandai WonderSwan\": \"ws\"\n  }\n};\n\nexport function getSystemNameByCore(core: string): string {\n  for (const category of Object.values(SYSTEM_PICKER)) {\n    for (const [name, systemCore] of Object.entries(category)) {\n      if (systemCore === core) {\n        return name;\n      }\n    }\n  }\n  return 'Unknown System';\n}\n","import { FILE_EXTENSIONS } from './constants';\n\nconst CDN_PATH = \"https://cdn.jsdelivr.net/gh/joethun/EmulatorJS-With-Cores/\";\nconst DEFAULT_EJS_COLOR = \"#00ff7f\";\n\ndeclare global {\n  interface Window {\n    [key: string]: any;\n  }\n}\n\nif (typeof window !== 'undefined') window.gameRunning = false;\nasync function detectCore(extension: string): Promise<string> {\n  return FILE_EXTENSIONS[extension] || \"nes\";\n}\n\nfunction toggleMenuElements(show: boolean) {\n  if (typeof document === 'undefined') return;\n  ['aside', 'footer', 'main', 'header'].forEach(s => {\n    const e = document.querySelector(s);\n    if (e) (e as HTMLElement).style.cssText = show ? '' : 'display: none !important; visibility: hidden !important; z-index: -1 !important;';\n  });\n  const r = document.querySelector('div[style*=\"min-h-screen\"]');\n  if (r && !show) (r as HTMLElement).style.cssText += \" z-index: -1 !important;\";\n}\nfunction cleanupOldElements() {\n  const g = document.getElementById(\"game\");\n  if (g) { g.innerHTML = \"\"; g.style.display = \"none\"; }\n  document.querySelectorAll('script[src*=\"loader.js\"]').forEach(s => s.remove());\n  toggleMenuElements(true);\n  window.gameRunning = false;\n}\nfunction hideMenu() { toggleMenuElements(false); }\n\nconst GAME_CONTAINER_STYLES = `\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 999999;\n  background-color: #000000;\n  overflow: hidden;\n  display: block !important;\n  visibility: visible !important;\n  opacity: 1 !important;\n`;\n\nfunction createGameDisplay() {\n  if (typeof document === 'undefined') return;\n  let g = document.getElementById(\"game\") || (d => (d.id = \"game\", document.body.appendChild(d), d))(document.createElement(\"div\"));\n  g.innerHTML = \"\";\n  (g as HTMLElement).style.cssText = GAME_CONTAINER_STYLES;\n  if (document.body) document.body.style.overflow = \"hidden\";\n  if (document.documentElement) document.documentElement.style.overflow = \"hidden\";\n}\n\nexport async function loadGame(file: File | string, coreOverride?: string, themeColor?: string): Promise<void> {\n  const fileName = file instanceof File ? file.name : file;\n  const fileExtension = fileName.split(\".\").pop()?.toLowerCase() || \"\";\n  const gameName = fileName.substring(0, fileName.lastIndexOf(\".\"));\n  \n  const core = coreOverride || await detectCore(fileExtension);\n  \n  cleanupOldElements();\n  hideMenu();\n  createGameDisplay();\n  if (typeof window !== 'undefined') {\n    window.gameRunning = true;\n  }\n  \n  configureEmulator(gameName, file, core, themeColor);\n  loadEmulatorScript();\n}\n\nfunction configureEmulator(gameName: string, gameFile: File | string, core: string, themeColor?: string) {\n  window.EJS_color = themeColor || DEFAULT_EJS_COLOR;\n  window.EJS_backgroundColor = \"#000000\";\n  window.EJS_player = \"#game\";\n  window.EJS_gameName = gameName;\n  window.EJS_gameUrl = gameFile;\n  window.EJS_core = core;\n  window.EJS_pathtodata = CDN_PATH;\n  window.EJS_startOnLoaded = true;\n  window.EJS_biosUrl = \"\";\n  window.EJS_threads = [\"psp\", \"dosbox_pure\"].includes(core);\n  window.EJS_defaultOptions = { \"save-save-interval\": \"60\", \"desmume_advanced_timing\": \"disabled\", \"webgl2Enabled\": \"enabled\", ...(core === \"segaGG\" && { retroarch_core: \"genesis_plus_gx\" }), ...(core === \"nds\" && { retroarch_core: \"desmume\" }) };\n  window.EJS_Buttons = { exitEmulation: false, cacheManager: false, saveSavFiles: { visible: false }, loadSavFiles: { visible: false } };\n}\n\nfunction loadEmulatorScript() {\n  if (typeof document === 'undefined') return;\n  const s = document.createElement(\"script\");\n  s.src = `${CDN_PATH}/loader.js`;\n  s.onload = () => setTimeout(() => {\n    const g = document.getElementById(\"game\");\n    if (g) {\n      (g as HTMLElement).style.cssText = GAME_CONTAINER_STYLES.replace(/\\n/g, ' ').replace(/\\s+/g, ' ').trim() + ' !important';\n      const c = g.querySelector('canvas');\n      if (c) (c as HTMLElement).style.cssText = 'display: block !important; visibility: visible !important; opacity: 1 !important; width: 100% !important; height: 100% !important;';\n    }\n  }, 100);\n  document.body.appendChild(s);\n}\n\nfunction getEmulator() { return typeof window === 'undefined' ? null : window.EJS_emulator?.started ? window.EJS_emulator : null; }\nexport function exitGame() { cleanupOldElements(); const g = document.getElementById(\"game\"); if (g) g.style.display = \"none\"; }\n","import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return (\n        Boolean(className) &&\n        (className as string).trim() !== '' &&\n        array.indexOf(className) === index\n      );\n    })\n    .join(' ')\n    .trim();\n\n/**\n * Is empty string\n *\n * @param {unknown} value\n * @returns {boolean} Whether the value is an empty string\n */\nexport const isEmptyString = (value: unknown): boolean => value === '';\n\n/**\n * Check if a component has an accessibility prop\n *\n * @param {object} props\n * @returns {boolean} Whether the component has an accessibility prop\n */\nexport const hasA11yProp = (props: Record<string, any>) => {\n  for (const prop in props) {\n    if (prop.startsWith('aria-') || prop === 'role' || prop === 'title') {\n      return true;\n    }\n  }\n};\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n];\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('x', __iconNode);\n\nexport default X;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '6', x2: '10', y1: '11', y2: '11', key: '1gktln' }],\n  ['line', { x1: '8', x2: '8', y1: '9', y2: '13', key: 'qnk9ow' }],\n  ['line', { x1: '15', x2: '15.01', y1: '12', y2: '12', key: 'krot7o' }],\n  ['line', { x1: '18', x2: '18.01', y1: '10', y2: '10', key: '1lcuu1' }],\n  [\n    'path',\n    {\n      d: 'M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z',\n      key: 'mfqc10',\n    },\n  ],\n];\n\n/**\n * @component @name Gamepad2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iNiIgeDI9IjEwIiB5MT0iMTEiIHkyPSIxMSIgLz4KICA8bGluZSB4MT0iOCIgeDI9IjgiIHkxPSI5IiB5Mj0iMTMiIC8+CiAgPGxpbmUgeDE9IjE1IiB4Mj0iMTUuMDEiIHkxPSIxMiIgeTI9IjEyIiAvPgogIDxsaW5lIHgxPSIxOCIgeDI9IjE4LjAxIiB5MT0iMTAiIHkyPSIxMCIgLz4KICA8cGF0aCBkPSJNMTcuMzIgNUg2LjY4YTQgNCAwIDAgMC0zLjk3OCAzLjU5Yy0uMDA2LjA1Mi0uMDEuMTAxLS4wMTcuMTUyQzIuNjA0IDkuNDE2IDIgMTQuNDU2IDIgMTZhMyAzIDAgMCAwIDMgM2MxIDAgMS41LS41IDItMWwxLjQxNC0xLjQxNEEyIDIgMCAwIDEgOS44MjggMTZoNC4zNDRhMiAyIDAgMCAxIDEuNDE0LjU4NkwxNyAxOGMuNS41IDEgMSAyIDFhMyAzIDAgMCAwIDMtM2MwLTEuNTQ1LS42MDQtNi41ODQtLjY4NS03LjI1OC0uMDA3LS4wNS0uMDExLS4xLS4wMTctLjE1MUE0IDQgMCAwIDAgMTcuMzIgNXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/gamepad-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Gamepad2 = createLucideIcon('gamepad-2', __iconNode);\n\nexport default Gamepad2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm5 12 7-7 7 7', key: 'hav0vg' }],\n  ['path', { d: 'M12 19V5', key: 'x0mq9r' }],\n];\n\n/**\n * @component @name ArrowUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNSAxMiA3LTcgNyA3IiAvPgogIDxwYXRoIGQ9Ik0xMiAxOVY1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowUp = createLucideIcon('arrow-up', __iconNode);\n\nexport default ArrowUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915',\n      key: '1i5ecw',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOS42NzEgNC4xMzZhMi4zNCAyLjM0IDAgMCAxIDQuNjU5IDAgMi4zNCAyLjM0IDAgMCAwIDMuMzE5IDEuOTE1IDIuMzQgMi4zNCAwIDAgMSAyLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMCAwIDMuODMxIDIuMzQgMi4zNCAwIDAgMS0yLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMC0zLjMxOSAxLjkxNSAyLjM0IDIuMzQgMCAwIDEtNC42NTkgMCAyLjM0IDIuMzQgMCAwIDAtMy4zMi0xLjkxNSAyLjM0IDIuMzQgMCAwIDEtMi4zMy00LjAzMyAyLjM0IDIuMzQgMCAwIDAgMC0zLjgzMUEyLjM0IDIuMzQgMCAwIDEgNi4zNSA2LjA1MWEyLjM0IDIuMzQgMCAwIDAgMy4zMTktMS45MTUiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('settings', __iconNode);\n\nexport default Settings;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n  ['path', { d: 'm19 12-7 7-7-7', key: '1idqje' }],\n];\n\n/**\n * @component @name ArrowDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KICA8cGF0aCBkPSJtMTkgMTItNyA3LTctNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowDown = createLucideIcon('arrow-down', __iconNode);\n\nexport default ArrowDown;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z',\n      key: 'e79jfc',\n    },\n  ],\n  ['circle', { cx: '13.5', cy: '6.5', r: '.5', fill: 'currentColor', key: '1okk4w' }],\n  ['circle', { cx: '17.5', cy: '10.5', r: '.5', fill: 'currentColor', key: 'f64h9f' }],\n  ['circle', { cx: '6.5', cy: '12.5', r: '.5', fill: 'currentColor', key: 'qy21gx' }],\n  ['circle', { cx: '8.5', cy: '7.5', r: '.5', fill: 'currentColor', key: 'fotxhn' }],\n];\n\n/**\n * @component @name Palette\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjJhMSAxIDAgMCAxIDAtMjAgMTAgOSAwIDAgMSAxMCA5IDUgNSAwIDAgMS01IDVoLTIuMjVhMS43NSAxLjc1IDAgMCAwLTEuNCAyLjhsLjMuNGExLjc1IDEuNzUgMCAwIDEtMS40IDIuOHoiIC8+CiAgPGNpcmNsZSBjeD0iMTMuNSIgY3k9IjYuNSIgcj0iLjUiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KICA8Y2lyY2xlIGN4PSIxNy41IiBjeT0iMTAuNSIgcj0iLjUiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KICA8Y2lyY2xlIGN4PSI2LjUiIGN5PSIxMi41IiByPSIuNSIgZmlsbD0iY3VycmVudENvbG9yIiAvPgogIDxjaXJjbGUgY3g9IjguNSIgY3k9IjcuNSIgcj0iLjUiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/palette\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Palette = createLucideIcon('palette', __iconNode);\n\nexport default Palette;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M4 5h16', key: '1tepv9' }],\n  ['path', { d: 'M4 12h16', key: '1lakjw' }],\n  ['path', { d: 'M4 19h16', key: '1djgab' }],\n];\n\n/**\n * @component @name Menu\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCA1aDE2IiAvPgogIDxwYXRoIGQ9Ik00IDEyaDE2IiAvPgogIDxwYXRoIGQ9Ik00IDE5aDE2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/menu\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Menu = createLucideIcon('menu', __iconNode);\n\nexport default Menu;\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses, hasA11yProp } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) =>\n    createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...(!children && !hasA11yProp(rest) && { 'aria-hidden': 'true' }),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    ),\n);\n\nexport default Icon;\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className,\n      ),\n      ...props,\n    }),\n  );\n\n  Component.displayName = toPascalCase(iconName);\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import { Trash2, Settings } from 'lucide-react';\nimport { Game, THEMES, getGradientStyle } from '@/types';\n\ninterface GameCardProps {\n  game: Game;\n  onPlay: (game: Game) => void;\n  onEdit: (game: Game) => void;\n  onDelete: (game: Game) => void;\n  onSelect: (gameId: number) => void;\n  isSelected: boolean;\n  isDeleteMode: boolean;\n  onEnterDeleteMode: () => void;\n  onCoverArtClick?: (game: Game) => void;\n  colors: typeof THEMES.default;\n}\n\nexport const getSystemDisplayName = (core?: string): string => {\n  if (!core) return 'Unknown';\n  const systemMap: Record<string, string> = {\n    'nes': 'NES', 'gb': 'GB', 'gbc': 'GBC', 'gba': 'GBA', 'snes': 'SNES', 'vb': 'VB', 'n64': 'N64', 'nds': 'DS',\n    'segaMS': 'MS', 'segaMD': 'MD', 'segaGG': 'GG', 'segaCD': 'CD', 'sega32x': '32X', 'segaSaturn': 'Saturn',\n    'psx': 'PS1', 'psp': 'PSP', 'atari2600': '2600', 'atari5200': '5200', 'atari7800': '7800', 'lynx': 'Lynx',\n    'jaguar': 'Jaguar', 'opera': '3DO', 'arcade': 'Arcade', 'mame2003_plus': 'MAME', 'dosbox_pure': 'DOS',\n    'vice_xpet': 'PET', 'vice_xvic': 'VIC20', 'amiga': 'Amiga', 'vice_x64': 'C64', 'vice_x128': 'C128',\n    'vice_xplus4': 'Plus/4', 'coleco': 'Coleco', 'pce': 'TG16', 'pcfx': 'PC-FX', 'ngp': 'NGP', 'ws': 'WS',\n  };\n  return systemMap[core] || core.toUpperCase();\n};\n\nexport function GameCard({ game, onPlay, onEdit, onDelete, onSelect, isSelected, isDeleteMode, onEnterDeleteMode, onCoverArtClick, colors }: GameCardProps) {\n  const baseCoverClass = \"h-full flex items-center justify-center bg-cover bg-center bg-no-repeat relative\";\n  const cardClass = `group relative overflow-hidden w-64 h-80 rounded-xl transition-all duration-300 ease-in-out hover:shadow-lg hover:z-10 border animate-border-breathe ${isDeleteMode ? 'animate-shake' : 'hover:scale-[1.02]'}`;\n  const overlayClass = \"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent backdrop-brightness-75 flex flex-col justify-end p-5 opacity-0 group-hover:opacity-100 transition-opacity duration-300\";\n  const contentClass = \"transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-400 ease-out\";\n  const buttonClass = \"w-full font-bold py-2.5 px-4 rounded-lg transition-all text-sm hover:shadow-md active:scale-[0.98]\";\n\n  return (\n    <div\n      className={cardClass}\n      style={{\n        backgroundColor: isDeleteMode && isSelected ? '#ef4444' : colors.midDark,\n        boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.3)',\n        borderColor: colors.highlight,\n      }}\n      onClick={() => isDeleteMode && onSelect(game.id)}\n    >\n      {isDeleteMode && isSelected && (\n        <div className=\"absolute inset-0 bg-red-500/40 z-20 flex items-center justify-center rounded-xl\">\n          <Trash2 className=\"w-16 h-16 text-white drop-shadow-lg\" />\n        </div>\n      )}\n      {isDeleteMode && (\n        <div className=\"absolute bottom-3 right-3 z-20\">\n          <div\n            className=\"w-6 h-6 rounded-full border-2 border-white flex items-center justify-center transition-all\"\n            style={{ backgroundColor: isSelected ? 'white' : 'transparent' }}\n          >\n            {isSelected && (\n              <svg className=\"w-4 h-4 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n              </svg>\n            )}\n          </div>\n        </div>\n      )}\n      <div\n        className={baseCoverClass}\n        style={game.coverArt ? {\n          backgroundImage: `url(${game.coverArt})`,\n          backgroundColor: 'transparent',\n          backgroundSize: game.coverArtFit || 'cover',\n          backgroundPosition: 'center',\n          backgroundRepeat: 'no-repeat'\n        } : {\n          ...getGradientStyle(colors.gradientFrom, colors.gradientTo)\n        }}\n      >\n        {!game.coverArt && (\n          <div className=\"flex items-center justify-center\" style={{ color: colors.darkBg }}>\n            <span className=\"text-4xl font-bold tracking-wide\" style={{ textShadow: '0 2px 4px rgba(0,0,0,0.2)' }}>\n              {getSystemDisplayName(game.core)}\n            </span>\n            {onCoverArtClick && !isDeleteMode && (\n              <button\n                onClick={(e) => { e.stopPropagation(); onCoverArtClick(game); }}\n                className=\"absolute inset-0\"\n              >\n                <span className=\"sr-only\">Add cover art</span>\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n      {!isDeleteMode && (\n        <div className={overlayClass}>\n          <div className={contentClass}>\n            <h3 className=\"text-xl font-bold truncate mb-1.5\" style={{ color: colors.softLight, textShadow: '0 2px 4px rgba(0,0,0,0.5)' }}>{game.title}</h3>\n            <p className=\"text-sm mb-3\" style={{ color: colors.highlight }}>\n              {game.genre}\n            </p>\n          <div className=\"flex gap-2.5 items-stretch mt-3\">\n            <button\n              className={buttonClass + \" flex-1\"}\n              style={{ ...getGradientStyle(colors.gradientFrom, colors.gradientTo), color: colors.darkBg }}\n              onClick={(e) => { e.stopPropagation(); onPlay(game); }}\n            >\n              PLAY\n            </button>\n            <button\n              className=\"px-3 py-2.5 rounded-lg transition-all hover:shadow-md active:scale-95 flex items-center justify-center\"\n              style={{ backgroundColor: colors.highlight, color: colors.darkBg }}\n              onClick={(e) => { e.stopPropagation(); onEdit(game); }}\n            >\n              <Settings className=\"w-5 h-5\" />\n            </button>\n            <button\n              className=\"px-3 py-2.5 rounded-lg transition-all hover:shadow-md active:scale-95 flex items-center justify-center select-none\"\n              style={{ backgroundColor: '#ef4444', color: '#ffffff' }}\n              onMouseDown={(e) => {\n                e.stopPropagation();\n                const timeout = setTimeout(() => {\n                  onEnterDeleteMode();\n                }, 500);\n                const cleanup = () => clearTimeout(timeout);\n                e.currentTarget.addEventListener('mouseup', cleanup, { once: true });\n                e.currentTarget.addEventListener('mouseleave', cleanup, { once: true });\n              }}\n              onTouchStart={(e) => {\n                e.stopPropagation();\n                const timeout = setTimeout(() => {\n                  onEnterDeleteMode();\n                }, 500);\n                const cleanup = () => clearTimeout(timeout);\n                e.currentTarget.addEventListener('touchend', cleanup, { once: true });\n              }}\n              onClick={(e) => {\n                e.stopPropagation();\n                onDelete(game);\n              }}\n            >\n              <Trash2 className=\"w-5 h-5\" />\n            </button>\n          </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","export interface Game {\n  id: number;\n  title: string;\n  genre: string;\n  filePath?: string;\n  fileName?: string;\n  fileData?: string;\n  core?: string;\n  coverArt?: string;\n  coverArtFit?: 'cover' | 'contain';\n}\n\ntype ThemeColors = {\n  highlight: string;\n  darkBg: string;\n  midDark: string;\n  softLight: string;\n  sidebarHover: string;\n  playGreen: string;\n  gradientFrom: string;\n  gradientTo: string;\n};\n\nexport const THEMES: Record<string, ThemeColors> = {\n  default: { highlight: '#8899cc', darkBg: '#0a0a0f', midDark: '#151520', softLight: '#e8eef5', sidebarHover: '#1f2535', playGreen: '#4a90e2', gradientFrom: '#4a90e2', gradientTo: '#2563eb' },\n  red: { highlight: '#fecaca', darkBg: '#1f0a0a', midDark: '#2e1414', softLight: '#fef2f2', sidebarHover: '#3d1f1f', playGreen: '#f87171', gradientFrom: '#f87171', gradientTo: '#ef4444' },\n  orange: { highlight: '#fde68a', darkBg: '#1f1206', midDark: '#2e1a0a', softLight: '#fffbeb', sidebarHover: '#3d2814', playGreen: '#fbbf24', gradientFrom: '#fbbf24', gradientTo: '#f59e0b' },\n  yellow: { highlight: '#fef08a', darkBg: '#1f1a0a', midDark: '#2e2814', softLight: '#fefce8', sidebarHover: '#3d3d1f', playGreen: '#eab308', gradientFrom: '#eab308', gradientTo: '#ca8a04' },\n  green: { highlight: '#bbf7d0', darkBg: '#0f1a0f', midDark: '#1e2e1e', softLight: '#f0fdf4', sidebarHover: '#2d3e2d', playGreen: '#4ade80', gradientFrom: '#4ade80', gradientTo: '#22c55e' },\n  teal: { highlight: '#99f6e4', darkBg: '#0a1a1a', midDark: '#142a2a', softLight: '#f0fdfa', sidebarHover: '#1f3d3d', playGreen: '#2dd4bf', gradientFrom: '#2dd4bf', gradientTo: '#14b8a6' },\n  blue: { highlight: '#bfdbfe', darkBg: '#0c1220', midDark: '#1e293b', softLight: '#eff6ff', sidebarHover: '#334155', playGreen: '#60a5fa', gradientFrom: '#60a5fa', gradientTo: '#3b82f6' },\n  indigo: { highlight: '#c7d2fe', darkBg: '#0f0f1f', midDark: '#1e1e2e', softLight: '#eef2ff', sidebarHover: '#2d2d3e', playGreen: '#818cf8', gradientFrom: '#818cf8', gradientTo: '#6366f1' },\n  purple: { highlight: '#ddd6fe', darkBg: '#1a0f2e', midDark: '#2d1b3d', softLight: '#faf5ff', sidebarHover: '#3f2d52', playGreen: '#c084fc', gradientFrom: '#c084fc', gradientTo: '#a855f7' },\n};\n\nexport type ThemeConfig = ThemeColors;\nexport const getGradientStyle = (from: string, to: string) => ({ background: `linear-gradient(135deg, ${from} 0%, ${to} 100%)` });\n"],"names":[],"mappings":"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AAA,AKnC5B,CAAA,ALmC4B,CKnC5B,ALmC4B,CAAA,AKnC5B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,ALuCJ,CKvCI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CJVP,AIUO,CLMF,AChBL,AIUO,CLMF,AChBL,AIUO,CAAA,ALMF,AChBL,CIUO,CAAA,CAAA,AJVA,CIUA,AJVA,CIUA,AJVA,CIUA,AJVA,CIUA,AJVA,CIUA,AJVA,CIUA,AJVA,CIUA,AJVA,CIUA,AJVA,ADgBI,CKNJ,AJVA,ADgBI,CKNJ,ALMI,AChBJ,CIUA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CJTA,AISA,CLOQ,AChBR,AISA,CAAA,ALOQ,AChBR,CISA,ALOQ,CKPR,ALOQ,CKPR,ALOQ,CKPR,ALOQ,CKPR,AHRI,AIAA,ADAA,ALeI,ASfJ,AEAA,AHAA,AEAA,AHAA,AJAA,ACAA,CFAA,AGQJ,AARI,ALeI,AWfJ,ARAA,ACAA,AEAA,AEAA,AEAA,ADAA,AFAA,CLAA,AOAA,ADAA,AHAA,AMAA,AXeI,AGfJ,AGAA,ACAA,AHAA,AMAA,ALQJ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AJHQ,CIGR,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,qCOiBH,CAAA,ACfkB,AFOxB,AJbS,ANAP,AQAO,ALCN,MAAA,EAAA,CAAA,YAAA,EAAA,CAAA,CAAA,oBAAA,CAAA,WQuBG,CAAA,AHpBH,AFAA,AFDC,AQMa,Ab2BX,CAAA,EAAA,UYXA,CZiBD,AYjBC,APrBG,AQM4C,AJLlD,CTqCE,SAAA,CYhBC,CAAA,GAAA,EAAA,CAGF,IAAA,CAAA,EAAA,EAAA,aAAA,EAAA,MAAA,KAKI,EACA,GAAA,CAAG,CACH,MAAO,CAAA,CAAA,CAAA,CAAA,KACC,CAAA,CAAA,AACR,CADQ,CAAA,KACA,CAAA,CAAA,AACR,CADQ,CAAA,CAAA,SACK,CAAA,CAA6C,AAA7C,CAA6C,CAAA,CAA7C,OAAA,GAAmD,OAAO,CAAA,CAAA,CAAA,AAAQ,CAAA,CAAA,AAC/E,CAD+E,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GACpE,CAAA,CAAA,AAAa,CAAA,QAAU,GAClC,GAAA,CAAK,CAAA,CADsC,CAAA,AACtC,CAAA,wBZmBe,CSrDF,qBTsDU,SAAA,CAAA,CAAA,CAA4B,SAAS,CAAlB,CAAA,CAAA,CAAA,MAC1C,EAGb,CAAA,Aa7CE,ADcM,CAO8B,CAAA,GAAS,CAAA,AAAE,CAAA,aAAe,MAAA,CAAO,CAC/D,GAAA,CAAG,CACL,CACA,MACc,GAAA,CAAI,CAAC,CAAC,CAAA,CAAK,CAAA,CAAA,AAAK,CAAL,CAAA,CAAK,CAAA,EAAM,CAAA,CAAA,CAAA,CAAA,WAAA,EAAc,EAAK,CAAA,CAAA,CAAA,CAAA,CAAK,CAAC,CAAA,MACjD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,CAAA,AAAY,CAAZ,AAAY,CAAZ,AAAY,AAAW,CAAvB,AAAY,CAAZ,CAAQ,AAAwB,CAAA,sBCzCtC,EAAA,UAAA,EAAA,CAAA,CAAA,UAAA,CAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,EAAA,EAAA,aAAA,EAAA,EACI,CJNf,AFAA,AFA+C,AGYG,CDZlD,AFA+C,AGYG,ACZlD,sCTEP,CAAA,CAAA,CAAA,CAAA,CAAA,AAAO,CAAP,AAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAsB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAO,EAAE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,gBaStB,CJNC,oBIaf,WAAA,CAAc,CAAA,CAAA,AAAa,IAGvC,CDcW,ACdX,KTNgC,CAAA,CAAA,CAAA,sJAhB2C,sCAExE,mDAAuD,CAAA,AJuBF,GIvBE,QAAK,CAAU,CAAA,KGiBxD,EAAiB,CEZJ,AFYI,WAAY,sZOIvC,SAAS,EAAS,MAAE,CAAI,QAAE,CAAM,QAAE,CAAM,UAAE,CAAQ,CAAE,UAAQ,YAAE,CAAU,cAAE,CAAY,mBAAE,CAAiB,iBAAE,CAAe,CAAE,QAAM,CAAiB,MAbrH,EAenC,IAAM,EAAY,CAAC,qJAAqJ,EAAE,EAAe,gBAAkB,qBAAA,CAAsB,CAKjO,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAW,EACX,MAAO,CACL,gBAAiB,GAAgB,EAAa,UAAY,EAAO,OAAO,CACxE,UAAW,oCACX,YAAa,EAAO,SAAS,AAC/B,EACA,QAAS,IAAM,GAAgB,EAAS,EAAK,EAAE,YAE9C,GAAgB,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2FACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,UAAU,0CAGrB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,6FACV,MAAO,CAAE,gBAAiB,EAAa,QAAU,aAAc,WAE9D,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAuB,KAAK,eAAe,QAAQ,qBAChE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,qHAAqH,SAAS,kBAMnK,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UApCiB,CAoCN,kFACX,MAAO,EAAK,QAAQ,CAAG,CACrB,gBAAiB,CAAC,IAAI,EAAE,EAAK,QAAQ,CAAC,CAAC,CAAC,CACxC,gBAAiB,cACjB,eAAgB,EAAK,WAAW,EAAI,QACpC,mBAAoB,SACpB,iBAAkB,WACpB,EAAI,CACF,GAAG,EAAiB,EAAO,YAAY,CAAE,EAAO,UAAU,CAAC,AAC7D,WAEC,CAAC,EAAK,QAAQ,EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAAmC,MAAO,CAAE,MAAO,EAAO,MAAO,AAAD,YAC7E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mCAAmC,MAAO,CAAE,WAAY,2BAA4B,WA9D9G,CA+Da,EAAqB,CA/D9B,CAAC,AA+DkC,IAAI,EAtDpC,AATI,CAC+B,CACxC,IAAO,MAAO,GAAM,KAAM,IAAO,MAAO,IAAO,MAAO,KAAQ,OAAQ,GAAM,KAAM,IAAO,MAAO,IAAO,KACvG,OAAU,KAAM,OAAU,KAAM,OAAU,KAAM,OAAU,KAAM,QAAW,MAAO,WAAc,SAChG,IAAO,MAAO,IAAO,MAAO,UAAa,OAAQ,UAAa,OAAQ,UAAa,OAAQ,KAAQ,OACnG,OAAU,SAAU,MAAS,MAAO,OAAU,SAAU,cAAiB,OAAQ,YAAe,MAChG,UAAa,MAAO,UAAa,QAAS,MAAS,QAAS,SAAY,MAAO,UAAa,OAC5F,YAAe,SAAU,OAAU,SAAU,IAAO,OAAQ,KAAQ,QAAS,IAAO,MAAO,GAAM,KACnG,CACgB,CAAC,EAAK,EAAI,EAAK,WAAW,GATxB,YAiEP,GAAmB,CAAC,GACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAU,AAAD,IAAS,EAAE,eAAe,GAAI,EAAgB,EAAO,EAC9D,UAAU,4BAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAU,yBAMnC,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UA9DU,CA8DC,6MACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UA9DQ,CA8DG,oIACd,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oCAAoC,MAAO,CAAE,MAAO,EAAO,SAAS,CAAE,WAAY,2BAA4B,WAAI,EAAK,KAAK,GAC1I,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,eAAe,MAAO,CAAE,MAAO,EAAO,SAAS,AAAC,WAC1D,EAAK,KAAK,GAEf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAW,cAAc,8FACzB,MAAO,CAAE,GAAG,EAAiB,EAAO,YAAY,CAAE,EAAO,UAAU,CAAC,CAAE,MAAO,EAAO,MAAM,AAAC,EAC3F,QAAU,AAAD,IAAS,EAAE,eAAe,GAAI,EAAO,EAAO,WACtD,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,yGACV,MAAO,CAAE,gBAAiB,EAAO,SAAS,CAAE,MAAO,EAAO,MAAM,AAAC,EACjE,QAAS,AAAC,IAAQ,EAAE,eAAe,GAAI,EAAO,EAAO,WAErD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,UAAU,cAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,qHACV,MAAO,CAAE,gBAAiB,UAAW,MAAO,SAAU,EACtD,YAAa,AAAC,IACZ,EAAE,eAAe,GACjB,IAAM,EAAU,WAAW,KACzB,GACF,EAAG,KACG,EAAU,IAAM,aAAa,GACnC,EAAE,aAAa,CAAC,gBAAgB,CAAC,UAAW,EAAS,CAAE,MAAM,CAAK,GAClE,EAAE,aAAa,CAAC,gBAAgB,CAAC,aAAc,EAAS,CAAE,MAAM,CAAK,EACvE,EACA,aAAc,AAAC,IACb,EAAE,eAAe,GACjB,IAAM,EAAU,WAAW,KACzB,GACF,EAAG,KAEH,EAAE,aAAa,CAAC,gBAAgB,CAAC,WADjB,CAC6B,GADvB,aAAa,GACmB,CAAE,MAAM,CAAK,EACrE,EACA,QAAU,AAAD,IACP,EAAE,eAAe,GACjB,EAAS,EACX,WAEA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,UAAU,wBAQhC,STxHkC,aAAa,CIAH,AJAG,kCAxBD,KAAM,CLerB,AKfqB,CLerB,AKfqB,CAAA,ALerB,CAAA,AKf0B,AAAL,CLerB,AKf0B,OAAA,CAAU,CAAA,uCACjB,CAAA,CAAA,CAAA,CAAK,AAAL,CKAF,ALAO,OAAA,CAAU,CAAA,kBAC1C,CDAP,ACAO,ALsBwB,AahB3B,AFNJ,CXsB+B,AKtBxB,AMAP,AEMI,ATNJ,CAAA,QCAoB,CDApB,AOAiB,ENAO,CDAxB,ACAwB,OAAU,CDAlC,ACAkC,CAAA,ADAlC,CAAA,ACAkC,CAAA,ADAlC,CAAA,ACAwC,CDAxC,ACAwC,CDAxC,ACAwC,CDAxC,ACAwC,CAAA,UAAe,iDACV,CAAA,AEApD,AEAA,CJAoD,AIApD,AFAA,CFAoD,AIApD,AFAA,CFAoD,AIApD,AFAA,CFAoD,AEApD,AEAA,CJAoD,AIApD,AFAA,CAAA,AFAoD,AIApD,CFAA,AEAA,0TJQT,2KIJmB,oEACN,CTsCR,AStCQ,AJAF,GIAQ,CIMD,AJNC,CIMD,AJNC,QAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAW,CAAA,SAAY,CAAA,CAAA,CAAA,YAAgB,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,eAClE,MAAO,CFYT,AEZS,ATqDE,COzCX,AEZS,ATqDE,CAAA,ASrDF,AFYT,OEZqB,CAAA,AFYJ,CEZI,AFYJ,yBEZmC,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAU,CAAA,WACvE,CAAE,CTqDF,CSrDE,CAAA,AAAI,MAAO,CAAA,ATqDL,ESrDK,aAAoB,CAAA,IAAM,eAAgB,CAAA,CAAA,EAAK,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAU,CAAA,eEM7C,CPZtB,AJuBc,AWXQ,8FAdV,CAAA,AEMR,ATNJ,AJsB+B,AKtBpB,GMAM,CNAN,AMAM,APAjB,wNIaiC,mMNAnB,CQAf,AFAG,AJZS,AKAlB,AJAkB,AQK0D,AXOvD,AKZrB,ADYO,MJhBoB,CFenB,AEdf,CFce,AEdd,CEAA,AJcc,AWdd,ANAA,ACAA,AEAA,AEAA,ATDD,ADeyC,AEdxC,ACAA,CQAA,AXcc,AMdd,AIAA,AVcwC,AEdxC,ADDD,AECC,AEAA,AGAA,AJAA,CHDD,AOCC,AJAA,AMAA,AVcwC,AEdxC,AIAA,AHAA,AQAA,ANAA,ALcc,CAAA,GEdN,CIAA,AIAA,ARAA,AEAA,AFAE,AGAF,AGAA,ARcuC,AWdvC,AVDD,AECC,EDAE,WAAe,IAAA,YACzB,OAAQ,CMAA,ALAA,AEAA,AMAA,ALAA,AFAA,AHDA,ASCR,ARAU,AAAF,CGAE,AJDF,AWoBE,CVnBG,WAAY,IAAA,aLMb,SAAS,IACtB,IA09BgB,EAWA,EAr+BV,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAuB,WAC7D,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IACjD,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,EAAE,EACvC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,MACtD,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnD,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAuB,MAC/D,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAuC,EAAE,EACnF,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACrD,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAClE,CAAC,EAAsB,EAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3D,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/C,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,WACrD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,GAAmB,GAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrD,CAAC,GAAiB,GAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjD,CAAC,GAAoB,GAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvD,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAsB,SAC9D,CAAC,GAAQ,GAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,SACnD,CAAC,GAAW,GAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,OACrD,CAAC,GAAY,GAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,GAAiB,GAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,IAAI,KAClE,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,GAAiB,GAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,IAAI,KAClE,GAAqB,CAAA,EAAA,EAAA,MAAM,AAAN,EAAgC,MAG3D,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,KAKhB,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAGV,EAAG,CAAC,EAAc,EAElB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KA6DV,EAAG,EAAE,EAGL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAGV,EAAG,CAAC,GAAO,EAEX,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAGV,EAAG,CAAC,GAAU,EAGd,IAAM,GAAoB,KACxB,GAAuB,GACvB,WAAW,KACT,GAAoB,GACpB,GAAuB,GACvB,EAAgB,EAAE,EAClB,EAAe,MACf,EAAe,MACf,EAAqB,GACvB,EAAG,IACL,EAEM,AAHK,GAGoB,UAC7B,GAAI,EAAa,YACf,KAIF,GAA4B,EATqB,EAS7C,EAAa,MAAM,EAAU,GAAa,KAC5C,CADkD,EAC9C,CACF,GAAM,CAAE,MAAI,CAAE,CAAG,CAAY,CAAC,EAAE,CAC1B,EAAS,EAAY,EAAE,EAAI,KAAK,GAAG,GACnC,EAAW,EAAY,QAAQ,EAAI,EAAK,IAAI,CAC5C,EAAe,EAAY,KAAK,EAAI,EAAK,IAAI,CAAC,OAAO,CAAC,YAAa,IACnE,EAAQ,EAAY,KAAK,EAAI,EAAoB,EAAY,IAAI,GAAK,iBAG5E,GADoB,CAChB,CADsB,IAAI,CAAC,GAAK,EAAE,QAAQ,GAAK,EAAK,IAAI,EAC3C,CACf,EAAoB,CAAC,CAAC,EAAE,EAAK,IAAI,CAAC,4BAA4B,CAAC,EAC/D,GAAwB,GACxB,KACA,WAAW,IAAM,GAAwB,GAAQ,MACjD,WAAW,IAAM,EAAoB,MAAO,KAC5C,MACF,CAEA,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,EAAQ,GAE3B,IAAM,EAAgB,CACpB,GAAI,EACJ,MAAO,QACP,EACA,SAAU,EAAY,QAAQ,EAAI,EAAK,IAAI,UAC3C,EACA,KAAM,EAAY,IAAI,CACtB,SAAU,EAAY,QAAQ,CAC9B,YAAa,EAAY,QAAQ,CAAI,EAAY,WAAW,EAAI,QAAe,CACjF,EAEM,EAAe,IAAI,EAAO,EAAQ,CACxC,EAAS,GACT,aAAa,OAAO,CAAC,QAAS,KAAK,SAAS,CAAC,GAC/C,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,kCAAmC,EACnD,CAGF,IACF,EAyBM,GAAyB,AAAC,GACvB,CAAe,CAAC,EAAU,WAAW,GAAG,EAAI,KAG/C,GAAkB,MAAO,EAAY,EAAe,EAAuB,KAC/E,IAAM,EAAW,EAAK,IAAI,CACpB,EAAiB,EAAS,OAAO,CAAC,YAAa,IAC/C,EAAgB,EAAS,KAAK,CAAC,KAAK,GAAG,IAAI,eAAiB,GAG5D,EAAmB,GAAoB,EAE7C,GADoB,CAChB,CADiC,IAAI,CAAC,GAAK,EAAE,EAChC,MADwC,GAAK,GAAY,EAAE,QAAQ,GAAK,EAAK,IAAI,EAMhG,OAJA,EAAoB,CAAC,CAAC,EAAE,EAAS,4BAA4B,CAAC,EAC9D,GAAwB,GACxB,WAAW,IAAM,GAAwB,GAAQ,MACjD,WAAW,IAAM,EAAoB,MAAO,KACrC,EAGT,IAAM,EAAe,GAAgB,GAAuB,GACtD,EAAS,KAAK,GAAG,GAAK,CAE5B,OAAM,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,EAAQ,GAO3B,IAAM,EAA0B,CAC9B,GAAI,EACJ,MAAO,EACP,MAPiB,CAOV,CANL,EAAoB,GACpB,iBAMF,SAAU,EAAK,IAAI,CACnB,SAAU,EACV,KAAM,QAAgB,CACxB,EAEA,GAAI,EAAc,CAEhB,IAAM,EAAe,IAAI,EADT,EACmC,CAGnD,OAFA,EAAS,GACT,aAAa,OAAO,CAAC,QAAS,KAAK,SAAS,CAAC,IACtC,CACT,CAEA,OAAO,CACT,EAEM,GAAe,MAAO,IAC1B,IAAM,EAAa,EAAoB,GAGvC,GAAI,EAAa,MAAM,CAAG,EAAG,CAC3B,IAAI,EAAe,EACnB,IAAK,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,GAAI,EAC5B,EAAe,MAAM,GADqB,AACL,EAAM,EAAO,EAAM,GAE1D,EAAgB,EAAE,EAClB,KACA,MACF,CAGA,GAAI,EAAa,CAEf,IAAM,EAAe,EAAM,GAAG,CAAC,GAAK,EAAE,EAAE,GAAK,EAAY,EAAE,CAAG,CAAE,GAAG,CAAC,CAAE,KAAM,EAAM,MAAO,CAAW,EAAI,GACxG,EAAS,GACT,aAAa,OAAO,CAAC,QAAS,KAAK,SAAS,CAAC,IAE7C,EAAe,CAAE,GAAG,CAAW,CAAE,KAAM,EAAM,MAAO,CAAW,GAC3D,GACF,EAAe,CAAE,GAAG,CAAW,CAAE,EADlB,GACwB,EAAM,MAAO,CAAW,EAGnE,MAAW,CAAJ,EACL,EAAe,CACb,GAAG,CAAW,CACd,EAHoB,GAGd,EACN,MAAO,CACT,EAEJ,EAEM,GAAgB,MAAO,IAC3B,GAAK,CAAD,CAEJ,GAAI,EAAa,CACf,EAHa,EAGP,EAAe,EAAM,GAAG,CAAC,GAC7B,EAAE,EAAE,GAAK,EAAY,EAAE,CAAG,CAAE,GAAG,CAAC,CAAE,SAAU,EAAU,YAAa,EAAY,EAAI,GAErF,EAAS,GACT,aAAa,OAAO,CAAC,QAAS,KAAK,SAAS,CAAC,IAC7C,EAAe,CAAE,GAAG,CAAW,CAAE,SAAU,EAAU,YAAa,EAAY,GAC1E,GAAe,EAAY,EAAE,GAAK,EAAY,EAAE,EAAE,AACpD,EAAe,CAAE,GAAG,CAAW,CAAE,SAAU,EAAU,YAAa,EAAY,EAElF,MAAW,CAAJ,EACL,EAAe,CAAE,GAAG,CAAW,CAAE,EADX,OACqB,EAAU,YAAa,EAAY,EAElF,EAkBM,GAA2B,MAAO,IACtC,GAAI,CACF,IAAM,EAAS,IAAI,WACnB,EAAO,MAAM,CAAG,AAAC,IACf,IAAM,EAAU,EAAE,MAAM,EAAE,OAC1B,GAAc,EAChB,EACA,EAAO,OAAO,CAAG,KACf,QAAQ,KAAK,CAAC,qBAChB,EACA,EAAO,aAAa,CAAC,EACvB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,6BAA8B,EAC9C,CACF,EAoBM,GAAmB,UACvB,GAAI,CACF,IAAI,EAAgB,EAAE,CAEtB,GAAI,uBAAwB,OAAQ,CAClC,IAAM,EAAc,MAAO,OAAe,kBAAkB,CAAC,CAC3D,UAAU,CACZ,GACA,EAAQ,MAAM,QAAQ,GAAG,CAAC,EAAY,GAAG,CAAC,AAAC,GAAY,EAAG,OAAO,IACnE,MAEE,CAFK,CAEG,MAAM,IAAI,QAAgB,AAAC,IACjC,IAAM,EAAQ,SAAS,aAAa,CAAC,QACrC,GAAM,IAAI,CAAG,OACb,EAAM,QAAQ,EAAG,EACjB,EAAM,QAAQ,CAAG,AAAC,IAChB,EAAQ,MAAM,IAAI,CAAC,EAAE,MAAM,CAAC,KAAK,EAAI,EAAE,EACzC,EACA,EAAM,KAAK,EACb,GAIF,IAAM,EAA2D,EAAE,CAC/D,EAAe,EAEnB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAK,CACrC,IAAM,EAAO,CAAK,CAAC,EAAE,CACf,EAAgB,EAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,eAAiB,GAC7D,EAAe,GAAuB,GAExC,EAEF,EAAe,MAAM,GAAgB,CAFrB,CAE2B,EAAG,EAAc,GAG5D,EAAmB,IAAI,CAAC,MAAE,EAAM,MAAO,CAAE,EAE7C,CAGA,IAAM,EAA6B,EAAmB,MAAM,CAAC,CAAC,MAAE,CAAI,CAAE,IACpE,IAAM,EAAW,EAAK,IAAI,CAC1B,MAAO,CAAC,EAAa,IAAI,CAAC,GAAK,EAAE,QAAQ,GAAK,GAAY,EAAE,QAAQ,GAAK,EAAK,IAAI,CACpF,GAGA,GAAI,EAA2B,MAAM,CAAG,EAAG,CAGzC,GAFA,EAAgB,GAE0B,IAAtC,EAA2B,MAAM,CAAQ,CAC3C,IAAM,EAAW,CAA0B,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAClD,EAAiB,EAAS,OAAO,CAAC,YAAa,IACrD,EAAe,CACb,GAAI,KAAK,GAAG,GACZ,MAAO,EACP,MAAO,UACP,SAAU,EACV,SAAU,CACZ,EACF,MACE,CADK,CACU,MAEjB,GAAe,SACf,GAAoB,EACtB,MAAW,CAAJ,CAAuB,MAAM,CAAG,GAAG,CACN,GAAG,CAAjC,EAAmB,MAAM,CAC3B,EAAoB,CAAC,UAAU,EAAE,CAAkB,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,4BAA4B,CAAC,EAE9F,EAAoB,CAAC,IAAI,EAAE,EAAmB,MAAM,CAAC,2CAA2C,CAAC,EAEnG,GAAwB,GACxB,WAAW,IAAM,GAAwB,GAAQ,KACjD,WAAW,IAAM,EAAoB,MAAO,MAEhD,CAAE,MAAO,EAAU,CACA,cAAc,CAA3B,EAAI,IAAI,EACV,QAAQ,KAAK,CAAC,yBAA0B,EAE5C,CACF,EAEM,GAAiB,AAAC,IACtB,EAAe,GACf,EAAe,CAAE,GAAG,CAAK,AAAD,GACxB,GAAe,EAAK,WAAW,EAAI,SACnC,EAAoB,GACtB,EAEM,GAAmB,MAAO,IAC9B,GAAI,QAAQ,CAAC,iCAAiC,EAAE,EAAK,KAAK,CAAC,EAAE,CAAC,EAC5D,CAD+D,EAC3D,CACF,GAAM,gBAAE,CAAc,CAAE,CAAG,MAAA,EAAA,CAAA,CAAA,MAG3B,GAAmB,IACjB,IAAM,EAAO,IAAI,IAAI,GAErB,OADA,EAAK,GAAG,CAAC,EAAK,EAAE,EACT,CACT,GAEA,MAAM,IAAI,QAAQ,GAAW,WAAW,EAAS,MAEjD,MAAM,EAAe,EAAK,EAAE,EAE5B,IAAM,EAAe,EAAM,MAAM,CAAC,GAAK,EAAE,EAAE,GAAK,EAAK,EAAE,EACvD,EAAS,GACT,aAAa,OAAO,CAAC,QAAS,KAAK,SAAS,CAAC,IAE7C,GAAmB,IACjB,IAAM,EAAO,IAAI,IAAI,GAErB,OADA,EAAK,MAAM,CAAC,EAAK,EAAE,EACZ,CACT,EACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,uBAAwB,EACxC,CAEJ,EAEM,GAAsB,AAAC,IAC3B,IAAM,EAAc,IAAI,IAAI,IACxB,EAAY,GAAG,CAAC,GAClB,EAAY,IADe,EACT,CAAC,GAEnB,EAAY,GAAG,CAAC,GAElB,GAAmB,EACrB,EAUM,GAAmB,UACvB,GAA6B,GAAG,CAA5B,GAAgB,IAAI,EAEpB,QAAQ,CAAC,gCAAgC,EAAE,GAAgB,IAAI,CAAC,uCAAuC,CAAC,EAC1G,CAD6G,EACzG,CACF,GAAM,gBAAE,CAAc,CAAE,CAAG,MAAA,EAAA,CAAA,CAAA,MAS3B,IAAK,IAAM,KANX,GAAmB,IAAI,IAAI,KAG3B,MAAM,IAAI,QAAQ,GAAW,WAAW,EAAS,MAG5B,IACnB,MAAM,EAAe,GAIvB,CALsC,GAKhC,EAAe,EAAM,MAAM,CAAC,GAAK,CAAC,GAAgB,GAAG,CAAC,EAAE,EAAE,GAChE,EAAS,GACT,aAAa,OAAO,CAAC,QAAS,KAAK,SAAS,CAAC,IAC7C,GAAmB,IAAI,KACvB,GAAmB,IAAI,KACvB,IAAgB,EAClB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,wBAAyB,EACzC,CAEJ,EAEwB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAoB,MACzB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAwB,MACjC,CAAA,EAAA,EAAA,MAAM,AAAN,GAAO,GA+B7B,IAKM,EALA,CAKkB,MAAO,IAC7B,GAAI,CACF,IAAI,EAAoB,KAMxB,GAAI,CAAC,CAHL,EAAO,MAAM,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAK,GAAE,GAGnB,EAAK,QAAQ,CAAE,CAC1B,IAAM,EAAW,MAAM,MAAM,EAAK,QAAQ,EACpC,EAAO,MAAM,EAAS,IAAI,GAChC,EAAO,IAAI,KAAK,CAAC,EAAK,CAAE,EAAK,QAAQ,EAAI,EAAK,KAAK,CAAE,CAAE,KAAM,0BAA2B,GAExF,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,EAAK,EAAE,CAAE,EAC9B,CAEI,EACF,IADQ,EACF,EAAS,EAAM,EAAK,IAAI,CAAE,GAAc,SAAS,EAEvD,QAAQ,KAAK,CAAC,sBAElB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,sBAAuB,EACvC,CACF,EAcM,GAAmB,CAAC,wHAAwH,EAD7H,AAC+H,EAD/G,gBAAkB,oBAC6F,CAAc,CAE5J,GAAgB,CAAM,CAAC,EAAqC,EAAI,EAAO,OAAO,CAoB9E,GAAc,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC1B,IAAI,EAAW,IAAI,EAAM,CAGzB,GAAI,GAAgB,IAAI,GAAI,CAC1B,IAAM,EAAQ,GAAgB,WAAW,GACzC,EAAW,EAAS,MAAM,CAAC,GACzB,EAAK,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,IAClC,EAAK,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,GAEtC,CAWA,OATA,EAAS,IAAI,CAAC,CAAC,EAAG,KAChB,IAAI,EAAa,EAMjB,MALI,AAAW,SAAS,IACtB,EAAa,EAAE,KAAK,CAAC,aAAa,CAAC,EAAE,KAAK,EACjC,AAAW,UAAU,MAC9B,EAAa,EAAE,KAAK,CAAC,aAAa,CAAC,EAAE,MAAK,EAEvB,QAAd,GAAsB,EAAa,CAAC,CAC7C,GACO,CACT,EAAG,CAAC,EAAO,GAAQ,GAAW,GAAgB,EAGxC,GAAe,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC3B,GAAe,UAAU,CAArB,GACF,OAAO,KAGT,IAAM,EAAgB,CAAC,WAAY,OAAQ,OAAQ,QAAS,QAAQ,CAC9D,EAAiC,CACrC,SAAY,EAAE,CACd,KAAQ,EAAE,CACV,KAAQ,EAAE,CACV,MAAS,EAAE,CACX,MAAS,EAAE,AACb,EAEA,GAAY,OAAO,CAAC,IAElB,CAAM,CAAC,AAtDe,AAqDL,CArDM,IACzB,GAAI,CAAC,EAAM,MAAO,QAGlB,IAAK,GAAM,CAAC,EAAU,EAAQ,GAAI,OAAO,OAAO,CAAC,GAC/C,GAAI,OAAO,EADoD,IAC9C,CAAC,GAAS,QAAQ,CAAC,GAClC,IADyC,GAClC,EAGX,MAAO,QACT,EA2CuC,EAAK,IAAI,EAC5B,CAAC,IAAI,CAAC,EACxB,GAGkB,QAAQ,CAAtB,IACF,EAAc,OAAO,GAIvB,IAAM,EAAuC,CAAC,EAO9C,OANA,EAAc,OAAO,CAAC,IAChB,CAAM,CAAC,EAAS,CAAC,MAAM,CAAG,GAAG,CAC/B,CAAY,CAAC,EAAS,CAAG,CAAM,CAAC,EAAA,AAAS,CAE7C,GAEO,CACT,EAAG,CAAC,GAAa,GAAQ,GAAU,EA8MnC,MACE,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UACI,AAAD,GAGC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BAA6B,MAAO,CAAE,gBAAiB,GAAc,MAAM,CAAE,WAAY,mBAAoB,YAC1H,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC,+CAA+C,EAAE,EAAgB,+BAAiC,oDAAA,CAC1G,CACJ,QAAS,IAAM,GAAiB,KAElC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,GAAkB,MAAO,CAAE,gBAAiB,GAAc,OAAO,CAAE,UAAW,+BAAgC,YAC9H,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DAA8D,MAAO,CAAE,YAAa,GAAc,SAAS,CAAG,IAAK,YAChI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAI,eAAe,IAAI,iBAAiB,UAAU,4BACvD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wCAAwC,MAAO,CAC3D,gBAAiB,CAAC,wBAAwB,EAAE,GAAc,SAAS,CAAC,KAAK,EAAE,GAAc,SAAS,CAAC,MAAM,CAAC,CAC1G,iBAAkB,YAClB,eAAgB,YAChB,qBAAsB,OACtB,eAAgB,OAChB,oBAAqB,cACrB,MAAO,cACP,WAAY,oBACZ,cAAe,SACjB,WAAG,sBAIL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACE,CACC,CAAE,KAAM,UAAoB,KAAM,EAAU,MAAO,SAAU,EAC7D,CAAE,KAAM,SAAmB,KAAM,EAAS,MAAO,QAAS,EAC3D,CAAC,GAAG,CAAC,CAAC,MAAE,CAAI,CAAE,KAAM,CAAI,OAAE,CAAK,CAAE,CAAE,iBAClC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,WAtUR,AAsUmB,EAtUR,IAsU8B,EArUxC,GAAG,GAqU6C,GAtUvB,IACZ,CAAC,4FAAE,EAAW,aAAe,0CAAsB,AAqUhB,EACzC,MAAO,CACL,gBAAiB,IAAe,EAAO,GAAc,YAAY,CAAG,cACpE,gBAAiB,IAAe,EAAO,GAAc,SAAS,CAAG,cACjE,gBAAiB,IAAe,EAAO,MAAQ,MAC/C,MAAO,GAAc,SAAS,CAC9B,WAAY,gBACZ,UAAW,CAAC,0BAA0B,EAAE,AAAQ,KAAI,MAAM,CAAC,AAC7D,EACA,QAAS,IAAM,CArV7B,EAqV4C,GApV5C,GAAiB,MADH,QAuVA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,sCAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAiB,MAb5B,UAkBb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,2CAA2C,MAAO,CAAE,UAAW,oBAAqB,YAClG,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,iBAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yCAAyC,MAAO,CAAE,MAAO,GAAc,SAAS,CAAE,WAAY,2BAA4B,WACrI,EAAW,MAAM,CAAC,GAAG,WAAW,GAAK,EAAW,KAAK,CAAC,KAEzD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCACZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4EAA4E,MAAO,CAAE,MAAO,GAAc,SAAS,CAAE,gBAAiB,GAAc,OAAQ,AAAD,WACvK,WAzQrB,AAAmB,UAAU,CAAzB,EAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBAAqB,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,WAAG,mBAIhF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACZ,OAAO,OAAO,CAAC,GAAQ,GAAG,CAAC,CAAC,CAAC,EAAW,EAAY,GAGnD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IAAM,CA5F3B,MA6FY,UAAU,CA7FL,AA4F4B,iEAEjC,MAAO,CACL,gBAAiB,EAAY,OAAO,CACpC,YAAa,MAA6B,EAAY,SAAS,CAAhC,AAAmC,EAAY,SAAS,CAAG,KAC1F,UAAW,MAA6B,CAAC,UAAU,CAAtB,CAAwB,EAAY,SAAS,CAAC,EAAE,CAAC,CAAG,8BACnF,YAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+BAA+B,MAAO,CAAE,MAAO,EAAY,SAAS,AAAC,YAChF,GAEF,IAhBQ,GAiBP,CAAA,EAAA,EAAA,GAAA,EAAC,CADgB,KAChB,CAAI,UAAU,UAAU,KAAK,eAAe,QAAQ,YAAY,MAAO,CAAE,MAAO,EAAY,SAAS,AAAC,WACrG,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,wIAAwI,SAAS,iBAIlL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAyB,MAAO,CAAE,gBAAiB,EAAY,MAAM,AAAC,IACrF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAyB,MAAO,CAAE,gBAAiB,EAAY,OAAO,AAAC,IACtF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAyB,MAAO,CAAE,gBAAiB,EAAY,SAAS,AAAC,IACxF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAyB,MAAO,CAAE,gBAAiB,EAAY,SAAU,AAAD,SAvBpF,SAiCf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,0BAA0B,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,YAAG,UACzE,GAAY,MAAM,CAAC,OAE5B,EAAM,MAAM,CAAG,GACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,uDACV,MAAO,CACL,gBAAiB,GAAc,MAAM,CACrC,YAAa,GAAoB,GAAc,SAAS,CAAG,GAAc,SAAS,CAAG,KACrF,UAAW,GAAoB,CAAC,UAAU,EAAE,GAAc,SAAS,CAAC,EAAE,CAAC,CAAG,OAC1E,MAAO,QACP,OAAQ,MACV,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6DAA6D,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,WAClH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,UAAU,cAEpB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,GACL,KAAK,OACL,YAAY,kBACZ,MAAO,GACP,SAAU,AAAC,GAAM,GAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,QAAS,IAAM,IAAqB,GACpC,OAAQ,IAAM,IAAqB,GACnC,UAAU,+DACV,MAAO,CACL,MAAO,GAAc,SAAS,AAChC,OAGJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,wDACV,MAAO,CAAE,gBAAiB,GAAc,MAAM,CAAE,YAAa,GAAc,SAAS,CAAG,KAAM,OAAQ,MAAO,YAE5G,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAsB,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,WAAG,aAClF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,CAAE,QAAS,SAAS,CAAW,GAAG,CAAC,AAAC,GACnC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,GAAU,GACzB,UAAU,8EACV,MAAO,CACL,gBAAiB,KAAW,EAAS,GAAc,SAAS,CAAG,GAAc,OAAO,CACpF,MAAO,KAAW,EAAS,GAAc,MAAM,CAAG,GAAc,SAClE,AAD2E,WAG1E,AAAW,YAAU,QAAU,UAR3B,MAYX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAA2B,QAAd,GAAsB,OAAS,OAC3D,UAAU,+HACV,MAAO,CACL,gBAAiB,GAAc,OAAO,CACtC,MAAO,GAAc,SAAS,AAChC,WAEA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oDACE,QAAd,GAAsB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAQ,UAAU,YAAe,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,UAAU,sBAKtF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACZ,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,GACT,SAAmC,IAAzB,GAAgB,IAAI,CAC9B,UAAU,sFACV,MAAO,CACL,gBAAiB,UACjB,MAAO,GAAc,SAAS,CAC9B,QAAkC,IAAzB,GAAgB,IAAI,CAAS,GAAM,CAC9C,YACD,oBACmB,GAAgB,IAAI,CAAC,OAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAjQG,CAiQM,IAhQ3B,IAAgB,GAChB,GAAmB,IAAI,IACzB,EA+PoB,UAAU,sEACV,MAAO,CAAE,gBAAiB,GAAc,SAAS,CAAE,MAAO,GAAc,MAAM,AAAC,WAChF,cAKH,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,GACT,UAAU,sHACV,MAAO,CAAE,GAAG,EAAiB,GAAc,YAAY,CAAE,GAAc,UAAU,CAAC,CAAE,MAAO,GAAc,MAAM,CAAE,OAAQ,MAAO,YAEhI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,YAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,uBAON,WAAX,IAAuB,IACtB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACE,OAAO,OAAO,CAAC,IAAc,GAAG,CAAC,CAAC,CAAC,EAAU,EAAc,GAC1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAmB,UAAU,2BAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kDAAkD,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,WACrG,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,cAAc,MAAO,CAAE,gBAAiB,GAAc,SAAS,CAAG,IAAK,OAExF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iBAAiB,MAAO,CAAE,IAAK,MAAO,WAClD,EAAc,GAAG,CAAC,CAAC,EAAM,KACxB,IAAM,EAAiB,GAAgB,GAAG,CAAC,EAAK,EAAE,EAE5C,EAAe,EAAc,KAAK,CAAC,EAAG,GAAO,MAAM,CAAC,GAAK,CAAC,GAAgB,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAC3F,EAAsB,CAAC,EAAc,MAAM,CAAG,EAAI,CAAA,CAAK,CAAI,IACjE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAkB,MAAO,CAAE,UAAW,EAAiB,CAAC,yBAAyB,EAAE,EAAoB,UAAU,CAAC,CAAG,CAAC,wBAAwB,EAAiB,IAAf,EAAoB,MAAM,CAAC,AAAC,WAC3K,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,KAAM,EAAM,OAAQ,GAAiB,OAAQ,GAAgB,SAAU,GAAkB,SAAU,GAAqB,WAAY,GAAgB,GAAG,CAAC,EAAK,EAAE,EAAG,aAAc,GAAc,kBAAmB,IAAM,IAAgB,GAAO,OAAQ,MADxP,EAAK,EAAE,CAIrB,OAlBM,MAwBf,AAAC,EAAC,IAAqB,WAAX,EAAW,CAAQ,EAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iBAAiB,MAAO,CAAE,IAAK,MAAO,WAClD,GAAY,GAAG,CAAC,CAAC,EAAM,KACtB,IAAM,EAAiB,GAAgB,GAAG,CAAC,EAAK,EAAE,EAE5C,EAAe,GAAY,KAAK,CAAC,EAAG,GAAO,MAAM,CAAC,GAAK,CAAC,GAAgB,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CACzF,EAAsB,AAAC,IAAY,MAAM,CAAG,EAAI,CAAA,CAAK,CAAI,IAC/D,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAkB,MAAO,CAAE,UAAW,EAAiB,CAAC,yBAAyB,EAAE,EAAoB,UAAU,CAAC,CAAG,CAAC,wBAAwB,EAAiB,IAAf,EAAoB,MAAM,CAAC,AAAC,WAC3K,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,KAAM,EAAM,OAAQ,GAAiB,OAAQ,GAAgB,SAAU,GAAkB,SAAU,GAAqB,WAAY,GAAgB,GAAG,CAAC,EAAK,EAAE,EAAG,aAAc,GAAc,kBAAmB,IAAM,IAAgB,GAAO,gBAAiB,AAAC,IACxQ,EAAe,GACf,EAAe,GACf,GAAe,EAAK,WAAW,EAAI,SACnC,GAAoB,EACtB,EAAG,OAAQ,MANH,EAAK,EAAE,CASrB,aA8ED,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,+IACV,QAAS,IAAM,EAAoB,MACnC,MAAO,CACL,gBAAiB,UACjB,MAAO,GAAc,SAAS,CAC9B,WAAS,EACT,WAAY,UADoB,IAAI,UAEpC,cAAe,EAAuB,OAAS,MACjD,WAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,eAAe,QAAQ,qBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,0NAA0N,SAAS,cAEhQ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAiB,SAIvC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAU,0FAA0F,MAAO,CAAE,gBAAiB,GAAc,OAAO,CAAE,YAAa,GAAc,YAAY,CAAE,UAAW,gCAAiC,YAChP,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,sEACV,QAAS,IAAM,EAAiB,CAAC,GACjC,MAAO,CAAE,MAAO,GAAc,SAAS,CAAE,gBAAiB,EAAgB,GAAc,YAAY,CAAG,aAAc,WAEpH,EAAgB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAE,UAAU,0CAA6C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,mCAE7F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mBAEhB,CAAC,GAAoB,CAAA,CAAmB,KAAK,AAEwB,CAFvB,AAEwB,EAErE,OAAO,OAAO,CAAC,GAAe,OAAO,CAAC,CAAC,CAAC,EAAU,EAAQ,IACxD,IAAM,EAAW,OAAO,OAAO,CAAC,GAAS,MAAM,CAAC,CAAC,CAAC,EAAK,GACrD,EAAK,WAAW,GAAG,QAAQ,CAAC,EAAkB,WAAW,KAEvD,EAAS,MAAM,CAAG,GAAG,CACvB,CAAkB,CAAC,EAAS,CAAG,CAAA,CAEnC,KAEoB,GAAa,MAAQ,GAAa,KAGpD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,uGACV,QAAS,IAAM,KACf,MAAO,CAAE,UAAW,EAAsB,wBAA0B,sBAAuB,WAE3F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,gGACV,MAAO,CACL,gBAAiB,GAAc,OAAO,CACtC,YAAa,GAAc,SAAS,CAAG,KACvC,UAAW,iCACX,UAAW,EAAsB,0BAA4B,uBAC/D,EACA,QAAS,AAAC,GAAM,EAAE,eAAe,aAGjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0BAA0B,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,WAC7E,EAAc,EAAY,KAAK,CAAG,EAAa,MAAM,CAAG,EAAI,CAAC,IAAI,EAAE,EAAa,MAAM,CAAC,MAAM,CAAC,CAAG,kBAEnG,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qBAAqB,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,WAAG,kCAI9E,EAAa,MAAM,CAAG,GACrB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,qBAAqB,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,YAAG,uBACtD,EAAa,MAAM,CAAC,eAM/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2EAEZ,EAAa,MAAM,EAAI,GACtB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCAAoC,MAAO,CAAE,YAAa,GAAc,SAAS,CAAG,KAAM,gBAAiB,GAAc,MAAM,AAAC,YAC3I,GAAa,UAAY,GAAa,SACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,GAAa,UAAY,GAAa,SAC3C,IAAI,YACJ,UAAU,gBACV,MAAO,CACL,UAAW,GACX,eAAgB,QAClB,MAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uFACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QA/sBT,CA+sBkB,IA9sBvC,GAAI,EAAa,CACf,IAAM,EAAe,EAAM,GAAG,CAAC,GAC7B,EAAE,EAAE,GAAK,EAAY,EAAE,CAAG,CAAE,GAAG,CAAC,CAAE,cAAU,CAAU,EAAI,GAE5D,EAAS,GACT,aAAa,OAAO,CAAC,QAAS,KAAK,SAAS,CAAC,IAC7C,IAAM,EAAqB,CAAE,GAAG,CAAW,CAAE,cAAU,CAAU,EACjE,EAAe,GAEX,GAAe,EAAY,EAAE,GAAK,EAAY,EAAE,EAClD,AADoD,EACrC,EAEnB,MAAW,CAAJ,EACL,EAAe,CAAE,GAAG,CAAW,CAAE,EADX,YACqB,CAAU,EAEzD,EAgsBgC,UAAU,yGACV,MAAO,CAAE,gBAAiB,UAAW,MAAO,GAAc,SAAS,AAAC,WAEpE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,UAAU,mBAKxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEAAyE,MAAO,CAAE,WAAY,CAAC,wBAAwB,EAAE,GAAc,MAAM,CAAC,KAAK,EAAE,GAAc,OAAO,CAAC,MAAM,CAAC,AAAC,WAChM,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEAAqE,MAAO,CAAE,gBAAiB,GAAc,SAAS,CAAG,IAAK,WAC3I,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,EAAG,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC5G,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,kKAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sBAAsB,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,WAAG,sBAMnF,CAAC,GAAa,UAAY,GAAa,QAAA,CAAQ,EAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eAAe,MAAO,CAAE,YAAa,GAAc,SAAS,CAAG,IAAK,WACjF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,IAAM,EAAS,AAAgB,eAAY,QAAU,UACrD,GAAe,GAzwB7C,GAAI,IAAgB,EAAY,QAAQ,CAArB,CAAyB,GAAa,QAAA,CAAQ,CAAG,CAClE,IAAM,EAAe,EAAM,GAAG,CAAC,GAC7B,EAAE,EAAE,GAAK,EAAY,EAAE,CAAG,CAAE,GAAG,CAAC,CAAE,YAwwBU,CAxwBG,AAAO,EAAI,GAE5D,EAAS,GACT,aAAa,OAAO,CAAC,QAAS,KAAK,SAAS,CAAC,IAC7C,EAAe,CAAE,GAAG,CAAW,CAAE,aAAoB,AAAP,GAC1C,GAAe,EAAY,EAAE,GAAK,EAAY,EAAE,EAAE,AACpD,EAAe,CAAE,GAAG,CAAW,CAAE,aAAoB,AAAP,EAElD,MAAW,CAAJ,EAAmB,EAAY,QAAQ,EAAE,AAC9C,EAAe,CAAE,GAAG,CAAW,CAAE,aAAa,AAAO,EAgwB3B,EACA,UAAU,iGACV,MAAO,CACL,gBAAiB,GAAc,SAAS,CACxC,MAAO,GAAc,MAAM,AAC7B,WAEiB,YAAhB,GAA4B,eAAiB,oBAIpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,eAAe,MAAO,CAAE,YAAa,GAAc,SAAS,CAAG,IAAK,YACjF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,OAAO,UACP,SAAU,AAAC,IACT,IAAM,EAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,CAC5B,GACF,GADQ,AACiB,EAE7B,EACA,UAAU,SACV,GAAG,yBAEL,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,QAAQ,uBACR,UAAU,uGACV,MAAO,CACL,GAAK,GAAa,UAAY,GAAa,SAAY,CAAE,gBAAiB,GAAc,SAAU,AAAD,EAAK,EAAiB,GAAc,YAAY,CAAE,GAAc,UAAU,CAAC,CAC5K,MAAO,GAAc,MAAM,AAC7B,WAEC,GAAc,UAAY,GAAa,SAAY,eAAiB,6BAQ/E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAA,EAAG,EAAa,MAAM,CAAG,EAAI,SAAW,SAAS,sBAAsB,CAAC,WACtF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,mEACV,MAAO,CACL,gBAAiB,GAAc,MAAM,CACrC,YAAa,EAAgB,GAAc,SAAS,CAAG,GAAc,SAAS,CAAG,KACjF,UAAW,EAAgB,CAAC,UAAU,EAAE,GAAc,SAAS,CAAC,EAAE,CAAC,CAAG,MACxE,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2DAA2D,MAAO,CAAE,MAAO,GAAc,SAAU,AAAD,WAC/G,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,UAAU,cAEpB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,oBACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAqB,EAAE,MAAM,CAAC,KAAK,EACpD,QAAS,IAAM,GAAiB,GAChC,OAAQ,IAAM,GAAiB,GAC/B,UAAU,6DACV,MAAO,CACL,MAAO,GAAc,SAAS,AAChC,EACA,SAAS,CAAA,CAAA,OAIb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDACZ,OAAO,OAAO,CAAC,GAAoB,GAAG,CAAC,CAAC,CAAC,EAAU,EAAQ,GAC1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAmB,UAAU,2BAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kDAAkD,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,WACrG,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,cAAc,MAAO,CAAE,gBAAiB,GAAc,SAAS,CAAG,IAAK,OAExF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mDACZ,EAAQ,GAAG,CAAC,CAAC,CAAC,EAAM,EAAK,CAAE,KAC1B,IAAM,EAAa,IAAgB,EACnC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,UAAU,0HACV,MAAO,CACL,gBAAiB,EAAa,GAAc,SAAS,CAAG,GAAc,YAAY,CAClF,YAAa,EAAa,GAAc,SAAS,CAAG,GAAc,SAAS,CAAG,KAC9E,MAAO,EAAa,GAAc,MAAM,CAAG,GAAc,SAAS,CAClE,UAAW,+BACX,UAAW,CAAC,qBAAqB,EAAU,IAAR,EAAa,MAAM,CAAC,AACzD,EACA,aAAe,AAAD,IACP,IACH,EAAE,MADa,OACA,CAAC,KAAK,CAAC,eAAe,CAAG,GAAc,SAAS,CAAG,KAClE,EAAE,aAAa,CAAC,KAAK,CAAC,WAAW,CAAG,GAAc,SAAS,CAAG,KAElE,EACA,aAAc,AAAC,IACR,IACH,EAAE,MADa,OACA,CAAC,KAAK,CAAC,eAAe,CAAG,GAAc,YAAY,CAClE,EAAE,aAAa,CAAC,KAAK,CAAC,WAAW,CAAG,GAAc,SAAS,CAAG,KAElE,EACA,QAAS,IAAM,GAAa,aAE5B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kEACb,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEACZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,eAAe,QAAQ,qBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,wIAAwI,SAAS,kBA7B7K,EAmCX,OA/CM,IAmDgC,IAA3C,OAAO,IAAI,CAAC,GAAoB,MAAM,EACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBAAoB,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,YACzE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uEAAuE,MAAO,CAAE,gBAAiB,GAAc,SAAS,CAAG,IAAK,WAC7I,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,oDAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6BAA6B,MAAO,CAAE,MAAO,GAAc,SAAS,AAAC,WAAG,qBACrF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,4CAO5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CAA4C,MAAO,CAAE,YAAa,GAAc,SAAS,CAAG,IAAK,YAC7G,CAAC,GAAwC,IAAxB,EAAa,MAAM,EAAU,CAAA,CAAY,EACzD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,sEACV,MAAO,CAAE,GAAG,EAAiB,GAAc,YAAY,CAAE,GAAc,UAAU,CAAC,CAAE,MAAO,GAAc,MAAO,AAAD,EAC/G,QAAS,YACV,SAIH,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,sEACV,MAAO,CAAE,gBAAiB,GAAc,SAAS,CAAE,MAAO,GAAc,MAAM,AAAC,EAC/E,QAAS,IAAM,cAEd,EAAc,SAAW,sBA1VxC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BAA6B,MAAO,CAAE,gBAAiB,UAAW,WAAY,mBAAoB,KAqWzH","ignoreList":[3,4,5,6,7,8,9,10,11,12,13,14,15,16]}