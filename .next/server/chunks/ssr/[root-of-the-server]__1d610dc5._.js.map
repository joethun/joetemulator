{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../src/lib/storage.ts"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","const DB_NAME = 'joetemulator';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'gameFiles';\n\nlet db: IDBDatabase | null = null;\n\nfunction openDB(): Promise<IDBDatabase> {\n  return new Promise((resolve, reject) => {\n    if (typeof window === 'undefined' || !window.indexedDB) {\n      reject(new Error('IndexedDB not supported'));\n      return;\n    }\n\n    if (db) {\n      resolve(db);\n      return;\n    }\n\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\n\n    request.onerror = () => reject(request.error);\n    request.onsuccess = () => {\n      db = request.result;\n      resolve(db);\n    };\n\n    request.onupgradeneeded = (event) => {\n      const database = (event.target as IDBOpenDBRequest).result;\n      if (!database.objectStoreNames.contains(STORE_NAME)) {\n        database.createObjectStore(STORE_NAME);\n      }\n    };\n  });\n}\n\nasync function executeStoreOperation<T>(\n  mode: IDBTransactionMode,\n  operation: (store: IDBObjectStore) => IDBRequest<T>\n): Promise<T> {\n  const database = await openDB();\n  return new Promise((resolve, reject) => {\n    const transaction = database.transaction([STORE_NAME], mode);\n    const store = transaction.objectStore(STORE_NAME);\n    const request = operation(store);\n    \n    request.onerror = () => reject(request.error);\n    request.onsuccess = () => resolve(request.result);\n  });\n}\n\nexport async function saveGameFile(gameId: number, file: File): Promise<void> {\n  await executeStoreOperation('readwrite', (store) => store.put(file, gameId));\n}\n\nexport async function getGameFile(gameId: number): Promise<File | null> {\n  const result = await executeStoreOperation('readonly', (store) => store.get(gameId));\n  return result || null;\n}\n\nexport async function deleteGameFile(gameId: number): Promise<void> {\n  await executeStoreOperation('readwrite', (store) => store.delete(gameId));\n}\n\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"0NA0BQG,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEC,eAAe,8BCFxCP,GAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEE,KAAK,yBCA9B,IAAM,EAAa,YAiCnB,eAAe,EACb,CAAwB,CACxB,CAAmD,EAEnD,IAAM,EAAW,MAhCV,AAgCgB,IAhCZ,QAAQ,CAAC,EAAS,KAEzB,EAAO,AAAI,MAAM,2BAuBrB,GAQA,OAAO,IAAI,QAAQ,CAAC,EAAS,KAG3B,IAAM,EAAU,EAFI,AACN,EADe,MAEH,KAFc,CAAC,CAAC,EAAW,CAAE,GAC7B,WAAW,CAAC,IAGtC,EAAQ,OAAO,CAAG,IAAM,EAAO,EAAQ,KAAK,EAC5C,EAAQ,SAAS,CAAG,IAAM,EAAQ,EAAQ,MAAM,CAClD,EACF,CAEO,eAAe,EAAa,CAAc,CAAE,CAAU,EAC3D,MAAM,EAAsB,YAAa,AAAC,GAAU,EAAM,GAAG,CAAC,EAAM,GACtE,CAEO,eAAe,EAAY,CAAc,EAE9C,OADe,AACR,MADc,EAAsB,WAAY,AAAC,GAAU,EAAM,GAAG,CAAC,KAC3D,IACnB,CAEO,eAAe,EAAe,CAAc,EACjD,MAAM,EAAsB,YAAa,AAAC,GAAU,EAAM,MAAM,CAAC,GACnE","ignoreList":[0,1,2]}